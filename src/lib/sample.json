[
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9607",
    "id": 1141845624,
    "node_id": "PR_kwDOBkswNc4zBFJv",
    "number": 9607,
    "title": "fix(pushnotification): deprecated build.gradle",
    "user": {
      "login": "Simon-TechForm",
      "id": 73996878,
      "node_id": "MDQ6VXNlcjczOTk2ODc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/73996878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Simon-TechForm",
      "html_url": "https://github.com/Simon-TechForm",
      "followers_url": "https://api.github.com/users/Simon-TechForm/followers",
      "following_url": "https://api.github.com/users/Simon-TechForm/following{/other_user}",
      "gists_url": "https://api.github.com/users/Simon-TechForm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Simon-TechForm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Simon-TechForm/subscriptions",
      "organizations_url": "https://api.github.com/users/Simon-TechForm/orgs",
      "repos_url": "https://api.github.com/users/Simon-TechForm/repos",
      "events_url": "https://api.github.com/users/Simon-TechForm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Simon-TechForm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-17T20:38:01Z",
    "updated_at": "2022-02-17T21:03:32Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9607",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9607",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9607.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9607.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\nReplaces deprecated use of `compile` with `implementation` and removes redundant `firebase-jobdispatcher` dependency in `build.gradle`.\r\n\r\nSince `react-native@0.65.0` `firebase-jobdispatcher` is no longer resolved, likely due to the removal of the jcenter repository. See [react native docs](https://reactnative.dev/blog/2021/08/17/version-065#notable-dependency-version-updates-and-gotchas) & #9537.\r\nWhile looking for a solution, I noticed that I don't see the dependency being used anywhere in the java code? I believe that it's an unused leftover. Please feel free to sanity check me on this. Removing the dependency (obviously) fixes it not being resolved, but also doesn't introduce any other errors.\r\n\r\n`react-native@0.68.0` bumps gradle to 7.x which removes the `compile` configuration. See: [gradle docs](https://docs.gradle.org/current/userguide/upgrading_version_6.html#sec:configuration_removal) & #9606\r\n\r\n#### Issue #, if available\r\nFixes #9537 & #9606\r\n\r\n#### Description of how you validated changes\r\nImplemented the changes in a local `react-native@0.68.0-rc.1` project, which now builds and runs successfully.\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9607/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9605",
    "id": 1141375881,
    "node_id": "I_kwDOBkswNc5ECAOJ",
    "number": 9605,
    "title": "EAS build apk giving \"Authentication Error\" on every operation on Auth screen",
    "user": {
      "login": "amol9372",
      "id": 20081129,
      "node_id": "MDQ6VXNlcjIwMDgxMTI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20081129?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amol9372",
      "html_url": "https://github.com/amol9372",
      "followers_url": "https://api.github.com/users/amol9372/followers",
      "following_url": "https://api.github.com/users/amol9372/following{/other_user}",
      "gists_url": "https://api.github.com/users/amol9372/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amol9372/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amol9372/subscriptions",
      "organizations_url": "https://api.github.com/users/amol9372/orgs",
      "repos_url": "https://api.github.com/users/amol9372/repos",
      "events_url": "https://api.github.com/users/amol9372/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amol9372/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-17T14:00:09Z",
    "updated_at": "2022-02-17T15:46:25Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\nSystem:\r\n    OS: macOS 12.2.1\r\n    CPU: (8) x64 Intel(R) Core(TM) i5-8257U CPU @ 1.40GHz\r\n    Memory: 3.03 GB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.1 - ~/.nvm/versions/node/v16.13.1/bin/node\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.1/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.102\r\n    Safari: 15.3\r\n  npmPackages:\r\n    @babel/core: ^7.12.9 => 7.16.0\r\n    @react-native-async-storage/async-storage: ~1.15.0 => 1.15.17\r\n    @react-native-community/masked-view: ^0.1.11 => 0.1.11\r\n    @react-native-community/netinfo: ^6.2.1 => 6.2.1\r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1\r\n    @react-navigation/native: ^6.0.6 => 6.0.6 (3.8.4)\r\n    @react-navigation/native-stack: ^6.2.5 => 6.2.5\r\n    HelloWorld:  0.0.1\r\n    amazon-cognito-identity-js: ^5.2.6 => 5.2.6\r\n    aws-amplify: ^4.3.14 => 4.3.14\r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2\r\n    axios: ^0.24.0 => 0.24.0 (0.21.4)\r\n    axios-debug-log: ^0.8.4 => 0.8.4\r\n    expo: ~43.0.2 => 43.0.5\r\n    expo-linking: ~2.4.2 => 2.4.2\r\n    expo-modules-core: ~0.4.10 => 0.4.10\r\n    expo-notifications: ~0.13.3 => 0.13.3\r\n    expo-permissions: ~13.0.3 => 13.0.3\r\n    expo-status-bar: ~1.1.0 => 1.1.0\r\n    expo-updates: ~0.10.15 => 0.10.15\r\n    expo-web-browser: ~10.0.3 => 10.0.3\r\n    hermes-inspector-msggen:  1.0.0\r\n    react: 17.0.1 => 17.0.1\r\n    react-dom: 17.0.1 => 17.0.1\r\n    react-moment: ^1.1.1 => 1.1.1\r\n    react-native: 0.64.3 => 0.64.3\r\n    react-native-config: ^1.4.5 => 1.4.5\r\n    react-native-device-info: ^8.4.8 => 8.4.8\r\n    react-native-dotenv: ^3.3.1 => 3.3.1\r\n    react-native-dropdown-picker: ^5.3.0 => 5.3.0\r\n    react-native-elements: ^3.4.2 => 3.4.2\r\n    react-native-form-validator: ^0.5.1 => 0.5.1\r\n    react-native-safe-area-context: 3.3.2 => 3.3.2\r\n    react-native-screens: ~3.8.0 => 3.8.0\r\n    react-native-selection-group: 2.0.0 => 2.0.0\r\n    react-native-toast-message: ^2.1.1 => 2.1.1\r\n    react-native-web: 0.17.1 => 0.17.1\r\n    react-navigation: ^4.4.4 => 4.4.4\r\n    react-navigation-header-buttons: ^8.0.0 => 8.0.0\r\n    react-navigation-stack: ^2.10.4 => 2.10.4\r\n    react-navigation-tabs: ^2.11.1 => 2.11.1\r\n  npmGlobalPackages:\r\n    corepack: 0.10.0\r\n    eas-cli: 0.47.0\r\n    expo-cli: 5.1.2\r\n    npm: 8.1.2\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI am trying to install a standalone apk on my Android Device with `EAS build`. The apk is generated and the application also opens. But on any operation on the Amplify Auth UI, it says \"**Authentication Error**\". no matter what the credentials are.\r\n**It works completely fine with the classic expo build**\r\n\r\nI have added the necessary `amazon-cognito-identity-js` which is required for EAS build\r\nThe application is running fine on emulators and expo-go client but apk is failing. \n\n### Expected behavior\n\nThe app should be able to login or give appropriate errors if the credentials are incorrect\n\n### Reproduction steps\n\n1. Configure eas.json and add a build profile\r\n`\"preview\": {\r\n      \"android\": {\r\n        \"buildType\": \"apk\"\r\n      }\r\n    }`\r\n   \r\n2. Run eas build -p android --profile preview\r\n\r\n3. Install apk on device or emulator\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n```javascript\r\nconst awsmobile = {\r\n    \"aws_project_region\": \"ap-south-1\",\r\n    \"aws_cognito_identity_pool_id\": \"ap-south-1:9a33eabd-*************\",\r\n    \"aws_cognito_region\": \"ap-south-1\",\r\n    \"aws_user_pools_id\": \"ap-south-1_******\",\r\n    \"aws_user_pools_web_client_id\": \"6ut3183km********\",\r\n    \"oauth\": {},\r\n    \"aws_cognito_username_attributes\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_cognito_social_providers\": [],\r\n    \"aws_cognito_signup_attributes\": [\r\n        \"EMAIL\",\r\n        \"PHONE_NUMBER\"\r\n    ],\r\n    \"aws_cognito_mfa_configuration\": \"OFF\",\r\n    \"aws_cognito_mfa_types\": [\r\n        \"SMS\"\r\n    ],\r\n    \"aws_cognito_password_protection_settings\": {\r\n        \"passwordPolicyMinLength\": 8,\r\n        \"passwordPolicyCharacters\": []\r\n    },\r\n    \"aws_cognito_verification_mechanisms\": [\r\n        \"EMAIL\"\r\n    ]\r\n};\r\n\r\nexport default awsmobile;\r\n```\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\nOnePlus 8 pro\n\n### Mobile Operating System\n\nAndroid 11\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n![Screenshot_20220217-192801](https://user-images.githubusercontent.com/20081129/154496770-8233ab24-2f07-4467-ba1d-68c6569e30c5.jpeg)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9605/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9599",
    "id": 1140571547,
    "node_id": "I_kwDOBkswNc5D-72b",
    "number": 9599,
    "title": "React Native - AWSS3Provider - ensure credentials error cannot get guest credentials",
    "user": {
      "login": "blakecallens",
      "id": 39135,
      "node_id": "MDQ6VXNlcjM5MTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/39135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blakecallens",
      "html_url": "https://github.com/blakecallens",
      "followers_url": "https://api.github.com/users/blakecallens/followers",
      "following_url": "https://api.github.com/users/blakecallens/following{/other_user}",
      "gists_url": "https://api.github.com/users/blakecallens/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blakecallens/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blakecallens/subscriptions",
      "organizations_url": "https://api.github.com/users/blakecallens/orgs",
      "repos_url": "https://api.github.com/users/blakecallens/repos",
      "events_url": "https://api.github.com/users/blakecallens/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blakecallens/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188232669,
        "node_id": "MDU6TGFiZWwzMTg4MjMyNjY5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-response",
        "name": "pending-response",
        "color": "f477a5",
        "default": false,
        "description": "Issue is pending response from the issue requestor"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "Samaritan1011001",
      "id": 10944487,
      "node_id": "MDQ6VXNlcjEwOTQ0NDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10944487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Samaritan1011001",
      "html_url": "https://github.com/Samaritan1011001",
      "followers_url": "https://api.github.com/users/Samaritan1011001/followers",
      "following_url": "https://api.github.com/users/Samaritan1011001/following{/other_user}",
      "gists_url": "https://api.github.com/users/Samaritan1011001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Samaritan1011001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Samaritan1011001/subscriptions",
      "organizations_url": "https://api.github.com/users/Samaritan1011001/orgs",
      "repos_url": "https://api.github.com/users/Samaritan1011001/repos",
      "events_url": "https://api.github.com/users/Samaritan1011001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Samaritan1011001/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "Samaritan1011001",
        "id": 10944487,
        "node_id": "MDQ6VXNlcjEwOTQ0NDg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10944487?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Samaritan1011001",
        "html_url": "https://github.com/Samaritan1011001",
        "followers_url": "https://api.github.com/users/Samaritan1011001/followers",
        "following_url": "https://api.github.com/users/Samaritan1011001/following{/other_user}",
        "gists_url": "https://api.github.com/users/Samaritan1011001/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Samaritan1011001/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Samaritan1011001/subscriptions",
        "organizations_url": "https://api.github.com/users/Samaritan1011001/orgs",
        "repos_url": "https://api.github.com/users/Samaritan1011001/repos",
        "events_url": "https://api.github.com/users/Samaritan1011001/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Samaritan1011001/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2022-02-16T20:48:08Z",
    "updated_at": "2022-02-17T19:40:59Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication, Storage\n\n### Amplify Categories\n\nauth, storage\n\n### Environment information\n\n<details>\r\n\r\n```\r\nSystem:\r\n    OS: Linux 5.13 Ubuntu 20.04.3 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-4570S CPU @ 2.90GHz\r\n    Memory: 597.18 MB / 15.52 GB\r\n    Container: Yes\r\n    Shell: 5.8 - /usr/bin/zsh\r\n  Binaries:\r\n    Node: 14.18.2 - /usr/bin/node\r\n    npm: 6.14.15 - /usr/bin/npm\r\n    Watchman: 20220130.171601.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Firefox: 96.0\r\n  npmPackages:\r\n    @apollo/client: ^3.5.8 => 3.5.8 \r\n    @apollo/client/cache:  undefined ()\r\n    @apollo/client/core:  undefined ()\r\n    @apollo/client/errors:  undefined ()\r\n    @apollo/client/link/batch:  undefined ()\r\n    @apollo/client/link/batch-http:  undefined ()\r\n    @apollo/client/link/context:  undefined ()\r\n    @apollo/client/link/core:  undefined ()\r\n    @apollo/client/link/error:  undefined ()\r\n    @apollo/client/link/http:  undefined ()\r\n    @apollo/client/link/persisted-queries:  undefined ()\r\n    @apollo/client/link/retry:  undefined ()\r\n    @apollo/client/link/schema:  undefined ()\r\n    @apollo/client/link/utils:  undefined ()\r\n    @apollo/client/link/ws:  undefined ()\r\n    @apollo/client/react:  undefined ()\r\n    @apollo/client/react/components:  undefined ()\r\n    @apollo/client/react/context:  undefined ()\r\n    @apollo/client/react/hoc:  undefined ()\r\n    @apollo/client/react/hooks:  undefined ()\r\n    @apollo/client/react/parser:  undefined ()\r\n    @apollo/client/react/ssr:  undefined ()\r\n    @apollo/client/testing:  undefined ()\r\n    @apollo/client/testing/core:  undefined ()\r\n    @apollo/client/utilities:  undefined ()\r\n    @apollo/client/utilities/globals:  undefined ()\r\n    @babel/core: ^7.12.9 => 7.16.12 \r\n    @babel/runtime: ^7.12.5 => 7.16.7 \r\n    @fortawesome/fontawesome-svg-core: ^1.2.36 => 1.2.36 \r\n    @fortawesome/free-solid-svg-icons: ^5.15.4 => 5.15.4 \r\n    @fortawesome/react-native-fontawesome: ^0.2.7 => 0.2.7 \r\n    @react-native-async-storage/async-storage: ^1.15.17 => 1.15.17 \r\n    @react-native-community/eslint-config: ^2.0.0 => 2.0.0 \r\n    @react-native-community/netinfo: ^7.1.9 => 7.1.9 \r\n    @react-native-masked-view/masked-view: ^0.2.6 => 0.2.6 \r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1 \r\n    @types/jest: ^26.0.23 => 26.0.24 \r\n    @types/lodash-es: ^4.17.6 => 4.17.6 \r\n    @types/luxon: ^2.0.9 => 2.0.9 \r\n    @types/react-native: ^0.66.15 => 0.66.15 \r\n    @types/react-test-renderer: ^17.0.1 => 17.0.1 \r\n    @typescript-eslint/eslint-plugin: ^5.7.0 => 5.10.2 (3.10.1)\r\n    @typescript-eslint/parser: ^5.7.0 => 5.10.2 (3.10.1)\r\n    HelloWorld:  0.0.1 \r\n    amazon-cognito-identity-js: ^5.2.6 => 5.2.6 \r\n    aws-amplify: ^4.3.14 => 4.3.14 \r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2 \r\n    babel-jest: ^26.6.3 => 26.6.3 \r\n    eslint: ^7.14.0 => 7.32.0 \r\n    graphql: ^16.3.0 => 16.3.0 (15.8.0)\r\n    hermes-inspector-msggen:  1.0.0 \r\n    intl: ^1.2.5 => 1.2.5 \r\n    jest: ^26.6.3 => 26.6.3 \r\n    lodash-es: ^4.17.21 => 4.17.21 \r\n    luxon: ^2.3.0 => 2.3.0 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 \r\n    native-base: ^3.3.4 => 3.3.4 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-native: 0.67.1 => 0.67.1 \r\n    react-native-device-info: ^8.4.9 => 8.4.9 \r\n    react-native-linear-gradient: ^2.5.6 => 2.5.6 \r\n    react-native-safe-area-context: ^3.3.2 => 3.3.2 \r\n    react-native-skeleton-placeholder: ^5.0.0 => 5.0.0 \r\n    react-native-svg: ^12.1.1 => 12.1.1 \r\n    react-router-native: ^6.2.1 => 6.2.1 \r\n    react-test-renderer: 17.0.2 => 17.0.2 \r\n    rn-fetch-blob: ^0.12.0 => 0.12.0 \r\n    typescript: ^4.4.4 => 4.5.5 \r\n  npmGlobalPackages:\r\n    @angular/cli: 13.1.2\r\n    eslint: 7.29.0\r\n    npm: 6.14.15\r\n    webpack-bundle-analyzer: 4.5.0\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nAfter authentication using the `aws-amplify-react-native` library, a call to `Storage.get` with values that work on web throws:\r\n```\r\n AWSS3Provider - ensure credentials error cannot get guest credentials when mandatory signin enabled\r\n```\r\nThis appears similar to issues #1273 and #6096, which were resolved in updated versions of the library. This leads me to believe that this fix has perhaps not been migrated to `aws-amplify-react-native`, because I previously encountered an issue with that library's use of a deprecated `AsyncStorage` module, which required a workaround.\n\n### Expected behavior\n\nAfter logging in through the `Auth` library, `Storage.get` should make use of the session.\n\n### Reproduction steps\n\n1. Install `aws-amplify` and `aws-amplify-react-native` in a React Native project.\r\n2. Configure Amplify for Cognito and S3.\r\n3. Use `Auth` to sign in through Cognito.\r\n4. Attempt to connect to S3 through the Storage library.\n\n### Code Snippet\n\n```TypeScript\r\nimport {environment} from '../../environment';\r\nimport Amplify from 'aws-amplify';\r\n\r\n// ...\r\n\r\nconst region = 'us-east-1';\r\nAmplify.configure({\r\n  Auth: {\r\n    region,\r\n    identityPoolId: environment.cognito.IdentityPoolId,\r\n    userPoolId: environment.cognito.UserPoolId,\r\n    userPoolWebClientId: environment.cognito.ClientId,\r\n    authenticationFlowType: 'USER_PASSWORD_AUTH',\r\n    mandatorySignIn: true,\r\n  },\r\n  Storage: {\r\n    AWSS3: {\r\n      bucket: environment.s3.Bucket,\r\n      region,\r\n      customPrefix: {\r\n        public: '',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// ... After sign in through Cognito\r\nconst rawFiles: S3ProviderListOutputItem[] = await Storage.list('[s3-url]');\r\n// Error thrown\r\n```\r\n\n\n### Log output\n\n<details>\r\n WARN  [WARN] 40:27.67 AWSS3Provider - ensure credentials error cannot get guest credentials when mandatory signin enabled\r\n ERROR  [Error: No credentials]\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\nAndroid emulator\n\n### Mobile Operating System\n\nAndroid 11\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n![Screenshot_1645044320](https://user-images.githubusercontent.com/39135/154354000-1e76b7a7-2534-428e-bfab-42ed82ed8c32.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9599/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9597",
    "id": 1140328742,
    "node_id": "I_kwDOBkswNc5D-Akm",
    "number": 9597,
    "title": "After updating amplify datastore schema.graphql file, application in production without these updates do not synchronize",
    "user": {
      "login": "cliffordten",
      "id": 42556976,
      "node_id": "MDQ6VXNlcjQyNTU2OTc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42556976?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cliffordten",
      "html_url": "https://github.com/cliffordten",
      "followers_url": "https://api.github.com/users/cliffordten/followers",
      "following_url": "https://api.github.com/users/cliffordten/following{/other_user}",
      "gists_url": "https://api.github.com/users/cliffordten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cliffordten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cliffordten/subscriptions",
      "organizations_url": "https://api.github.com/users/cliffordten/orgs",
      "repos_url": "https://api.github.com/users/cliffordten/repos",
      "events_url": "https://api.github.com/users/cliffordten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cliffordten/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "manueliglesias",
      "id": 6154160,
      "node_id": "MDQ6VXNlcjYxNTQxNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6154160?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/manueliglesias",
      "html_url": "https://github.com/manueliglesias",
      "followers_url": "https://api.github.com/users/manueliglesias/followers",
      "following_url": "https://api.github.com/users/manueliglesias/following{/other_user}",
      "gists_url": "https://api.github.com/users/manueliglesias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/manueliglesias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/manueliglesias/subscriptions",
      "organizations_url": "https://api.github.com/users/manueliglesias/orgs",
      "repos_url": "https://api.github.com/users/manueliglesias/repos",
      "events_url": "https://api.github.com/users/manueliglesias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/manueliglesias/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "manueliglesias",
        "id": 6154160,
        "node_id": "MDQ6VXNlcjYxNTQxNjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6154160?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/manueliglesias",
        "html_url": "https://github.com/manueliglesias",
        "followers_url": "https://api.github.com/users/manueliglesias/followers",
        "following_url": "https://api.github.com/users/manueliglesias/following{/other_user}",
        "gists_url": "https://api.github.com/users/manueliglesias/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/manueliglesias/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/manueliglesias/subscriptions",
        "organizations_url": "https://api.github.com/users/manueliglesias/orgs",
        "repos_url": "https://api.github.com/users/manueliglesias/repos",
        "events_url": "https://api.github.com/users/manueliglesias/events{/privacy}",
        "received_events_url": "https://api.github.com/users/manueliglesias/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "svidgen",
        "id": 8375502,
        "node_id": "MDQ6VXNlcjgzNzU1MDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8375502?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svidgen",
        "html_url": "https://github.com/svidgen",
        "followers_url": "https://api.github.com/users/svidgen/followers",
        "following_url": "https://api.github.com/users/svidgen/following{/other_user}",
        "gists_url": "https://api.github.com/users/svidgen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svidgen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svidgen/subscriptions",
        "organizations_url": "https://api.github.com/users/svidgen/orgs",
        "repos_url": "https://api.github.com/users/svidgen/repos",
        "events_url": "https://api.github.com/users/svidgen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svidgen/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-16T17:13:11Z",
    "updated_at": "2022-02-17T16:17:59Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nDataStore\n\n### Amplify Categories\n\napi\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n  System:\r\n    OS: macOS 11.6\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz\r\n    Memory: 21.24 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 12.22.6 - ~/.nvm/versions/node/v12.22.6/bin/node\r\n    Yarn: 1.22.15 - ~/.yarn/bin/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v12.22.6/bin/npm\r\n    Watchman: 2021.10.18.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Safari: 15.0\r\n  npmPackages:\r\n    @aws-amplify/datastore-storage-adapter: ^1.2.2 => 1.2.2 \r\n    @azure/core-asynciterator-polyfill: ^1.0.0 => 1.0.0 \r\n    @babel/core: ^7.12.9 => 7.15.8 (7.9.0)\r\n    @babel/runtime: ^7.12.9 => 7.15.4 \r\n    @expo/vector-icons: ^12.0.4 => 12.0.5 \r\n    @react-native-async-storage/async-storage: ^1.15.9 => 1.15.9 \r\n    @react-native-community/clipboard: ^1.5.1 => 1.5.1 \r\n    @react-native-community/datetimepicker: ^3.4.3 => 3.5.2 \r\n    @react-native-community/masked-view: ^0.1.10 => 0.1.11 \r\n    @react-native-community/netinfo: ^6.0.2 => 6.0.2 \r\n    @react-native-firebase/analytics: ^14.0.1 => 14.0.1 \r\n    @react-native-firebase/app: ^14.1.0 => 14.1.0 \r\n    @react-native-firebase/crashlytics: ^14.1.0 => 14.1.0 \r\n    @react-native-firebase/dynamic-links: ^14.1.0 => 14.1.0 \r\n    @react-navigation/bottom-tabs: ^5.11.9 => 5.11.15 \r\n    @react-navigation/material-bottom-tabs: ^6.0.7 => 6.0.9 \r\n    @react-navigation/native: ^6.0.4 => 6.0.6 \r\n    @react-navigation/native-stack: ^6.2.2 => 6.2.5 \r\n    HelloWorld:  0.0.1 \r\n    amazon-cognito-identity-js: ^5.2.0 => 5.2.0 (5.2.3)\r\n    aws-amplify: ^4.3.8 => 4.3.8 \r\n    aws-amplify-react-native: ^5.0.4 => 5.0.4 \r\n    axios: ^0.23.0 => 0.23.0 (0.21.4)\r\n    babel-jest: ~25.2.6 => 25.2.6 (26.6.3)\r\n    babel-plugin-transform-remove-console: ^6.9.4 => 6.9.4 \r\n    core-js: ^3.12.1 => 3.18.3 (1.2.7, 2.6.12)\r\n    diff-match-patch: ^1.0.5 => 1.0.5 \r\n    eslint: ^7.27.0 => 7.32.0 \r\n    eslint-plugin-react: ^7.24.0 => 7.26.1 \r\n    eslint-plugin-react-hooks: ^4.2.0 => 4.2.0 \r\n    eslint-plugin-react-native: ^3.11.0 => 3.11.0 \r\n    expo: ~41.0.0 => 41.0.1 \r\n    expo-av: ^9.1.2 => 9.2.3 \r\n    expo-document-picker: ~9.1.2 => 9.1.2 \r\n    expo-file-system: ~11.0.2 => 11.0.2 \r\n    expo-image-picker: ~10.1.3 => 10.1.4 \r\n    expo-localization: ~10.1.0 => 10.1.0 \r\n    expo-media-library: ^12.0.2 => 12.1.2 \r\n    expo-print: ~10.1.0 => 10.1.0 \r\n    expo-sharing: ^9.1.2 => 9.2.1 \r\n    expo-status-bar: ~1.0.4 => 1.0.4 \r\n    expo-updates: ~0.5.4 => 0.5.5 \r\n    expo-web-browser: ~9.1.0 => 9.1.0 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    jest: ~26.6.3 => 26.6.3 \r\n    lottie-ios: ~3.1.8 => 3.1.9 \r\n    lottie-react-native: 4.0.2 => 4.0.2 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 (0.59.0)\r\n    millify: ^4.0.0 => 4.0.0 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-fast-compare: ^3.2.0 => 3.2.0 (2.0.4)\r\n    react-native: ~0.66.4 => 0.66.4 \r\n    react-native-app-link: ^1.0.1 => 1.0.1 \r\n    react-native-background-fetch: ^4.0.4 => 4.0.4 \r\n    react-native-bootsplash: ^3.2.2 => 3.2.6 \r\n    react-native-cn-quill: ^0.7.0 => 0.7.14 \r\n    react-native-code-push: ^7.0.4 => 7.0.4 \r\n    react-native-color-picker: ^0.6.0 => 0.6.0 \r\n    react-native-device-info: ^8.4.7 => 8.4.7 \r\n    react-native-draggable-flatlist: ^2.6.1 => 2.6.2 \r\n    react-native-elements: ^3.4.2 => 3.4.2 \r\n    react-native-fast-image: ^8.3.4 => 8.5.11 \r\n    react-native-flipper: ^0.111.0 => 0.111.0 \r\n    react-native-gesture-handler: ~1.10.2 => 1.10.3 \r\n    react-native-get-random-values: ^1.7.0 => 1.7.0 \r\n    react-native-material-menu: ^1.2.0 => 1.2.0 \r\n    react-native-modal: ^11.10.0 => 11.10.0 \r\n    react-native-modal-datetime-picker: ^11.0.0 => 11.1.0 \r\n    react-native-pager-view: ^5.4.4 => 5.4.7 \r\n    react-native-paper: ^4.9.2 => 4.9.2 \r\n    react-native-phone-number-input: ^2.1.0 => 2.1.0 \r\n    react-native-popup-menu: ^0.15.10 => 0.15.11 \r\n    react-native-reanimated: ^2.2.2 => 2.2.3 \r\n    react-native-render-html: ^6.0.5 => 6.1.0 \r\n    react-native-safe-area-context: ^3.3.2 => 3.3.2 (3.2.0)\r\n    react-native-screens: ^3.9.0 => 3.9.0 \r\n    react-native-select-dropdown: ^1.4.0 => 1.4.0 \r\n    react-native-share: ^5.2.2 => 5.3.0 \r\n    react-native-simple-toast: ^1.1.3 => 1.1.3 \r\n    react-native-skeleton-placeholder: ^3.0.4 => 3.0.4 \r\n    react-native-sqlite-storage: ^6.0.1 => 6.0.1 \r\n    react-native-svg: ^12.1.1-0 => 12.1.1 \r\n    react-native-svg-transformer: ^0.14.3 => 0.14.3 \r\n    react-native-tab-view: ^3.1.1 => 3.1.1 \r\n    react-native-table-component: ^1.2.1 => 1.2.1 \r\n    react-native-tags: ^2.2.0 => 2.2.1 \r\n    react-native-unimodules: ~0.13.3 => 0.13.3 \r\n    react-native-url-polyfill: ^1.3.0 => 1.3.0 \r\n    react-native-vector-icons: ^8.1.0 => 8.1.0 \r\n    react-native-web: ~0.13.12 => 0.13.18 \r\n    react-native-webview: ^11.6.5 => 11.14.1 \r\n    react-redux: ^7.2.5 => 7.2.5 \r\n    react-test-renderer: ~17.0.2 => 17.0.2 \r\n    redux: ^4.1.1 => 4.1.1 \r\n    redux-devtools-extension: ^2.13.9 => 2.13.9 \r\n    redux-flipper: ^2.0.1 => 2.0.1 \r\n    redux-persist: ^6.0.0 => 6.0.0 \r\n    redux-persist/integration/react:  undefined ()\r\n    redux-thunk: ^2.3.0 => 2.3.0 \r\n    reselect: ^4.0.0 => 4.0.0 (3.0.1)\r\n    shortid: ^2.2.16 => 2.2.16 \r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2, 7.0.2, 7.0.3)\r\n    victory-native: ^35.3.2 => 35.5.5 \r\n    xmldom: ^0.5.0 => 0.5.0 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.3\r\n    eas-cli: 0.44.1\r\n    expo-cli: 5.1.2\r\n    npm: 6.14.15\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nThe problem is this: When we want to add a new functionality, it sometimes happens that the database schema is modified. When this modification is done and we have executed the amplify push command, the backend is updated. Unfortunately the application in production with the old schema **can no longer synchronize**. Also all the operations performed from that moment on this application remain locally and the data are never sent to the server again. As a consequence when Play store or App store validate the update, this update **wipes all the local data and are thus definitively lost**.\n\n### Expected behavior\n\nThe loss of data leads to a bad experience for our users. So we want this schema change not to affect the data of the application in production before and after the update.\r\n\r\n`Suggestions: could we just do a local merge of the entities? So existing local fields that no longer exist on the server are ignored during write operations and read operations accept all other added fields but set the values to null`\n\n### Reproduction steps\n\n1. Build application with schema on react-native and installed on 2 mobile devices\r\n2. Make write operation from first device and observe changes from the second device.\r\n3. update schema and push. \r\n4. Do same write operation from first device or second device. Notice the updates are no does not exit.\r\n5. No data reaches the server.\r\n6. Install the application with the updated schema. Notice that the data is lost.\r\n\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9597/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9596",
    "id": 1140208283,
    "node_id": "I_kwDOBkswNc5D9jKb",
    "number": 9596,
    "title": "Inconsistency between the responses of an aws appsync query and the data available on aws dynamo.",
    "user": {
      "login": "frankarnaud",
      "id": 25694857,
      "node_id": "MDQ6VXNlcjI1Njk0ODU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25694857?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frankarnaud",
      "html_url": "https://github.com/frankarnaud",
      "followers_url": "https://api.github.com/users/frankarnaud/followers",
      "following_url": "https://api.github.com/users/frankarnaud/following{/other_user}",
      "gists_url": "https://api.github.com/users/frankarnaud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frankarnaud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frankarnaud/subscriptions",
      "organizations_url": "https://api.github.com/users/frankarnaud/orgs",
      "repos_url": "https://api.github.com/users/frankarnaud/repos",
      "events_url": "https://api.github.com/users/frankarnaud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frankarnaud/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-16T15:38:06Z",
    "updated_at": "2022-02-17T16:19:41Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nNot applicable\r\n\r\n### Amplify APIs\r\n\r\nGraphQL API\r\n\r\n### Amplify Categories\r\n\r\napi\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n   System:\r\n    OS: macOS 11.6\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz\r\n    Memory: 224.57 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.17.6 - /usr/local/bin/node\r\n    Yarn: 1.22.11 - /usr/local/bin/yarn\r\n    npm: 6.14.15 - /usr/local/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Safari: 15.0\r\n  npmPackages:\r\n    @aws-amplify/datastore-storage-adapter: ^1.2.2 => 1.2.6 \r\n    @azure/core-asynciterator-polyfill: ^1.0.0 => 1.0.2 \r\n    @babel/core: ^7.12.9 => 7.17.2 (7.9.0)\r\n    @babel/runtime: ^7.12.9 => 7.17.2 \r\n    @expo/vector-icons: ^12.0.4 => 12.0.5 \r\n    @gorhom/bottom-sheet: ^4 => 4.1.5 \r\n    @react-native-async-storage/async-storage: ^1.15.9 => 1.16.1 \r\n    @react-native-community/clipboard: ^1.5.1 => 1.5.1 \r\n    @react-native-community/datetimepicker: ^3.4.3 => 3.5.2 \r\n    @react-native-community/masked-view: ^0.1.10 => 0.1.11 \r\n    @react-native-community/netinfo: ^6.0.2 => 6.2.1 \r\n    @react-navigation/material-bottom-tabs: ^6.0.7 => 6.1.1 \r\n    @react-navigation/native: ^6.0.4 => 6.0.8 \r\n    @react-navigation/native-stack: ^6.2.2 => 6.5.0 \r\n    amazon-cognito-identity-js: ^5.2.0 => 5.2.6 \r\n    aws-amplify: ^4.3.8 => 4.3.14 \r\n    aws-amplify-react-native: ^5.0.4 => 5.0.5 \r\n    axios: ^0.23.0 => 0.23.0 (0.21.4)\r\n    babel-jest: ~25.2.6 => 25.2.6 (26.6.3)\r\n    babel-plugin-transform-remove-console: ^6.9.4 => 6.9.4 \r\n    core-js: ^3.12.1 => 3.21.0 (1.2.7, 2.6.12)\r\n    diff-match-patch: ^1.0.5 => 1.0.5 \r\n    eslint: ^7.27.0 => 7.32.0 \r\n    eslint-plugin-react: ^7.24.0 => 7.28.0 \r\n    eslint-plugin-react-hooks: ^4.2.0 => 4.3.0 \r\n    eslint-plugin-react-native: ^3.11.0 => 3.11.0 \r\n    expo: ~41.0.0 => 41.0.1 \r\n    expo-av: ^9.1.2 => 9.2.3 \r\n    expo-document-picker: ~9.1.2 => 9.1.2 \r\n    expo-file-system: ~11.0.2 => 11.0.2 \r\n    expo-image-picker: ~10.1.3 => 10.1.4 \r\n    expo-localization: ~10.1.0 => 10.1.0 \r\n    expo-media-library: ^12.0.2 => 12.1.2 \r\n    expo-print: ~10.1.0 => 10.1.0 \r\n    expo-sharing: ^9.1.2 => 9.2.1 \r\n    expo-status-bar: ~1.0.4 => 1.0.4 \r\n    expo-updates: ~0.5.4 => 0.5.5 \r\n    expo-web-browser: ~9.1.0 => 9.1.0 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    jest: ~26.6.3 => 26.6.3 \r\n    lottie-ios: ~3.1.8 => 3.1.9 \r\n    lottie-react-native: 4.0.2 => 4.0.2 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 (0.59.0)\r\n    millify: ^4.0.0 => 4.0.0 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-fast-compare: ^3.2.0 => 3.2.0 (2.0.4)\r\n    react-native: ~0.66.4 => 0.66.4 \r\n    react-native-app-link: ^1.0.1 => 1.0.1 \r\n    react-native-background-fetch: ^4.0.4 => 4.0.5 \r\n    react-native-bootsplash: ^3.2.2 => 3.2.7 \r\n    react-native-cn-quill: ^0.7.0 => 0.7.15 \r\n    react-native-code-push: ^7.0.4 => 7.0.4 \r\n    react-native-color-picker: ^0.6.0 => 0.6.0 \r\n    react-native-device-info: ^8.4.7 => 8.4.9 \r\n    react-native-draggable-flatlist: ^2.6.1 => 2.6.2 \r\n    react-native-elements: ^3.4.2 => 3.4.2 \r\n    react-native-fast-image: ^8.3.4 => 8.5.11 \r\n    react-native-final-tree-view: ^3.0.0 => 3.0.0 \r\n    react-native-flipper: ^0.111.0 => 0.111.0 \r\n    react-native-gesture-handler: ~1.10.2 => 1.10.3 \r\n    react-native-get-random-values: ^1.7.0 => 1.7.2 \r\n    react-native-material-menu: ^1.2.0 => 1.2.0 \r\n    react-native-modal: ^11.10.0 => 11.10.0 \r\n    react-native-modal-datetime-picker: ^11.0.0 => 11.1.0 \r\n    react-native-pager-view: ^5.4.4 => 5.4.9 \r\n    react-native-paper: ^4.9.2 => 4.11.2 \r\n    react-native-phone-number-input: ^2.1.0 => 2.1.0 \r\n    react-native-popup-menu: ^0.15.10 => 0.15.12 \r\n    react-native-reanimated: ^2.2.2 => 2.4.1 \r\n    react-native-render-html: ^6.0.5 => 6.3.4 \r\n    react-native-safe-area-context: ^3.3.2 => 3.3.2 (3.2.0)\r\n    react-native-screens: ^3.9.0 => 3.11.1 \r\n    react-native-select-dropdown: ^1.4.0 => 1.8.0 \r\n    react-native-share: ^5.2.2 => 5.3.0 \r\n    react-native-simple-toast: ^1.1.3 => 1.1.3 \r\n    react-native-skeleton-placeholder: ^3.0.4 => 3.0.4 \r\n    react-native-sqlite-storage: ^6.0.1 => 6.0.1 \r\n    react-native-svg: ^12.1.1-0 => 12.1.1 \r\n    react-native-svg-transformer: ^0.14.3 => 0.14.3 \r\n    react-native-tab-view: ^3.1.1 => 3.1.1 \r\n    react-native-table-component: ^1.2.1 => 1.2.2 \r\n    react-native-tags: ^2.2.0 => 2.2.1 \r\n    react-native-unimodules: ~0.13.3 => 0.13.3 \r\n    react-native-url-polyfill: ^1.3.0 => 1.3.0 \r\n    react-native-vector-icons: ^8.1.0 => 8.1.0 \r\n    react-native-web: ~0.13.12 => 0.13.18 \r\n    react-native-webview: ^11.6.5 => 11.17.2 \r\n    react-redux: ^7.2.5 => 7.2.6 \r\n    react-test-renderer: ~17.0.2 => 17.0.2 \r\n    recyclerlistview: ^3.0.5 => 3.0.5 \r\n    redux: ^4.1.1 => 4.1.2 \r\n    redux-devtools-extension: ^2.13.9 => 2.13.9 \r\n    redux-flipper: ^2.0.1 => 2.0.1 \r\n    redux-persist: ^6.0.0 => 6.0.0 \r\n    redux-persist/integration/react:  undefined ()\r\n    redux-thunk: ^2.3.0 => 2.4.1 \r\n    reselect: ^4.0.0 => 4.1.5 (3.0.1)\r\n    rn-range-slider: ^2.1.1 => 2.1.1 \r\n    shortid: ^2.2.16 => 2.2.16 \r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2, 7.0.2, 7.0.3)\r\n    victory-native: ^35.3.2 => 35.5.5 \r\n    xmldom: ^0.5.0 => 0.5.0 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.19\r\n    appcenter-cli: 2.10.6\r\n    expo-cli: 4.12.0\r\n    npm: 6.14.15\r\n    yarn: 1.22.11\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nWhen we use the appsync service from the interface provided by AWS to make graphql queries of the data available in our aws dynamoDB database, the responses to these queries are inconsistent (mostly return nothing). However, these exist in our database. We use our mobile app made with react-native and amplify datastore for operations.\r\n\r\n### Expected behavior\r\n\r\nWe expect correct responses from requests made with appsync with the data available in dynamoDB.\r\n\r\n### Reproduction steps\r\n\r\n1. make amplify init in react native project\r\n2. add amplify categories(auth, api, storage, ...)\r\n3. make datastore save operation on model type.\r\n4. visit the dynamoDB to view data.\r\n5. make query on appsync to view data.\r\n6. error: `data for some reason is not available.`\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\ntype Article\r\n  @model(subscriptions: { onDelete: null })\r\n  @auth(\r\n    rules: [\r\n      {\r\n        allow: owner\r\n        ownerField: \"belongTo\"\r\n        identityClaim: \"custom:managerName\"\r\n      }\r\n      { allow: private, provider: iam, operations: [read, update] }\r\n      { allow: public, provider: iam, operations: [read] }\r\n    ]\r\n  ) {\r\n  id: ID!\r\n  name: String\r\n  priceOut: Float\r\n  priceIn: Float\r\n  currentQty: Float\r\n  ...\r\n  parentCloneID: ID\r\n  isOnline: Boolean\r\n   articleGroupID: ID\r\n  rootPath: [String]\r\n  ... \r\n  storeID: ID\r\n  belongTo: String!\r\n}\r\nconst data = {/* some data */}\r\nawait DataStore.save(new Article(data));\r\n\r\n```\r\n\r\nThis is a query from dynamo console.\r\n![Screenshot 2022-02-16 at 16 40 52](https://user-images.githubusercontent.com/25694857/154301538-17d83eca-e2aa-4755-8d7c-b47ed3345c58.png)\r\n\r\nThis is same query but in appsync console.\r\n![Screenshot 2022-02-16 at 16 27 18](https://user-images.githubusercontent.com/25694857/154298432-ebb24b52-5438-421f-b5d9-b12208a09373.png)\r\n\r\nYou can notice the responses are different.\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9596/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9592",
    "id": 1138993656,
    "node_id": "I_kwDOBkswNc5D46n4",
    "number": 9592,
    "title": "bug with SOFTWARE_TOKEN_MFA if you use `CUSTOM_AUTH` flow",
    "user": {
      "login": "Fomin2402",
      "id": 37749241,
      "node_id": "MDQ6VXNlcjM3NzQ5MjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/37749241?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fomin2402",
      "html_url": "https://github.com/Fomin2402",
      "followers_url": "https://api.github.com/users/Fomin2402/followers",
      "following_url": "https://api.github.com/users/Fomin2402/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fomin2402/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fomin2402/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fomin2402/subscriptions",
      "organizations_url": "https://api.github.com/users/Fomin2402/orgs",
      "repos_url": "https://api.github.com/users/Fomin2402/repos",
      "events_url": "https://api.github.com/users/Fomin2402/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fomin2402/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-15T17:25:25Z",
    "updated_at": "2022-02-17T16:19:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (8) x64 Apple M1\r\n    Memory: 25.52 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.0 - ~/.nvm/versions/node/v14.18.0/bin/node\r\n    Yarn: 1.22.11 - /usr/local/bin/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.0/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @aws-amplify/auth: ^4.4.1 => 4.4.1 \r\n    @babel/core: 7.15.5 => 7.15.5 (7.16.0, 7.12.3, 7.13.8)\r\n    @babel/node: ^7.0.0 => 7.16.0 \r\n    @babel/plugin-proposal-class-properties: 7.14.5 => 7.14.5 (7.16.0, 7.12.1)\r\n    @babel/preset-env: 7.15.6 => 7.15.6 (7.12.1)\r\n    @babel/preset-react: ^7.0.0 => 7.16.0 (7.12.1)\r\n    @fortawesome/fontawesome-svg-core: ^1.2.0-14 => 1.2.36 \r\n    @fortawesome/free-solid-svg-icons: ^5.12.0 => 5.15.4 \r\n    @fortawesome/react-fontawesome: 0.1.15 => 0.1.15 \r\n    @freshes/jsdoc-template: ^1.0.0 => 1.0.0 \r\n    @hookform/resolvers: ^2.8.5 => 2.8.5 \r\n    @lingui/babel-preset-react: ^2.9.2 => 2.9.2 \r\n    @lingui/cli: ^2.9.0 => 2.9.2 \r\n    @lingui/core: ^2.9.0 => 2.9.2 \r\n    @lingui/react: ^2.9.0 => 2.9.2 \r\n    @testing-library/react: ^12.1.0 => 12.1.2 \r\n    @wojtekmaj/enzyme-adapter-react-17: ^0.6.3 => 0.6.5 \r\n    amazon-cognito-identity-js: ^5.1.0 => 5.2.3 (5.2.6)\r\n    apollo-link: ^1.2.4 => 1.2.14 \r\n    apollo-link-http: ^1.5.7 => 1.5.17 \r\n    babel-core: ^7.0.0-bridge.0 => 7.0.0-bridge.0 \r\n    babel-eslint: ^10.1.0 => 10.1.0 \r\n    babel-jest: ^27.1.1 => 27.3.1 \r\n    babel-loader: ^8.1.0 => 8.2.3 \r\n    babel-plugin-dynamic-import-node: ^2.3.3 => 2.3.3 \r\n    babel-plugin-lodash: ^3.3.2 => 3.3.4 \r\n    babel-plugin-named-asset-import: ^0.3.7 => 0.3.7 \r\n    babel-plugin-styled-components: ^1.11.1 => 1.13.3 \r\n    babel-plugin-syntax-dynamic-import: 6.18.0 => 6.18.0 \r\n    babel-preset-react-app: ^10.0.0 => 10.0.0 \r\n    bfj: ^7.0.2 => 7.0.2 \r\n    big.js: ^6.1.1 => 6.1.1 (5.2.2, 3.2.0)\r\n    bip39: ^3.0.4 => 3.0.4 \r\n    camelize: ^1.0.0 => 1.0.0 \r\n    case-sensitive-paths-webpack-plugin: ^2.1.2 => 2.4.0 \r\n    chokidar: ^3.5.2 => 3.5.2 (2.1.8)\r\n    class-validator:  1.0.0 \r\n    clipboard: ^2.0.1 => 2.0.8 \r\n    computed-types:  1.0.0 \r\n    copy-webpack-plugin: ^6.4.1 => 6.4.1 \r\n    cross-env: ^7.0.3 => 7.0.3 \r\n    cypress: ^8.3.1 => 8.7.0 \r\n    decamelize: ^4.0.0 => 4.0.0 (1.2.0)\r\n    docdash: 1.2.0 => 1.2.0 \r\n    docs:  0.0.0 \r\n    dotenv: ^10.0.0 => 10.0.0 \r\n    dotenv-expand: ^5.1.0 => 5.1.0 \r\n    effector: ^22.1.1 => 22.1.2 \r\n    effector-logger: ^0.10.0 => 0.10.0 \r\n    effector-react: ^22.0.4 => 22.0.4 \r\n    enzyme: ^3.11.0 => 3.11.0 \r\n    eslint: ^7.32.0 => 7.32.0 \r\n    eslint-config-airbnb: ^18.2.1 => 18.2.1 \r\n    eslint-config-prettier: ^8.3.0 => 8.3.0 \r\n    eslint-config-react-app: ^6.0.0 => 6.0.0 \r\n    eslint-config-standard: ^16.0.3 => 16.0.3 \r\n    eslint-import-resolver-webpack: 0.13.1 => 0.13.1 \r\n    eslint-loader: ^4.0.2 => 4.0.2 \r\n    eslint-plugin-flowtype: ^5.9.2 => 5.10.0 \r\n    eslint-plugin-import: ^2.14.0 => 2.25.3 \r\n    eslint-plugin-jsx-a11y: ^6.1.1 => 6.5.1 \r\n    eslint-plugin-node: ^11.1.0 => 11.1.0 \r\n    eslint-plugin-prettier: ^4.0.0 => 4.0.0 \r\n    eslint-plugin-promise: ^5.1.0 => 5.1.1 \r\n    eslint-plugin-react: ^7.11.1 => 7.27.0 \r\n    eslint-plugin-react-hooks: ^1.6.1 => 1.7.0 \r\n    eslint-plugin-standard: ^5.0.0 => 5.0.0 \r\n    file-loader: ^6.1.1 => 6.2.0 \r\n    fs-extra: ^10.0.0 => 10.0.0 (9.1.0, 8.1.0, 7.0.1)\r\n    graphql: ^15.5.3 => 15.7.2 \r\n    graphql-tag: ^2.10.0 => 2.12.6 \r\n    history: ^5.0.1 => 5.1.0 (4.10.1)\r\n    html-webpack-plugin: ^4.5.2 => 4.5.2 (3.2.0)\r\n    husky: ^3.1.0 => 3.1.0 \r\n    io-ts:  1.0.0 \r\n    isomorphic-unfetch: ^3.0.0 => 3.1.0 \r\n    jest: ^27.1.1 => 27.3.1 \r\n    jest-canvas-mock: ^2.2.0 => 2.3.1 \r\n    joi:  1.0.0 \r\n    jsdoc: ^3.5.5 => 3.6.7 \r\n    jsdoc-babel: 0.5.0 => 0.5.0 \r\n    jsdom: ^17.0.0 => 17.0.0 (16.7.0)\r\n    lint-staged: ^11.1.2 => 11.2.6 \r\n    live-server: ^1.2.0 => 1.2.1 \r\n    lodash: ^4.17.21 => 4.17.21 \r\n    markdown-jsx-loader: ^3.0.2 => 3.0.2 \r\n    moment: ^2.21.0 => 2.29.1 \r\n    nope:  1.0.0 \r\n    numeral: ^2.0.6 => 2.0.6 \r\n    opn: ^6.0.0 => 6.0.0 (5.5.0)\r\n    path: 0.12.7 => 0.12.7 \r\n    plop: ^2.7.4 => 2.7.6 \r\n    plop-example:  undefined ()\r\n    prettier: ^2.2.1 => 2.4.1 \r\n    prop-types: ^15.6.0 => 15.7.2 \r\n    qrcode.react: 1.0.1 => 1.0.1 \r\n    query-string: ^7.0.1 => 7.0.1 (6.14.1, 5.1.1)\r\n    rc-tooltip: ^5.1.1 => 5.1.1 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-dev-utils: ^11.0.3 => 11.0.4 \r\n    react-document-title: ^2.0.3 => 2.0.3 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-flip-move: ^3.0.4 => 3.0.4 \r\n    react-google-recaptcha-v3: 1.9.7 => 1.9.7 \r\n    react-hook-form: ^7.23.0 => 7.23.0 \r\n    react-hot-loader: ^4.3.3 => 4.13.0 \r\n    react-modal: ^3.4.5 => 3.14.4 \r\n    react-on-screen: ^2.1.0 => 2.1.1 \r\n    react-redux: ^7.2.5 => 7.2.6 \r\n    react-router-dom: ^5.3.0 => 5.3.0 \r\n    react-svg-loader: 3.0.3 => 3.0.3 \r\n    react-transition-group: ^4.4.2 => 4.4.2 (2.9.0)\r\n    react-transition-group/CSSTransition:  undefined ()\r\n    react-transition-group/ReplaceTransition:  undefined ()\r\n    react-transition-group/SwitchTransition:  undefined ()\r\n    react-transition-group/Transition:  undefined ()\r\n    react-transition-group/TransitionGroup:  undefined ()\r\n    react-transition-group/TransitionGroupContext:  undefined ()\r\n    react-transition-group/config:  undefined ()\r\n    redux: ^4.1.1 => 4.1.2 \r\n    redux-mock-store: ^1.5.1 => 1.5.4 \r\n    redux-thunk: ^2.2.0 => 2.4.0 \r\n    reselect: ^4.0.0 => 4.1.4 \r\n    style-loader: ^3.2.1 => 3.3.1 \r\n    styled-components: ^5.3.1 => 5.3.3 \r\n    styled-components/macro:  undefined ()\r\n    styled-components/native:  undefined ()\r\n    styled-components/primitives:  undefined ()\r\n    styled-normalize: ^8.0.7 => 8.0.7 \r\n    stylelint: ^13.13.1 => 13.13.1 \r\n    stylelint-config-standard: ^22.0.0 => 22.0.0 \r\n    stylelint-config-styled-components: 0.1.1 => 0.1.1 \r\n    stylelint-processor-styled-components: ^1.10.0 => 1.10.0 \r\n    superstruct:  1.0.0 \r\n    terser-webpack-plugin: ^4.2.3 => 4.2.3 (1.4.5)\r\n    tinycolor2: ^1.4.1 => 1.4.2 \r\n    tweetnacl: ^1.0.0 => 1.0.3 (0.14.5)\r\n    tweetnacl-util: 0.15.1 => 0.15.1 \r\n    typanion:  1.0.0 \r\n    ua-parser-js: 0.7.28 => 0.7.28 \r\n    uglifyjs-webpack-plugin: ^2.2.0 => 2.2.0 \r\n    url-loader: ^4.1.1 => 4.1.1 \r\n    url-polyfill: ^1.0.13 => 1.1.12 \r\n    vest:  1.0.0 \r\n    webpack: ^4.44.2 => 4.46.0 \r\n    webpack-bundle-analyzer: ^4.4.2 => 4.5.0 \r\n    webpack-cli: 4.2.0 => 4.2.0 \r\n    webpack-dev-server: ^3.11.1 => 3.11.3 \r\n    webpack-manifest-plugin: ^2.2.0 => 2.2.0 \r\n    yup: ^0.32.11 => 0.32.11 (1.0.0)\r\n    zod:  1.0.0 \r\n  npmGlobalPackages:\r\n    npm: 6.14.15\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nThe main problem is in [Custom Auth Challenge Lambda Triggers](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-challenge.html)\r\n\r\nOn the project we use Amplify.js (Auth library) on frontend (react) and AWS Cognito User Pool (as a part of infrastructure) on the server side.\r\n\r\nAs you can see here at [docs](https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-authentication-flow.html#amazon-cognito-user-pools-client-side-authentication-flow), AWS Cognito provides different ways how to use its [authentication functional](https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-authentication-flow.html#amazon-cognito-user-pools-client-side-authentication-flow):\r\n\r\nAuth Flows Configurations:\r\n\r\n- `ALLOW_ADMIN_USER_PASSWORD_AUTH`\r\n- `ALLOW_CUSTOM_AUTH`\r\n- `ALLOW_USER_PASSWORD_AUTH`\r\n- `ALLOW_USER_SRP_AUTH`\r\n- `ALLOW_REFRESH_TOKEN_AUTH`\r\n\r\nThere was `ALLOW_USER_SRP_AUTH` by default, which provide users to use SOFTWARE MFA as the 2th authentication factor.\r\n\r\nlater we ran into a problem with bruteforcing our users accounts.\r\n\r\nSo at first we'd like to try setup Firewall for our Cognito User Pool (but we discovered that in our case it's impossible to setup custom domain for Cognito User Pool with CloudFlare (for example), or somehow override setup Cognito's default Firewall, cause we relize that default Cognito's Firewall is quite silly and fails to do its job). So, the idea with firewall seems not work.\r\n\r\nOk, next one what we decided to try was to add Google recaptcha v3. Frontend requests google for a recaptcha and then puts it to a metadata at `Auth.signIn` .On the server side recaptcha is processed at `PreAuth` Lambda trigger. It only worked for a couple of months, cause we got situation:\r\nwhen attackers try to bruteforce our app with thousands of request from hundreds IPs, recaptcha v3 goes crazy and returns very low score (from 0.1 to 0.3) for all requests (good users also get low score and can't login)\r\n\r\nSo, we decide to try to implement [Custom Auth Challenge Lambda Triggers](https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-lambda-challenge.html), cause this allows us to move recaptcha validation to a next steps and to implement our custom DDOS protection mechanism at `PreAuth` trigger.\r\n\r\nSo, the SignIn request flow will be like this:\r\n\r\n1. Frontend call `Auth.signIn` and send first request to Cognito with action `AWSCognitoIdentityProviderService.InitiateAuth`. Cognito `PreAuth` trigger validates this request with our custom DDOS protection mechanism, if everything is ok, request processing will be continue, otherwise auth flow will be stopped with error.\r\n\r\n2. After `PreAuth` trigger this request will be processed at `DefineAuthChallenge` trigger, which will recognize that this is an initial request (cause it has only `challengeName === \"SRP_A\"`) and answer with a resposne:\r\n\r\n```js\r\nresponse = {\r\n  issueTokens: false,\r\n  failAuthentication: false,\r\n  challengeName: \"PASSWORD_VERIFIER\",\r\n};\r\n```\r\n\r\n3. Frontend will process this response under the hood with help of Amplify.auth and send next request to Cognito with action `AWSCognitoIdentityProviderService.RespondToAuthChallenge` with `challengeName: \"PASSWORD_VERIFIER\"`.\r\n   This request will be processed at `DefineAuthChallenge` trigger again, but will response with:\r\n\r\n```js\r\nresponse = {\r\n  issueTokens: false,\r\n  failAuthentication: false,\r\n  challengeName: \"CUSTOM_CHALLENGE\",\r\n};\r\n```\r\n\r\nAnd then (cause we return `challengeName: \"CUSTOM_CHALLENGE\"` ) `CreateAuthChallenge` trigger will intercept this response to create **our custom challenge**.\r\n\r\n4. Frontend will process this response with `challengeName: \"CUSTOM_CHALLENGE` , use recaptcha as an answer and send request to Cognito with action `AWSCognitoIdentityProviderService.RespondToAuthChallenge` with `challengeName: \"CUSTOM_CHALLENGE`.\r\n\r\n5. This request will be processed at `VerifyAuthChallengeResponse` trigger (just recaptcha v3 server side validation based on score)\r\n\r\n**SO**, the whole flow works fine if users use only one factor for authentication, in our case its login with password.\r\n**BUT** if user has a second authentication factor (in our case it's optional for users) such as `SOFTWARE_TOKEN_MFA`, the flow will be broken on step, when the client receives a response from Cognito! (even if the MFA validation was successful) with Error `Cannot read properties of undefined (reading 'NewDeviceMetadata')`.\r\n\r\n**BTW**:\r\nSome time ago, we received an advice from AWS Support about how to protect from bruteforcing:\r\njust use our [Adding advanced security feature](https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pool-settings-advanced-security.html) with additional charges and everything will be fine!\r\n\r\n**BUT**:\r\n\r\n- it looks like magic pandora box\r\n- we tested it on staging for a half of year and it doesn't work so well as they said\r\n\r\nAlso there is a question on [stackoverflow](https://stackoverflow.com/questions/71115387/software-token-mfa-fails-if-try-to-use-custom-auth-challenge-lambda-triggers).\r\n\n\n### Expected behavior\n\nJust to add that we're seeing exactly the same issue here.\r\n\r\n - Configure the User Pool Client  auth flow configuration to use `ALLOW_CUSTOM_AUTH `\r\n - Configure the User Pool to remember users' devices\r\n - Create user.\r\n - Enable MFA (Software Token)\r\n - Logout\r\n - Clear local browser cache\r\n - Auth.signIn (with `ChallengeName: \"PASSWORD_VERIFIER\"`)\r\n - Auth.confirmSignIn (with `ChallengeName: \"SOFTWARE_TOKEN_MFA\"`)\r\n - Auth.sendCustomChallengeAnswer (with `ChallengeName: \"SOFTWARE_TOKEN_MFA\"`)\r\n - Succes login, receive id, access and refresh tokens\n\n### Reproduction steps\n\n - Configure the User Pool Client  auth flow configuration to use `ALLOW_CUSTOM_AUTH `\r\n - Configure the User Pool to remember users' devices\r\n - Create user.\r\n - Enable MFA (Software Token)\r\n - Logout\r\n - Clear local browser cache\r\n - Auth.signIn (with `ChallengeName: \"PASSWORD_VERIFIER\"`)\r\n - Auth.confirmSignIn (with `ChallengeName: \"SOFTWARE_TOKEN_MFA\"`)\r\n - Receive error: `Cannot read properties of undefined (reading 'NewDeviceMetadata')`\n\n### Code Snippet\n\n**DefineAuthChallenge trigger**:\r\n\r\n```typescript\r\nexport const handler: Handler<DefineAuthChallengeTriggerEvent> = (\r\n  event: DefineAuthChallengeTriggerEvent,\r\n  context: Context,\r\n  callback: Callback<DefineAuthChallengeTriggerEvent>,\r\n) => {\r\n  if (\r\n    event.request.session.length == 1 &&\r\n    event.request.session[0].challengeName == \"SRP_A\"\r\n  ) {\r\n    event.response.issueTokens = false;\r\n    event.response.failAuthentication = false;\r\n    event.response.challengeName = \"PASSWORD_VERIFIER\";\r\n  } else if (\r\n    event.request.session.length == 2 &&\r\n    event.request.session[1].challengeName == \"PASSWORD_VERIFIER\" &&\r\n    event.request.session[1].challengeResult == true\r\n  ) {\r\n    event.response.issueTokens = false;\r\n    event.response.failAuthentication = false;\r\n    event.response.challengeName = \"CUSTOM_CHALLENGE\";\r\n  } else if (\r\n    event.request.session.length == 3 &&\r\n    event.request.session[2].challengeName == \"CUSTOM_CHALLENGE\" &&\r\n    event.request.session[2].challengeResult == true\r\n  ) {\r\n    event.response.issueTokens = true;\r\n    event.response.failAuthentication = false;\r\n    // CUSTOM FOR MFA\r\n  } else if (\r\n    event.request.session.length === 3 &&\r\n    event.request.session[2].challengeName === \"SOFTWARE_TOKEN_MFA\" &&\r\n    event.request.session[2].challengeResult === true\r\n  ) {\r\n    event.response.issueTokens = false;\r\n    event.response.failAuthentication = false;\r\n    event.response.challengeName = \"CUSTOM_CHALLENGE\";\r\n  } else if (\r\n    event.request.session.length == 4 &&\r\n    event.request.session[3].challengeName == \"CUSTOM_CHALLENGE\" &&\r\n    event.request.session[3].challengeResult == true\r\n  ) {\r\n    event.response.issueTokens = true;\r\n    event.response.failAuthentication = false;\r\n  } else {\r\n    event.response.issueTokens = false;\r\n    event.response.failAuthentication = true;\r\n  }\r\n\r\n  callback(null, event);\r\n};\r\n```\r\n\r\n---\r\n\r\n**CreateAuthChallenge trigger**:\r\n\r\n```typescript\r\nexport const handler: CreateAuthChallengeTriggerHandler = (\r\n  event: CreateAuthChallengeTriggerEvent,\r\n  context: Context,\r\n  callback: Callback<CreateAuthChallengeTriggerEvent>,\r\n) => {\r\n  if (event.request.challengeName == \"CUSTOM_CHALLENGE\") {\r\n    event.response.challengeMetadata = \"RECAPTCHA_CHALLENGE\";\r\n  }\r\n\r\n  callback(null, event);\r\n};\r\n```\r\n\r\n---\r\n\r\n**VerifyAuthChallengeResponse trigger**:\r\n\r\n```typescript\r\nexport const handler: VerifyAuthChallengeResponseTriggerHandler = async (\r\n  event: VerifyAuthChallengeResponseTriggerEvent,\r\n  context: Context,\r\n  callback: Callback<VerifyAuthChallengeResponseTriggerEvent>,\r\n) => {\r\n\r\n  try {\r\n    const { recaptchaToken: token } = JSON.parse(\r\n      event.request.challengeAnswer,\r\n    );\r\n\r\n    await verifyReCaptcha({\r\n      token,\r\n      expectedAction: ReCaptchaAction.AUTH,\r\n    });\r\n\r\n    event.response.answerCorrect = true;\r\n  } catch (error) {\r\n    logger.error(error);\r\n    event.response.answerCorrect = false;\r\n  } finally {\r\n    callback(null, event);\r\n  }\r\n};\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9592/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9591",
    "id": 1138981020,
    "node_id": "I_kwDOBkswNc5D43ic",
    "number": 9591,
    "title": "require(\"aws-appsync\") fails in Lambda function: message: \"Cannot convert undefined or null to object\".",
    "user": {
      "login": "duckbytes",
      "id": 32309223,
      "node_id": "MDQ6VXNlcjMyMzA5MjIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32309223?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/duckbytes",
      "html_url": "https://github.com/duckbytes",
      "followers_url": "https://api.github.com/users/duckbytes/followers",
      "following_url": "https://api.github.com/users/duckbytes/following{/other_user}",
      "gists_url": "https://api.github.com/users/duckbytes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/duckbytes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/duckbytes/subscriptions",
      "organizations_url": "https://api.github.com/users/duckbytes/orgs",
      "repos_url": "https://api.github.com/users/duckbytes/repos",
      "events_url": "https://api.github.com/users/duckbytes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/duckbytes/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 908644642,
        "node_id": "MDU6TGFiZWw5MDg2NDQ2NDI=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/GraphQL",
        "name": "GraphQL",
        "color": "e535ab",
        "default": false,
        "description": "Related to GraphQL"
      },
      {
        "id": 908644775,
        "node_id": "MDU6TGFiZWw5MDg2NDQ3NzU=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/AppSync",
        "name": "AppSync",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to AppSync issues"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-15T17:13:37Z",
    "updated_at": "2022-02-17T15:18:45Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nGraphQL API\r\n\r\n### Amplify Categories\r\n\r\nfunction, api\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Linux 5.17 Arch Linux\r\n    CPU: (16) x64 AMD Ryzen 7 3700X 8-Core Processor\r\n    Memory: 3.81 GB / 31.26 GB\r\n    Container: Yes\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.2 - ~/.nvm/versions/node/v16.13.2/bin/node\r\n    Yarn: 1.22.17 - /usr/bin/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n  Browsers:\r\n    Firefox: 97.0\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.15\r\n    corepack: 0.10.0\r\n    npm: 8.1.2\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nAttempting to require(\"aws-appsync\") causes this error to return:\r\n\r\nLambda:Unhandled\", message: \"Cannot convert undefined or null to object\"\r\n\r\nI'm following the guide and using the example code from here: https://aws.amazon.com/blogs/mobile/supporting-backend-and-internal-processes-with-aws-appsync-multiple-authorization-types/\r\n\r\nIf I do the same import locally in a node shell, using the same version of aws-appsync the import works fine in node 14 and node 16.\r\n\r\n`amplify mock function` also fails with the same error\r\n\r\n### Expected behavior\r\n\r\nThe Lambda function should run without error.\r\n\r\n### Reproduction steps\r\n\r\n- run `amplify add function`\r\n- go through the configuration steps, in my case I gave access to api and auth as this is a new user registration lambda\r\n- `cd amplify/backend/function/plateletAdminAddNewUser/src`\r\n- `yarn add isomorphic-fetch aws-appsync uuid graphql-tag graphql`\r\n- `amplify push`\r\n\r\n### Code Snippet\r\n\r\nindex.js:\r\n```javascript\r\n// Put your code below this line.\r\n\r\n/* Amplify Params - DO NOT EDIT\r\n\tAPI_PLATELET_GRAPHQLAPIENDPOINTOUTPUT\r\n\tAPI_PLATELET_GRAPHQLAPIIDOUTPUT\r\n\tAUTH_PLATELET61A0AC07_USERPOOLID\r\n\tENV\r\n\tREGION\r\nAmplify Params - DO NOT EDIT */\r\n\r\nrequire(\"isomorphic-fetch\");\r\nconst AUTH_TYPE = require('aws-appsync').AUTH_TYPE;\r\nconst AWSAppSyncClient = require('aws-appsync').default;\r\n\r\nexports.handler = async (event) => {\r\n    // TODO implement\r\n    const response = {\r\n        statusCode: 200,\r\n        //  Uncomment below to enable CORS requests\r\n        //  headers: {\r\n        //      \"Access-Control-Allow-Origin\": \"*\",\r\n        //      \"Access-Control-Allow-Headers\": \"*\"\r\n        //  },\r\n        body: JSON.stringify(\"hello\"),\r\n    };\r\n    return response;\r\n};\r\n\r\n```\r\n\r\nIn my GraphQL schema:\r\n\r\n```javascript\r\ntype Mutation {\r\n   registerUser(name: String, email: String, tenantId: ID, roles: [Role]): String @function(name: \"plateletAdminAddNewUser-${env}\")\r\n }\r\n```\r\nIn my React app:\r\n\r\n```javscript\r\n                await API.graphql(\r\n                    graphqlOperation(mutations.registerUser, {\r\n                        name: state.name,\r\n                        email: state.email,\r\n                        roles: rolesState,\r\n                        tenantId,\r\n                    })\r\n                );\r\n   ```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n```\r\n2022-02-15T15:55:46.334Z\tundefined\tERROR\tUncaught Exception \t\r\n{\r\n    \"errorType\": \"TypeError\",\r\n    \"errorMessage\": \"Cannot convert undefined or null to object\",\r\n    \"stack\": [\r\n        \"TypeError: Cannot convert undefined or null to object\",\r\n        \"    at Function.keys (<anonymous>)\",\r\n        \"    at /var/task/node_modules/apollo-cache-inmemory/lib/bundle.umd.js:331:12\",\r\n        \"    at /var/task/node_modules/apollo-cache-inmemory/lib/bundle.umd.js:2:68\",\r\n        \"    at Object.<anonymous> (/var/task/node_modules/apollo-cache-inmemory/lib/bundle.umd.js:5:2)\",\r\n        \"    at Module._compile (internal/modules/cjs/loader.js:1085:14)\",\r\n        \"    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)\",\r\n        \"    at Module.load (internal/modules/cjs/loader.js:950:32)\",\r\n        \"    at Function.Module._load (internal/modules/cjs/loader.js:790:12)\",\r\n        \"    at Module.require (internal/modules/cjs/loader.js:974:19)\",\r\n        \"    at require (internal/modules/cjs/helpers.js:93:18)\"\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n```javascript\r\n/* eslint-disable */\r\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\r\n\r\nconst awsmobile = {\r\n    \"aws_project_region\": \"eu-west-1\",\r\n    \"aws_cognito_identity_pool_id\": \"eu-west-1:cc349bd0-e021-430f-ba95-e99670291386\",\r\n    \"aws_cognito_region\": \"eu-west-1\",\r\n    \"aws_user_pools_id\": \"eu-west-1_stEEm1Pqz\",\r\n    \"aws_user_pools_web_client_id\": \"1a2c5v258g1t29s95b8it9872o\",\r\n    \"oauth\": {},\r\n    \"aws_cognito_username_attributes\": [],\r\n    \"aws_cognito_social_providers\": [],\r\n    \"aws_cognito_signup_attributes\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_cognito_mfa_configuration\": \"OFF\",\r\n    \"aws_cognito_mfa_types\": [\r\n        \"SMS\"\r\n    ],\r\n    \"aws_cognito_password_protection_settings\": {\r\n        \"passwordPolicyMinLength\": 8,\r\n        \"passwordPolicyCharacters\": []\r\n    },\r\n    \"aws_cognito_verification_mechanisms\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_appsync_graphqlEndpoint\": \"https://btadyx5acrfk7h2mbk7fx2bouy.appsync-api.eu-west-1.amazonaws.com/graphql\",\r\n    \"aws_appsync_region\": \"eu-west-1\",\r\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n    \"aws_user_files_s3_bucket\": \"platelet26fb7449fb884a3eb4c5fd7539c78dd3193348-jan\",\r\n    \"aws_user_files_s3_bucket_region\": \"eu-west-1\",\r\n    \"geo\": {\r\n        \"amazon_location_service\": {\r\n            \"region\": \"eu-west-1\",\r\n            \"search_indices\": {\r\n                \"items\": [\r\n                    \"plateletPlaceIndex-jan\"\r\n                ],\r\n                \"default\": \"plateletPlaceIndex-jan\"\r\n            }\r\n        }\r\n    },\r\n    \"aws_cognito_login_mechanisms\": [\r\n        \"EMAIL\"\r\n    ]\r\n};\r\n\r\n\r\nexport default awsmobile;\r\n```\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\npackage.json file:\r\n```javascript\r\n{\r\n  \"name\": \"plateletAdminAddNewUser\",\r\n  \"version\": \"2.0.0\",\r\n  \"description\": \"Lambda function generated by Amplify\",\r\n  \"main\": \"index.js\",\r\n  \"license\": \"Apache-2.0\",\r\n  \"dependencies\": {\r\n    \"aws-appsync\": \"^4.1.4\",\r\n    \"graphql\": \"^16.3.0\",\r\n    \"graphql-tag\": \"^2.12.6\",\r\n    \"isomorphic-fetch\": \"^3.0.0\",\r\n    \"uuid\": \"^8.3.2\"\r\n  }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9591/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9587",
    "id": 1137913896,
    "node_id": "PR_kwDOBkswNc4y0WsC",
    "number": 9587,
    "title": "fix(storage): axios handler default error response",
    "user": {
      "login": "jamesaucode",
      "id": 40404256,
      "node_id": "MDQ6VXNlcjQwNDA0MjU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/40404256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesaucode",
      "html_url": "https://github.com/jamesaucode",
      "followers_url": "https://api.github.com/users/jamesaucode/followers",
      "following_url": "https://api.github.com/users/jamesaucode/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesaucode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesaucode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesaucode/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesaucode/orgs",
      "repos_url": "https://api.github.com/users/jamesaucode/repos",
      "events_url": "https://api.github.com/users/jamesaucode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesaucode/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-14T22:16:14Z",
    "updated_at": "2022-02-14T22:45:31Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9587",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9587",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9587.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9587.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\nAdded a default error response status to the axios handler.\r\nBefore, any error response that wasn't parse-able are considered a success response (if status code is `undefined`), which makes responses resolve even tho they are supposed to be errors (e.g network interruption, CORS error, basically any unexpected error while making the request)\r\n\r\nTODO: \r\n- [ ] Test network interruption scenario, my suspicion is this will solve it\r\n- [ ] Add a default error response message, currently it just says `error` it can be slightly more helpful\r\n\r\n#### Issue #, if available\r\nfix #9252\r\n\r\n#### Description of how you validated changes\r\n`yarn test`\r\n- Configured a bucket with CORS disabled\r\n- Made request to the bucket, checked that the `Storage.put` promise is properly rejected\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9587/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9583",
    "id": 1136828047,
    "node_id": "I_kwDOBkswNc5Dwp6P",
    "number": 9583,
    "title": "How to debug `AMQJS0008I Socket closed.`. wasting 3 days",
    "user": {
      "login": "matart15",
      "id": 17027219,
      "node_id": "MDQ6VXNlcjE3MDI3MjE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/17027219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matart15",
      "html_url": "https://github.com/matart15",
      "followers_url": "https://api.github.com/users/matart15/followers",
      "following_url": "https://api.github.com/users/matart15/following{/other_user}",
      "gists_url": "https://api.github.com/users/matart15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matart15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matart15/subscriptions",
      "organizations_url": "https://api.github.com/users/matart15/orgs",
      "repos_url": "https://api.github.com/users/matart15/repos",
      "events_url": "https://api.github.com/users/matart15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matart15/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 890139054,
        "node_id": "MDU6TGFiZWw4OTAxMzkwNTQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/PubSub",
        "name": "PubSub",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to PubSub category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "stocaaro",
        "id": 94858815,
        "node_id": "U_kgDOBaduPw",
        "avatar_url": "https://avatars.githubusercontent.com/u/94858815?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stocaaro",
        "html_url": "https://github.com/stocaaro",
        "followers_url": "https://api.github.com/users/stocaaro/followers",
        "following_url": "https://api.github.com/users/stocaaro/following{/other_user}",
        "gists_url": "https://api.github.com/users/stocaaro/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/stocaaro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/stocaaro/subscriptions",
        "organizations_url": "https://api.github.com/users/stocaaro/orgs",
        "repos_url": "https://api.github.com/users/stocaaro/repos",
        "events_url": "https://api.github.com/users/stocaaro/events{/privacy}",
        "received_events_url": "https://api.github.com/users/stocaaro/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-14T06:17:55Z",
    "updated_at": "2022-02-14T22:42:43Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact Native\r\n\r\n### Amplify APIs\r\n\r\nPubSub\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nAMQJS0008I Socket closed.\r\n\r\n1. iot mqtt test works with cert keys.\r\n2. did everythong described [here](https://docs.amplify.aws/lib/pubsub/getting-started/q/platform/js/#step-2-attach-your-policy-to-your-amazon-cognito-identity) and [here](https://github.com/aws-amplify/docs/issues/460#issuecomment-481499155)\r\n3. Checked IAM policy like hundred times.\r\n4. Checked IOT policy attach like thousand times\r\n5. checked core version\r\n```\r\namplified_todo@0.0.1\r\n @aws-amplify/core@4.3.14\r\n aws-amplify@4.3.14\r\n   @aws-amplify/analytics@5.1.12\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/api@4.0.32\r\n    @aws-amplify/api-graphql@2.2.21\r\n     @aws-amplify/core@4.3.14 deduped\r\n    @aws-amplify/api-rest@2.0.32\r\n      @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/auth@4.4.1\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/cache@4.0.34\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/datastore@3.7.6\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/geo@1.2.0\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/interactions@4.0.32\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/predictions@4.0.32\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/pubsub@4.2.8\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/storage@4.4.15\r\n    @aws-amplify/core@4.3.14 deduped\r\n   @aws-amplify/xr@3.0.32\r\n     @aws-amplify/core@4.3.14 deduped\r\n```\r\n\r\nStupid error only displays `AMQJS0008I Socket closed.`\r\n\r\n\r\n\r\n### Expected behavior\r\n\r\njust publish something\r\n\r\n### Reproduction steps\r\n\r\nhttps://docs.amplify.aws/lib/pubsub/getting-started/q/platform/js/\r\n\r\n\r\n# HOW DO I DEBUG THIS?",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9583/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9582",
    "id": 1136732573,
    "node_id": "I_kwDOBkswNc5DwSmd",
    "number": 9582,
    "title": " Auth.currentCredentials() identityId, accessKeyId always undefined",
    "user": {
      "login": "matart15",
      "id": 17027219,
      "node_id": "MDQ6VXNlcjE3MDI3MjE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/17027219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matart15",
      "html_url": "https://github.com/matart15",
      "followers_url": "https://api.github.com/users/matart15/followers",
      "following_url": "https://api.github.com/users/matart15/following{/other_user}",
      "gists_url": "https://api.github.com/users/matart15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matart15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matart15/subscriptions",
      "organizations_url": "https://api.github.com/users/matart15/orgs",
      "repos_url": "https://api.github.com/users/matart15/repos",
      "events_url": "https://api.github.com/users/matart15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matart15/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-14T04:05:39Z",
    "updated_at": "2022-02-15T00:21:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuthentication, PubSub\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.2.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 1.05 GB / 64.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 12.16.1 - ~/.nvm/versions/node/v12.16.1/bin/node\r\n    Yarn: 1.22.17 - ~/.yvm/shim/yarn\r\n    npm: 6.13.4 - ~/.nvm/versions/node/v12.16.1/bin/npm\r\n    Watchman: 2021.10.18.00 - /usr/local/bin/watchman\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.19\r\n    npm: 6.13.4\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nI am trying to PubSub with [this](https://docs.amplify.aws/lib/pubsub/getting-started/q/platform/js/#step-2-attach-your-policy-to-your-amazon-cognito-identity) tutorial.\r\n\r\n```\r\nconst publish = async () => {\r\n    setUserRoles([])\r\n    Auth.currentCredentials()\r\n      .then((info) => {\r\n        const cognitoIdentityId = info.identityId\r\n        console.log('cognitoIdentityId: ', cognitoIdentityId)\r\n      })\r\n      .catch((e) => {\r\n        console.log('e: ', e)\r\n      })\r\n  }\r\n```\r\n\r\nThis code sends 2 requests. 1 succeed 1 fail. ( I am pretty sure I clicked button once ). login successfull\r\n\r\n![Screen Shot 2022-02-14 at 12 54 31](https://user-images.githubusercontent.com/17027219/153797873-2b492b2e-8326-4384-abb3-6960d9855554.png)\r\n\r\nSuccess : `{IdentityId: \"ap-northeast-1:2784c260-342a-4504-97cb-38b3e7a2f460\"}`\r\n\r\nFail : `{message: \"Unauthenticated access is not supported for this identity pool.\", __type: \"NotAuthorizedException\"}`\r\n\r\nAnd above code results always `cognitoIdentityId: undefined`. \r\n\r\n\r\n### Expected behavior\r\n\r\ncan get `identityId`\r\n\r\n\r\n\r\n### Reproduction steps\r\n\r\n1. https://docs.amplify.aws/start/getting-started/setup/q/integration/react-native/\r\n2. https://docs.amplify.aws/lib/pubsub/getting-started/q/platform/js/#step-2-attach-your-policy-to-your-amazon-cognito-identity\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9582/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9581",
    "id": 1133255229,
    "node_id": "PR_kwDOBkswNc4yjuBy",
    "number": 9581,
    "title": "feat: Added ExpoSQLiteAdapter and Code Sharing for common files",
    "user": {
      "login": "chintannp",
      "id": 88387035,
      "node_id": "MDQ6VXNlcjg4Mzg3MDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/88387035?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chintannp",
      "html_url": "https://github.com/chintannp",
      "followers_url": "https://api.github.com/users/chintannp/followers",
      "following_url": "https://api.github.com/users/chintannp/following{/other_user}",
      "gists_url": "https://api.github.com/users/chintannp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chintannp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chintannp/subscriptions",
      "organizations_url": "https://api.github.com/users/chintannp/orgs",
      "repos_url": "https://api.github.com/users/chintannp/repos",
      "events_url": "https://api.github.com/users/chintannp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chintannp/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-02-11T23:03:01Z",
    "updated_at": "2022-02-17T17:17:52Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9581",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9581",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9581.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9581.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n#### Description of changes\r\nThis PR adds ExpoSQLiteAdapter inside `datastore-storage-adapter` package. Additionally, it includes updates to the SQLiteAdapter as few files have been moved under `common` directory for code sharing purpose.\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\nLocal testing by building a sample Todo App. More testing to be done.\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9581/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9580",
    "id": 1133100385,
    "node_id": "I_kwDOBkswNc5Dib1h",
    "number": 9580,
    "title": "AmazonAIPredictions provider gives a `Cant't find variable: Buffer` error on a React Native app created with Expo",
    "user": {
      "login": "Sebas1245",
      "id": 40841186,
      "node_id": "MDQ6VXNlcjQwODQxMTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/40841186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sebas1245",
      "html_url": "https://github.com/Sebas1245",
      "followers_url": "https://api.github.com/users/Sebas1245/followers",
      "following_url": "https://api.github.com/users/Sebas1245/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sebas1245/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sebas1245/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sebas1245/subscriptions",
      "organizations_url": "https://api.github.com/users/Sebas1245/orgs",
      "repos_url": "https://api.github.com/users/Sebas1245/repos",
      "events_url": "https://api.github.com/users/Sebas1245/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sebas1245/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1480391777,
        "node_id": "MDU6TGFiZWwxNDgwMzkxNzc3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Predictions",
        "name": "Predictions",
        "color": "006b75",
        "default": false,
        "description": "Related to Predictions category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-11T21:13:30Z",
    "updated_at": "2022-02-15T00:22:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nPredictions\n\n### Amplify Categories\n\npredictions\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\nSystem:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 136.63 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.2 - ~/.nvm/versions/node/v16.13.2/bin/node\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n    Watchman: 2022.01.31.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Safari: 15.2\r\n  npmPackages:\r\n    @babel/core: ^7.12.9 => 7.17.2 \r\n    @react-native-async-storage/async-storage: ^1.16.0 => 1.16.0 \r\n    @react-native-community/netinfo: ^7.1.12 => 7.1.12 \r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1 \r\n    @types/react: ~17.0.21 => 17.0.39 \r\n    @types/react-native: ~0.64.12 => 0.64.23 \r\n    HelloWorld:  0.0.1 \r\n    aws-amplify: ^4.3.14 => 4.3.14 \r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2 \r\n    buffer: ^6.0.3 => 6.0.3 (4.9.2, 5.7.1)\r\n    expo: ~44.0.0 => 44.0.6 \r\n    expo-camera: ~12.1.2 => 12.1.2 \r\n    expo-status-bar: ~1.2.0 => 1.2.0 \r\n    expo-updates: ~0.11.6 => 0.11.6 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    react: 17.0.1 => 17.0.1 (16.14.0)\r\n    react-dom: 17.0.1 => 17.0.1 \r\n    react-native: 0.64.3 => 0.64.3 \r\n    react-native-web: 0.17.1 => 0.17.1 \r\n    typescript: ~4.3.5 => 4.3.5 \r\n  npmGlobalPackages:\r\n    @angular/cli: 13.2.1\r\n    corepack: 0.10.0\r\n    expo-cli: 5.1.2\r\n    npm: 8.1.2\r\n    react-native-cli: 2.0.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI am using the [Identify text library](https://docs.amplify.aws/lib/predictions/identify-text/q/platform/js/) to detect text from an image. I tried using the bytes option on the source object to avoid having to set up the storage option and it gave me a `Cant't find variable: Buffer` error. \r\n\r\n![image](https://user-images.githubusercontent.com/40841186/153656741-94483a1c-f80d-42ee-b0d4-b51873aa9c34.png)\r\n\n\n### Expected behavior\n\nI am able to take a picture and the `Predictions.identify()` method returns a response. \n\n### Reproduction steps\n\n1. Have `expo-cli` installed. \r\n2. Initialize an `expo` application. \r\n3. Add Cognito and Predictions to Amplify Backend \r\n4. Add `expo-camera` package and add the function described below to take pictures. \r\n\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nconst takePicture = async () => {\r\n        if (!camera) return;\r\n        setShowActivityMonitor(true)\r\n        try {\r\n            const options = { quality: 0.7, base64: true };\r\n            const photo = await camera.takePictureAsync(options);\r\n            if (photo.base64) {\r\n                const buffer = Buffer.from(photo.base64, 'base64');\r\n                const identifiedText = await Predictions.identify({\r\n                    text: {\r\n                        source: {\r\n                           bytes: buffer\r\n                        }\r\n                    }\r\n                });\r\n                const fullText = identifiedText.text.fullText;\r\n                Alert.alert('Recognized text', `${fullText}`, [\r\n                    {\r\n                    text: 'Ok',\r\n                    style: 'cancel',\r\n                    },\r\n                ]);\r\n            }\r\n            setCapturedImage(photo);\r\n            setPreviewVisible(true);\r\n        } catch (error) {\r\n            console.log(error);\r\n            Alert.alert('Error', `${error}`, [\r\n                {\r\n                text: 'Ok',\r\n                style: 'cancel',\r\n                },\r\n            ]);\r\n        } finally {\r\n            setShowActivityMonitor(false);\r\n        }\r\n    };\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\nCan't find variable: Buffer\r\nat http://192.168.1.132:19000/node_modules/expo/AppEntry.bundle?platform=ios&dev=true&hot=false&strict=false&minify=false:415430:69 in <unknown>\r\nat node_modules/@aws-amplify/predictions/lib-esm/Providers/AmazonAIIdentifyPredictionsProvider.js:84:4 in <anonymous>\r\nat http://192.168.1.132:19000/node_modules/expo/AppEntry.bundle?platform=ios&dev=true&hot=false&strict=false&minify=false:415473:45 in <unknown>\r\nat http://192.168.1.132:19000/node_modules/expo/AppEntry.bundle?platform=ios&dev=true&hot=false&strict=false&minify=false:441473:26 in step\r\nat node_modules/@aws-sdk/client-textract/node_modules/@aws-crypto/sha256-js/node_modules/tslib/tslib.js:122:34 in <anonymous>\r\nat node_modules/@aws-sdk/client-textract/node_modules/@aws-crypto/sha256-js/node_modules/tslib/tslib.js:112:44 in fulfilled\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n```javascript \r\n/* eslint-disable */\r\n// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\r\n\r\nconst awsmobile = {\r\n    \"aws_project_region\": \"us-east-1\",\r\n    \"aws_appsync_graphqlEndpoint\": \"https://d77jkhagifhdzipnkcwjh4xcw4.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n    \"aws_appsync_region\": \"us-east-1\",\r\n    \"aws_appsync_authenticationType\": \"API_KEY\",\r\n    \"aws_appsync_apiKey\": \"da2-eqa3ojnshjffhmykeretvskaf4\",\r\n    \"aws_cognito_identity_pool_id\": \"us-east-1:33376764-c000-499b-8a61-9f1e45af33d6\",\r\n    \"aws_cognito_region\": \"us-east-1\",\r\n    \"aws_user_pools_id\": \"us-east-1_JtohzxK1L\",\r\n    \"aws_user_pools_web_client_id\": \"5uou5h1rr0rbvd2k6bm4pmde3u\",\r\n    \"oauth\": {},\r\n    \"aws_cognito_username_attributes\": [\r\n        \"EMAIL\",\r\n        \"PHONE_NUMBER\"\r\n    ],\r\n    \"aws_cognito_social_providers\": [],\r\n    \"aws_cognito_signup_attributes\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_cognito_mfa_configuration\": \"OFF\",\r\n    \"aws_cognito_mfa_types\": [\r\n        \"SMS\"\r\n    ],\r\n    \"aws_cognito_password_protection_settings\": {\r\n        \"passwordPolicyMinLength\": 8,\r\n        \"passwordPolicyCharacters\": []\r\n    },\r\n    \"aws_cognito_verification_mechanisms\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"predictions\": {\r\n        \"identify\": {\r\n            \"identifyText\": {\r\n                \"proxy\": false,\r\n                \"region\": \"us-east-1\",\r\n                \"defaults\": {\r\n                    \"format\": \"ALL\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default awsmobile;\r\n\r\n```\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\nA workaround I found, at least to get the Predictions library to work with my logic was to place the following on the first line of the file `node_modules/@aws-amplify/predictions/lib-esm/Providers/AmazonAIIdentifyPredictionsProvider.js`: \r\n\r\n``` javascript \r\nglobal.Buffer = global.Buffer || require('buffer').Buffer\r\n```\r\n\r\nI am aware that this is not an acceptable solution but I hope this is helpful to figuring out what the fix would be. ",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9580/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9579",
    "id": 1133055423,
    "node_id": "PR_kwDOBkswNc4yjAtX",
    "number": 9579,
    "title": "refactor(amplify-js/scripts): replace npm-exec alias with npx and remove unnecessary step 2 in the contribution guide",
    "user": {
      "login": "Samaritan1011001",
      "id": 10944487,
      "node_id": "MDQ6VXNlcjEwOTQ0NDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10944487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Samaritan1011001",
      "html_url": "https://github.com/Samaritan1011001",
      "followers_url": "https://api.github.com/users/Samaritan1011001/followers",
      "following_url": "https://api.github.com/users/Samaritan1011001/following{/other_user}",
      "gists_url": "https://api.github.com/users/Samaritan1011001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Samaritan1011001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Samaritan1011001/subscriptions",
      "organizations_url": "https://api.github.com/users/Samaritan1011001/orgs",
      "repos_url": "https://api.github.com/users/Samaritan1011001/repos",
      "events_url": "https://api.github.com/users/Samaritan1011001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Samaritan1011001/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-11T20:22:53Z",
    "updated_at": "2022-02-17T02:53:08Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9579",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9579",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9579.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9579.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\nMinor code refactoring to remove unwanted aliasing and replace it with `npx` and also remove unnecessary step in the contribution guide since `wml` is installed as part of the `devDependency` for the project. \r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\nValidated for correctness of work with different packages. \r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [x] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9579/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9578",
    "id": 1133037544,
    "node_id": "PR_kwDOBkswNc4yi8xu",
    "number": 9578,
    "title": "fix(@aws-amplify/api): graphql API.cancel fix",
    "user": {
      "login": "jamesaucode",
      "id": 40404256,
      "node_id": "MDQ6VXNlcjQwNDA0MjU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/40404256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesaucode",
      "html_url": "https://github.com/jamesaucode",
      "followers_url": "https://api.github.com/users/jamesaucode/followers",
      "following_url": "https://api.github.com/users/jamesaucode/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesaucode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesaucode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesaucode/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesaucode/orgs",
      "repos_url": "https://api.github.com/users/jamesaucode/repos",
      "events_url": "https://api.github.com/users/jamesaucode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesaucode/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-11T20:04:29Z",
    "updated_at": "2022-02-14T17:08:54Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9578",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9578",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9578.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9578.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\n`API.cancel` will now call either `RestAPI`'s cancel or `GraphQLAPI`'s cancel, instead of only `RestAPI`'s.\r\n\r\n#### Issue #, if available\r\nfix #9198\r\n\r\n#### Description of how you validated changes\r\n- unit test\r\n- Tested on Browser and verified the request was indeed cancelled\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9578/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9575",
    "id": 1132050021,
    "node_id": "I_kwDOBkswNc5DebZl",
    "number": 9575,
    "title": "AWSCloudWatchProvider writes infinity number of errors if user doesn't have permissions to write logs to CloudWatch",
    "user": {
      "login": "Ace-Lightning",
      "id": 11807074,
      "node_id": "MDQ6VXNlcjExODA3MDc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/11807074?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ace-Lightning",
      "html_url": "https://github.com/Ace-Lightning",
      "followers_url": "https://api.github.com/users/Ace-Lightning/followers",
      "following_url": "https://api.github.com/users/Ace-Lightning/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ace-Lightning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ace-Lightning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ace-Lightning/subscriptions",
      "organizations_url": "https://api.github.com/users/Ace-Lightning/orgs",
      "repos_url": "https://api.github.com/users/Ace-Lightning/repos",
      "events_url": "https://api.github.com/users/Ace-Lightning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ace-Lightning/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 951723134,
        "node_id": "MDU6TGFiZWw5NTE3MjMxMzQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Angular",
        "name": "Angular",
        "color": "dd0031",
        "default": false,
        "description": "Related to Angular 2+"
      },
      {
        "id": 3823027935,
        "node_id": "LA_kwDOBkswNc7j3sbf",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Logger",
        "name": "Logger",
        "color": "D4C5F9",
        "default": false,
        "description": "Related to Logger category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-11T08:19:13Z",
    "updated_at": "2022-02-11T17:30:03Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nAngular\r\n\r\n### Amplify APIs\r\n\r\nNot applicable\r\n\r\n### Amplify Categories\r\n\r\nNot applicable\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Windows 10 10.0.22000\r\n    CPU: (8) x64 Intel(R) Core(TM) i5-10400H CPU @ 2.60GHz\r\n    Memory: 2.57 GB / 15.61 GB\r\n  Binaries:\r\n    Node: 14.18.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 6.14.15 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.22000.120.0), Chromium (98.0.1108.43)\r\n    Internet Explorer: 11.0.22000.120\r\n  npmPackages:\r\n    @angular-devkit/build-angular: ~0.1102.4 => 0.1102.14\r\n    @angular-eslint/builder: 4.3.0 => 4.3.0\r\n    @angular-eslint/eslint-plugin: 4.3.0 => 4.3.0\r\n    @angular-eslint/eslint-plugin-template: 4.3.0 => 4.3.0\r\n    @angular-eslint/schematics: 4.3.0 => 4.3.0\r\n    @angular-eslint/template-parser: 4.3.0 => 4.3.0\r\n    @angular/animations: ~11.2.5 => 11.2.14\r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cdk: ~11.2.4 => 11.2.13\r\n    @angular/cdk/a11y:  undefined ()\r\n    @angular/cdk/accordion:  undefined ()\r\n    @angular/cdk/bidi:  undefined ()\r\n    @angular/cdk/clipboard:  undefined ()\r\n    @angular/cdk/coercion:  undefined ()\r\n    @angular/cdk/collections:  undefined ()\r\n    @angular/cdk/drag-drop:  undefined ()\r\n    @angular/cdk/keycodes:  undefined ()\r\n    @angular/cdk/layout:  undefined ()\r\n    @angular/cdk/observers:  undefined ()\r\n    @angular/cdk/overlay:  undefined ()\r\n    @angular/cdk/platform:  undefined ()\r\n    @angular/cdk/portal:  undefined ()\r\n    @angular/cdk/scrolling:  undefined ()\r\n    @angular/cdk/stepper:  undefined ()\r\n    @angular/cdk/table:  undefined ()\r\n    @angular/cdk/testing:  undefined ()\r\n    @angular/cdk/testing/protractor:  undefined ()\r\n    @angular/cdk/testing/testbed:  undefined ()\r\n    @angular/cdk/text-field:  undefined ()\r\n    @angular/cdk/tree:  undefined ()\r\n    @angular/cli: ~11.2.4 => 11.2.14\r\n    @angular/common: ~11.2.5 => 11.2.14\r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ~11.2.5 => 11.2.14\r\n    @angular/compiler-cli: ~11.2.5 => 11.2.14\r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ~11.2.5 => 11.2.14\r\n    @angular/core/testing:  undefined ()\r\n    @angular/flex-layout: 11.0.0-beta.33 => 11.0.0-beta.33\r\n    @angular/flex-layout/core:  undefined ()\r\n    @angular/flex-layout/extended:  undefined ()\r\n    @angular/flex-layout/flex:  undefined ()\r\n    @angular/flex-layout/grid:  undefined ()\r\n    @angular/flex-layout/server:  undefined ()\r\n    @angular/forms: ~11.2.5 => 11.2.14\r\n    @angular/language-service: ~11.2.5 => 11.2.14\r\n    @angular/material: ~11.2.4 => 11.2.13\r\n    @angular/material/autocomplete:  undefined ()\r\n    @angular/material/autocomplete/testing:  undefined ()\r\n    @angular/material/badge:  undefined ()\r\n    @angular/material/badge/testing:  undefined ()\r\n    @angular/material/bottom-sheet:  undefined ()\r\n    @angular/material/bottom-sheet/testing:  undefined ()\r\n    @angular/material/button:  undefined ()\r\n    @angular/material/button-toggle:  undefined ()\r\n    @angular/material/button-toggle/testing:  undefined ()\r\n    @angular/material/button/testing:  undefined ()\r\n    @angular/material/card:  undefined ()\r\n    @angular/material/card/testing:  undefined ()\r\n    @angular/material/checkbox:  undefined ()\r\n    @angular/material/checkbox/testing:  undefined ()\r\n    @angular/material/chips:  undefined ()\r\n    @angular/material/chips/testing:  undefined ()\r\n    @angular/material/core:  undefined ()\r\n    @angular/material/core/testing:  undefined ()\r\n    @angular/material/datepicker:  undefined ()\r\n    @angular/material/datepicker/testing:  undefined ()\r\n    @angular/material/dialog:  undefined ()\r\n    @angular/material/dialog/testing:  undefined ()\r\n    @angular/material/divider:  undefined ()\r\n    @angular/material/divider/testing:  undefined ()\r\n    @angular/material/expansion:  undefined ()\r\n    @angular/material/expansion/testing:  undefined ()\r\n    @angular/material/form-field:  undefined ()\r\n    @angular/material/form-field/testing:  undefined ()\r\n    @angular/material/form-field/testing/control:  undefined ()\r\n    @angular/material/grid-list:  undefined ()\r\n    @angular/material/grid-list/testing:  undefined ()\r\n    @angular/material/icon:  undefined ()\r\n    @angular/material/icon/testing:  undefined ()\r\n    @angular/material/input:  undefined ()\r\n    @angular/material/input/testing:  undefined ()\r\n    @angular/material/list:  undefined ()\r\n    @angular/material/list/testing:  undefined ()\r\n    @angular/material/menu:  undefined ()\r\n    @angular/material/menu/testing:  undefined ()\r\n    @angular/material/paginator:  undefined ()\r\n    @angular/material/paginator/testing:  undefined ()\r\n    @angular/material/progress-bar:  undefined ()\r\n    @angular/material/progress-bar/testing:  undefined ()\r\n    @angular/material/progress-spinner:  undefined ()\r\n    @angular/material/progress-spinner/testing:  undefined ()\r\n    @angular/material/radio:  undefined ()\r\n    @angular/material/radio/testing:  undefined ()\r\n    @angular/material/select:  undefined ()\r\n    @angular/material/select/testing:  undefined ()\r\n    @angular/material/sidenav:  undefined ()\r\n    @angular/material/sidenav/testing:  undefined ()\r\n    @angular/material/slide-toggle:  undefined ()\r\n    @angular/material/slide-toggle/testing:  undefined ()\r\n    @angular/material/slider:  undefined ()\r\n    @angular/material/slider/testing:  undefined ()\r\n    @angular/material/snack-bar:  undefined ()\r\n    @angular/material/snack-bar/testing:  undefined ()\r\n    @angular/material/sort:  undefined ()\r\n    @angular/material/sort/testing:  undefined ()\r\n    @angular/material/stepper:  undefined ()\r\n    @angular/material/stepper/testing:  undefined ()\r\n    @angular/material/table:  undefined ()\r\n    @angular/material/table/testing:  undefined ()\r\n    @angular/material/tabs:  undefined ()\r\n    @angular/material/tabs/testing:  undefined ()\r\n    @angular/material/toolbar:  undefined ()\r\n    @angular/material/toolbar/testing:  undefined ()\r\n    @angular/material/tooltip:  undefined ()\r\n    @angular/material/tooltip/testing:  undefined ()\r\n    @angular/material/tree:  undefined ()\r\n    @angular/material/tree/testing:  undefined ()\r\n    @angular/platform-browser: ~11.2.5 => 11.2.14\r\n    @angular/platform-browser-dynamic: ~11.2.5 => 11.2.14\r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: ~11.2.5 => 11.2.14\r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @compodoc/compodoc: ^1.1.15 => 1.1.15\r\n    @iconify/icons-emojione: ~1.1.0 => 1.1.0\r\n    @iconify/icons-fa-brands: ~1.1.0 => 1.1.1\r\n    @iconify/icons-fa-solid: ~1.1.0 => 1.1.1\r\n    @iconify/icons-ic: ~1.1.3 => 1.1.9\r\n    @iconify/icons-logos: ~1.1.9 => 1.1.10\r\n    @ngneat/until-destroy: ~8.0.4 => 8.0.4\r\n    @ngx-formly/core: ^5.0.0 => 5.10.22\r\n    @ngx-formly/core/json-schema:  undefined ()\r\n    @ngx-formly/core/select:  undefined ()\r\n    @ngx-formly/material: ^5.0.0 => 5.10.22\r\n    @ngx-formly/material/checkbox:  undefined ()\r\n    @ngx-formly/material/datepicker:  undefined ()\r\n    @ngx-formly/material/form-field:  undefined ()\r\n    @ngx-formly/material/input:  undefined ()\r\n    @ngx-formly/material/multicheckbox:  undefined ()\r\n    @ngx-formly/material/native-select:  undefined ()\r\n    @ngx-formly/material/radio:  undefined ()\r\n    @ngx-formly/material/select:  undefined ()\r\n    @ngx-formly/material/slider:  undefined ()\r\n    @ngx-formly/material/textarea:  undefined ()\r\n    @ngx-formly/material/toggle:  undefined ()\r\n    @ngx-formly/schematics: ^5.10.21 => 5.10.22\r\n    @ngx-loading-bar/core: ~5.1.1 => 5.1.2\r\n    @ngx-loading-bar/http-client: ^5.1.2 => 5.1.2\r\n    @ngx-loading-bar/router: ~5.1.1 => 5.1.2\r\n    @types/faker: ^5.1.5 => 5.5.8\r\n    @types/jasmine: ~3.6.1 => 3.6.11\r\n    @types/jasminewd2: ~2.0.8 => 2.0.10\r\n    @types/lodash: ^4.14.176 => 4.14.176\r\n    @types/node: ~14.14.7 => 14.14.45\r\n    @types/showdown: ~1.9.3 => 1.9.4 \r\n    @types/simplebar: ~5.1.1 => 5.1.2\r\n    @types/uuid: ^8.3.1 => 8.3.1\r\n    @typescript-eslint/eslint-plugin: 4.16.1 => 4.16.1\r\n    @typescript-eslint/parser: 4.16.1 => 4.16.1\r\n    @visurel/iconify-angular: ~11.0.0 => 11.0.0\r\n    angular-calendar: ~0.29.0-beta.9 => 0.29.0-beta.10\r\n    angular-in-memory-web-api: ^0.11.0 => 0.11.0\r\n    angular-split: ^5.0.0 => 5.0.0\r\n    apexcharts: ~3.25.0 => 3.25.0\r\n    aws-amplify: ^4.3.10 => 4.3.10\r\n    aws-sdk: ^2.968.0 => 2.977.0\r\n    date-fns: ~2.19.0 => 2.19.0\r\n    deep-copy-ts: ^0.5.0 => 0.5.0\r\n    deepdash-es: ^5.3.9 => 5.3.9\r\n    eslint: ^7.6.0 => 7.32.0\r\n    eslint-config-prettier: ^8.3.0 => 8.3.0\r\n    eslint-plugin-prettier: ^4.0.0 => 4.0.0\r\n    example-typescript:  1.0.0\r\n    faker: ~5.4.0 => 5.4.0\r\n    file-saver: ^2.0.5 => 2.0.5\r\n    highlight.js: ~10.6.0 => 10.6.0\r\n    jasmine-core: ~3.5.0 => 3.5.0 (2.8.0, 3.9.0)\r\n    jasmine-spec-reporter: ~5.0.0 => 5.0.2\r\n    jwt-decode: ^3.1.2 => 3.1.2\r\n    karma: ~5.0.0 => 5.0.9\r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0\r\n    karma-jasmine: ~4.0.0 => 4.0.1\r\n    karma-jasmine-html-reporter: ^1.5.0 => 1.5.4\r\n    lib:  0.0.1\r\n    material-icons: ^1.2.0 => 1.2.0\r\n    ngx-quicklink: ~0.2.7 => 0.2.7\r\n    ngx-quill: ~13.2.0 => 13.2.0\r\n    ngx-showdown: ~6.0.0 => 6.0.0\r\n    node-example:  1.0.0\r\n    postcss: ^8.1.0 => 8.3.6 (8.2.15, 6.0.23, 7.0.36)\r\n    postcss-scss: ^3.0.5 => 3.0.5\r\n    prettier: ^2.4.1 => 2.4.1\r\n    protractor: ~7.0.0 => 7.0.0\r\n    protractor-example:  1.0.0\r\n    quill: ~1.3.7 => 1.3.7\r\n    rxjs: ~6.6.0 => 6.6.7 (6.6.3)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    showdown: ~1.9.1 => 1.9.1\r\n    simplebar: ~5.3.0 => 5.3.5\r\n    tailwindcss: ~2.0.3 => 2.0.4\r\n    ts-node: ~8.3.0 => 8.3.0\r\n    tslib: ^2.0.0 => 2.3.1 (1.14.1, 2.1.0)\r\n    typescript: ~4.1.5 => 4.1.6 (4.1.5, 3.9.10)\r\n    typescript-example:  1.0.0\r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2)\r\n    xlsx: ^0.17.2 => 0.17.2\r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.3 => 0.11.4\r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    @angular/cli: 12.2.8\r\n    @aws-amplify/cli: 7.6.2\r\n    vercel: 23.1.2\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nIf user doesn't have permissions to write logs to AWS CloudWatch then AWSCloudWatchProvider infinitely write errors to console \r\n![image](https://user-images.githubusercontent.com/11807074/153556727-9ce46ee2-9501-4931-9c63-44aeacffdfd9.png)\r\n\r\nI didn't find an ability to set maximum attempts for logging operation.\r\n\r\n### Expected behavior\r\n\r\nThere must be a setting to prevent infinity errors if `AWSCloudWatchProvider` can't write logs to AWS CloudWatch\r\n\r\n### Reproduction steps\r\n\r\n1. Setup support of `AWSCloudWatchProvider` based on information in PR: #8309\r\n2. Don't set up permissions for user to write logs to AWS CloudWatch\r\n3. Log any message by method `info`: \r\n```\r\nthis.logger.info('Hello there!');\r\n```\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\nERROR Error: Uncaught (in promise): TypeError: Cannot read properties of undefined (reading 'byteLength')\r\nTypeError: Cannot read properties of undefined (reading 'byteLength')\r\n    at e.isEmptyData (main-es2015.2da9cc8bfe1407a83cd0.js:1:3319443)\r\n    at t.update (main-es2015.2da9cc8bfe1407a83cd0.js:1:2371814)\r\n    at t.update (main-es2015.2da9cc8bfe1407a83cd0.js:1:2362061)\r\n    at m (main-es2015.2da9cc8bfe1407a83cd0.js:1:2762228)\r\n    at main-es2015.2da9cc8bfe1407a83cd0.js:1:2771115\r\n    at main-es2015.2da9cc8bfe1407a83cd0.js:1:2780803\r\n    at Object.next (main-es2015.2da9cc8bfe1407a83cd0.js:1:2780908)\r\n    at main-es2015.2da9cc8bfe1407a83cd0.js:1:2779846\r\n    at new D (polyfills-es2015.cd76d172a63b55c49116.js:1:17825)\r\n    at u (main-es2015.2da9cc8bfe1407a83cd0.js:1:2779594)\r\n    at b (polyfills-es2015.cd76d172a63b55c49116.js:1:15960)\r\n    at new D (polyfills-es2015.cd76d172a63b55c49116.js:1:17853)\r\n    at u (main-es2015.2da9cc8bfe1407a83cd0.js:1:2779594)\r\n    at main-es2015.2da9cc8bfe1407a83cd0.js:1:2770984\r\n    at t.getSigningKey (main-es2015.2da9cc8bfe1407a83cd0.js:1:2771709)\r\n    at t.<anonymous> (main-es2015.2da9cc8bfe1407a83cd0.js:1:2768988)\r\n    at main-es2015.2da9cc8bfe1407a83cd0.js:1:2780803\r\n    at Object.next (main-es2015.2da9cc8bfe1407a83cd0.js:1:2780908)\r\n    at a (main-es2015.2da9cc8bfe1407a83cd0.js:1:2779650)\r\n    at l.invoke (polyfills-es2015.cd76d172a63b55c49116.js:1:6581)\r\n[ERROR] 06:19.360 AWSCloudWatch - error getting log group - TypeError: Cannot read properties of undefined (reading 'byteLength')\r\n[ERROR] 06:19.360 AWSCloudWatch - failure during log group search: TypeError: Cannot read properties of undefined (reading 'byteLength')\r\n[ERROR] 06:19.360 AWSCloudWatch - failure while getting next sequence token: TypeError: Cannot read properties of undefined (reading 'byteLength')\r\n[ERROR] 06:19.360 AWSCloudWatch - error during _safeUploadLogEvents: TypeError: Cannot read properties of undefined (reading 'byteLength')\r\n[ERROR] 06:19.360 AWSCloudWatch - error when calling _safeUploadLogEvents in the timer interval - TypeError: Cannot read properties of undefined (reading 'byteLength')\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n```json\r\n{\r\n  aws_project_region: 'hidden',\r\n  Auth: {    \r\n    identityPoolId: 'hidden',\r\n    region: 'hidden',\r\n    identityPoolRegion: 'hidden',\r\n    userPoolId: 'hidden',\r\n    userPoolWebClientId: 'hidden',\r\n  },\r\n  Logging: {\r\n    logGroupName: 'SomeGroup',\r\n    logStreamName: 'SomeStreamName',\r\n  },\r\n  csm_enabled: true,\r\n}\r\n```\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9575/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9574",
    "id": 1131928764,
    "node_id": "I_kwDOBkswNc5Dd9y8",
    "number": 9574,
    "title": "\"Cannot read properties of undefined (reading 'split')\" error on auth signin in angular PWA when device is offline",
    "user": {
      "login": "WolfWalter",
      "id": 2098069,
      "node_id": "MDQ6VXNlcjIwOTgwNjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2098069?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WolfWalter",
      "html_url": "https://github.com/WolfWalter",
      "followers_url": "https://api.github.com/users/WolfWalter/followers",
      "following_url": "https://api.github.com/users/WolfWalter/following{/other_user}",
      "gists_url": "https://api.github.com/users/WolfWalter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WolfWalter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WolfWalter/subscriptions",
      "organizations_url": "https://api.github.com/users/WolfWalter/orgs",
      "repos_url": "https://api.github.com/users/WolfWalter/repos",
      "events_url": "https://api.github.com/users/WolfWalter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WolfWalter/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 951723134,
        "node_id": "MDU6TGFiZWw5NTE3MjMxMzQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Angular",
        "name": "Angular",
        "color": "dd0031",
        "default": false,
        "description": "Related to Angular 2+"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-11T07:07:36Z",
    "updated_at": "2022-02-11T16:25:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nAngular\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\nnpx envinfo --system --binaries --browsers --npmPackages --duplicates --npmGlobalPackages\r\nnpx: Installierte 1 in 0.997s\r\n\r\n  System:\r\n    OS: Linux 5.13 Ubuntu 20.04.3 LTS (Focal Fossa)\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-8750H CPU @ 2.20GHz\r\n    Memory: 428.69 MB / 30.82 GB\r\n    Container: Yes\r\n    Shell: 5.8 - /usr/bin/zsh\r\n  Binaries:\r\n    Node: 14.19.0 - /usr/bin/node\r\n    Yarn: 1.22.17 - ~/.yarn/bin/yarn\r\n    npm: 6.14.16 - /usr/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Firefox: 96.0\r\n  npmPackages:\r\n    @angular-builders/custom-webpack: ^13.0.0 => 13.0.0 \r\n    @angular-devkit/architect: ~0.1302.0 => 0.1302.0 (0.1202.15)\r\n    @angular-devkit/build-angular: ^13.1.2 => 13.2.0 (12.2.15)\r\n    @angular-devkit/core: ^13.1.2 => 13.2.0 (12.2.15)\r\n    @angular-devkit/core/node:  undefined ()\r\n    @angular-devkit/schematics: ^13.1.2 => 13.2.0 (12.2.15)\r\n    @angular-devkit/schematics/tasks:  undefined ()\r\n    @angular-devkit/schematics/testing:  undefined ()\r\n    @angular-devkit/schematics/tools:  undefined ()\r\n    @angular-eslint/builder: ^13.0.1 => 13.0.1 \r\n    @angular-eslint/eslint-plugin: ^13.0.1 => 13.0.1 \r\n    @angular-eslint/eslint-plugin-template: ^13.0.1 => 13.0.1 \r\n    @angular-eslint/schematics: ^13.0.0 => 13.0.1 \r\n    @angular-eslint/template-parser: ^13.0.1 => 13.0.1 \r\n    @angular/animations: ^13.1.1 => 13.2.0 \r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cdk: ^13.1.1 => 13.2.0 \r\n    @angular/cdk/a11y:  undefined ()\r\n    @angular/cdk/accordion:  undefined ()\r\n    @angular/cdk/bidi:  undefined ()\r\n    @angular/cdk/clipboard:  undefined ()\r\n    @angular/cdk/coercion:  undefined ()\r\n    @angular/cdk/collections:  undefined ()\r\n    @angular/cdk/drag-drop:  undefined ()\r\n    @angular/cdk/keycodes:  undefined ()\r\n    @angular/cdk/layout:  undefined ()\r\n    @angular/cdk/observers:  undefined ()\r\n    @angular/cdk/overlay:  undefined ()\r\n    @angular/cdk/platform:  undefined ()\r\n    @angular/cdk/portal:  undefined ()\r\n    @angular/cdk/scrolling:  undefined ()\r\n    @angular/cdk/stepper:  undefined ()\r\n    @angular/cdk/table:  undefined ()\r\n    @angular/cdk/testing:  undefined ()\r\n    @angular/cdk/testing/protractor:  undefined ()\r\n    @angular/cdk/testing/selenium-webdriver:  undefined ()\r\n    @angular/cdk/testing/testbed:  undefined ()\r\n    @angular/cdk/text-field:  undefined ()\r\n    @angular/cdk/tree:  undefined ()\r\n    @angular/cli: ^13.1.2 => 13.2.0 \r\n    @angular/common: ^13.1.1 => 13.2.0 \r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ^13.1.1 => 13.2.0 \r\n    @angular/compiler-cli: ^13.1.1 => 13.2.0 \r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ^13.1.1 => 13.2.0 \r\n    @angular/core/testing:  undefined ()\r\n    @angular/forms: ^13.1.1 => 13.2.0 \r\n    @angular/language-service: ^13.1.1 => 13.2.0 \r\n    @angular/material: ^13.1.1 => 13.2.0 \r\n    @angular/material/autocomplete:  undefined ()\r\n    @angular/material/autocomplete/testing:  undefined ()\r\n    @angular/material/badge:  undefined ()\r\n    @angular/material/badge/testing:  undefined ()\r\n    @angular/material/bottom-sheet:  undefined ()\r\n    @angular/material/bottom-sheet/testing:  undefined ()\r\n    @angular/material/button:  undefined ()\r\n    @angular/material/button-toggle:  undefined ()\r\n    @angular/material/button-toggle/testing:  undefined ()\r\n    @angular/material/button/testing:  undefined ()\r\n    @angular/material/card:  undefined ()\r\n    @angular/material/card/testing:  undefined ()\r\n    @angular/material/checkbox:  undefined ()\r\n    @angular/material/checkbox/testing:  undefined ()\r\n    @angular/material/chips:  undefined ()\r\n    @angular/material/chips/testing:  undefined ()\r\n    @angular/material/core:  undefined ()\r\n    @angular/material/core/testing:  undefined ()\r\n    @angular/material/datepicker:  undefined ()\r\n    @angular/material/datepicker/testing:  undefined ()\r\n    @angular/material/dialog:  undefined ()\r\n    @angular/material/dialog/testing:  undefined ()\r\n    @angular/material/divider:  undefined ()\r\n    @angular/material/divider/testing:  undefined ()\r\n    @angular/material/expansion:  undefined ()\r\n    @angular/material/expansion/testing:  undefined ()\r\n    @angular/material/form-field:  undefined ()\r\n    @angular/material/form-field/testing:  undefined ()\r\n    @angular/material/form-field/testing/control:  undefined ()\r\n    @angular/material/grid-list:  undefined ()\r\n    @angular/material/grid-list/testing:  undefined ()\r\n    @angular/material/icon:  undefined ()\r\n    @angular/material/icon/testing:  undefined ()\r\n    @angular/material/input:  undefined ()\r\n    @angular/material/input/testing:  undefined ()\r\n    @angular/material/list:  undefined ()\r\n    @angular/material/list/testing:  undefined ()\r\n    @angular/material/menu:  undefined ()\r\n    @angular/material/menu/testing:  undefined ()\r\n    @angular/material/paginator:  undefined ()\r\n    @angular/material/paginator/testing:  undefined ()\r\n    @angular/material/progress-bar:  undefined ()\r\n    @angular/material/progress-bar/testing:  undefined ()\r\n    @angular/material/progress-spinner:  undefined ()\r\n    @angular/material/progress-spinner/testing:  undefined ()\r\n    @angular/material/radio:  undefined ()\r\n    @angular/material/radio/testing:  undefined ()\r\n    @angular/material/select:  undefined ()\r\n    @angular/material/select/testing:  undefined ()\r\n    @angular/material/sidenav:  undefined ()\r\n    @angular/material/sidenav/testing:  undefined ()\r\n    @angular/material/slide-toggle:  undefined ()\r\n    @angular/material/slide-toggle/testing:  undefined ()\r\n    @angular/material/slider:  undefined ()\r\n    @angular/material/slider/testing:  undefined ()\r\n    @angular/material/snack-bar:  undefined ()\r\n    @angular/material/snack-bar/testing:  undefined ()\r\n    @angular/material/sort:  undefined ()\r\n    @angular/material/sort/testing:  undefined ()\r\n    @angular/material/stepper:  undefined ()\r\n    @angular/material/stepper/testing:  undefined ()\r\n    @angular/material/table:  undefined ()\r\n    @angular/material/table/testing:  undefined ()\r\n    @angular/material/tabs:  undefined ()\r\n    @angular/material/tabs/testing:  undefined ()\r\n    @angular/material/toolbar:  undefined ()\r\n    @angular/material/toolbar/testing:  undefined ()\r\n    @angular/material/tooltip:  undefined ()\r\n    @angular/material/tooltip/testing:  undefined ()\r\n    @angular/material/tree:  undefined ()\r\n    @angular/material/tree/testing:  undefined ()\r\n    @angular/platform-browser: ^13.1.1 => 13.2.0 \r\n    @angular/platform-browser-dynamic: ^13.1.1 => 13.2.0 \r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: ^13.1.1 => 13.2.0 \r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @angular/service-worker: ^13.1.1 => 13.2.0 \r\n    @angular/service-worker/config:  undefined ()\r\n    @aws-sdk/client-appsync: ^3.43.0 => 3.48.0 \r\n    @capacitor-community/barcode-scanner: ^2.0.1 => 2.0.1 \r\n    @capacitor-community/http: ^1.2.0 => 1.4.1 \r\n    @capacitor/android: 3.4.0 => 3.4.0 \r\n    @capacitor/app: ^1.0.3 => 1.1.0 \r\n    @capacitor/cli: ^3.4.0 => 3.4.0 \r\n    @capacitor/clipboard: ^1.0.2 => 1.0.7 \r\n    @capacitor/core: 3.4.0 => 3.4.0 \r\n    @capacitor/filesystem: ^1.0.2 => 1.1.0 \r\n    @capacitor/geolocation: ^1.0.2 => 1.3.1 \r\n    @capacitor/haptics: ^1.0.3 => 1.1.4 \r\n    @capacitor/ios: 3.4.0 => 3.4.0 \r\n    @capacitor/keyboard: ^1.0.3 => 1.2.1 \r\n    @capacitor/push-notifications: ^1.0.7 => 1.0.9 \r\n    @capacitor/share: ^1.0.2 => 1.1.1 \r\n    @capacitor/splash-screen: ^1.0.2 => 1.2.1 \r\n    @capacitor/status-bar: ^1.0.3 => 1.0.7 \r\n    @ionic/angular: 6.0.8-dev.1644430127.1b9bb92 => 6.0.8-dev.1644430127.1b9bb92 \r\n    @ionic/angular-toolkit: ^5.0.0 => 5.0.3 \r\n    @ionic/storage-angular: ^3.0.6 => 3.0.6 \r\n    @ngx-translate/core: ^14.0.0 => 14.0.0 \r\n    @robingenz/capacitor-app-update: ^1.0.0 => 1.3.1 \r\n    @types/file-saver: ^2.0.1 => 2.0.5 \r\n    @types/fs-extra: ^9.0.0 => 9.0.13 \r\n    @types/jasmine: ^3.7.6 => 3.10.3 \r\n    @types/jasminewd2: ^2.0.3 => 2.0.10 \r\n    @types/lodash-es: ^4.17.3 => 4.17.5 \r\n    @types/node: 14.x.x => 14.18.9 (17.0.12)\r\n    @types/zen-observable: ^0.8.1 => 0.8.3 \r\n    @typescript-eslint/eslint-plugin: ^5.8.1 => 5.10.1 \r\n    @typescript-eslint/parser: ^5.8.1 => 5.10.1 \r\n    amplify-graphql-docs-generator: ^2.2.4 => 2.2.4 \r\n    amplify-graphql-types-generator: ~2.8.3 => 2.8.5 \r\n    aws-amplify: ^4.3.14 => 4.3.14 \r\n    capacitor-native-settings: ^0.1.0 => 0.1.0 \r\n    capacitor-wifi: git://github.com/solvis-bs/capacitor-wifi#c87cf0e => 0.0.2 \r\n    compare-versions: ^4.0.1 => 4.1.3 \r\n    cordova-res: ^0.15.2 => 0.15.4 \r\n    dayjs: ^1.10.5 => 1.10.7 \r\n    eslint: ^8.6.0 => 8.7.0 \r\n    eslint-config-prettier: ^8.1.0 => 8.3.0 \r\n    eslint-plugin-import: ^2.22.1 => 2.25.4 \r\n    eslint-plugin-jsdoc: ^37.5.1 => 37.7.0 \r\n    eslint-plugin-prefer-arrow: ^1.2.2 => 1.2.3 \r\n    eslint-plugin-prettier: ^4.0.0 => 4.0.0 \r\n    example-typescript:  1.0.0 \r\n    file-saver: ^2.0.2 => 2.0.5 \r\n    filesize: ^8.0.6 => 8.0.7 \r\n    fs-extra: ^10.0.0 => 10.0.0 (9.1.0, 8.1.0)\r\n    highcharts: ^9.3.1 => 9.3.2 \r\n    highcharts-angular: ^3.0.0 => 3.0.0 \r\n    jasmine-core: ~4.0.0 => 4.0.0 (2.8.0, 3.99.0)\r\n    jasmine-spec-reporter: ~7.0.0 => 7.0.0 \r\n    karma: ~6.3.2 => 6.3.12 \r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0 \r\n    karma-coverage-istanbul-reporter: ~3.0.2 => 3.0.3 \r\n    karma-jasmine: ~4.0.0 => 4.0.1 \r\n    karma-jasmine-html-reporter: ^1.6.0 => 1.7.0 \r\n    lib:  undefined (0.0.1)\r\n    license-webpack-plugin: ^4.0.0 => 4.0.0 (2.3.20)\r\n    lodash-es: ^4.17.15 => 4.17.21 \r\n    node-example:  1.0.0 \r\n    prettier: ^2.3.0 => 2.5.1 (1.19.1)\r\n    protractor: ~7.0.0 => 7.0.0 \r\n    protractor-example:  1.0.0 \r\n    rxjs: ~6.6.3 => 6.6.7 (7.5.2)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    sc-ts: ^1.1.48 => 1.1.48 \r\n    source-map-explorer: ^2.4.2 => 2.5.2 \r\n    swiper: ^7.4.1 => 7.4.1 \r\n    swiper_angular:  0.0.1 \r\n    ts-node: ^10.0.0 => 10.4.0 \r\n    tslib: ^2.0.0 => 2.3.1 (2.3.0, 1.14.1)\r\n    typescript: ~4.5.4 => 4.5.5 (4.3.5)\r\n    typescript-example:  1.0.0 \r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.4 => 0.11.4 \r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    ask-cli: 2.23.0\r\n    yarn: 1.22.11\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen calling `await this.auth.signIn(this.loginDetails.email, this.loginDetails.password);` in a offline Angular 13 PWA. An error with the name `Type Error` and with the message `Cannot read properties of undefined (reading 'split')`is thrown. I tracked it down to this line: https://github.com/aws-amplify/amplify-js/blob/e8c905b46c325ff6e50d69e10f3491409ca9e921/packages/amazon-cognito-identity-js/src/Client.js#L114\r\n\r\nI can only reproduce the error when it is deployed as an PWA on S3. When I ran the app locally an `NetworError` is thrown. \n\n### Expected behavior\n\nShould throw a error with `err.code === NetworkError`.\n\n### Reproduction steps\n\n1. create a Angular PWA with ampliy auth\r\n2. deploy the PWA\r\n3. run the PWA\r\n4. disconnect from the internet\r\n5. try to signin and check the thrown error\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9574/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9573",
    "id": 1131232342,
    "node_id": "I_kwDOBkswNc5DbTxW",
    "number": 9573,
    "title": "`observeQuery` doesn't propagate changes if a `condition` parameter is passed down.",
    "user": {
      "login": "alharris-at",
      "id": 91494052,
      "node_id": "MDQ6VXNlcjkxNDk0MDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/91494052?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alharris-at",
      "html_url": "https://github.com/alharris-at",
      "followers_url": "https://api.github.com/users/alharris-at/followers",
      "following_url": "https://api.github.com/users/alharris-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/alharris-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alharris-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alharris-at/subscriptions",
      "organizations_url": "https://api.github.com/users/alharris-at/orgs",
      "repos_url": "https://api.github.com/users/alharris-at/repos",
      "events_url": "https://api.github.com/users/alharris-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alharris-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "david-mcafee",
        "id": 14423828,
        "node_id": "MDQ6VXNlcjE0NDIzODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/david-mcafee",
        "html_url": "https://github.com/david-mcafee",
        "followers_url": "https://api.github.com/users/david-mcafee/followers",
        "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
        "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
        "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
        "repos_url": "https://api.github.com/users/david-mcafee/repos",
        "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-02-10T23:28:38Z",
    "updated_at": "2022-02-17T15:33:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nDataStore\n\n### Amplify Categories\n\nNot applicable\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 11.6.3\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n    Memory: 6.56 GB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.7.0 - ~/.nvm/versions/node/v16.7.0/bin/node\r\n    Yarn: 1.22.17 - /usr/local/bin/yarn\r\n    npm: 7.20.3 - ~/.nvm/versions/node/v16.7.0/bin/npm\r\n    Watchman: 2022.01.31.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Firefox: 91.6.0\r\n    Safari: 15.3\r\n  npmPackages:\r\n    @testing-library/jest-dom: ^5.16.2 => 5.16.2 \r\n    @testing-library/react: ^12.1.2 => 12.1.2 \r\n    @testing-library/user-event: ^13.5.0 => 13.5.0 \r\n    aws-amplify: ^4.3.14 => 4.3.14 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-scripts: 5.0.0 => 5.0.0 \r\n    web-vitals: ^2.1.4 => 2.1.4 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.15\r\n    npm: 7.20.3\r\n    typescript: 4.5.2\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen using observeQuery, I am not able to see updates to my data is there is a `criteria` parameter defined as the second parameter, but it does work if I have no criteria set.\n\n### Expected behavior\n\nI'd expect to receive updates consistently whether or not I have a local criteria defined.\n\n### Reproduction steps\n\n```sh\r\nnpx create-react-app bug-repro\r\ncd bug-repro\r\nnpm i aws-amplify\r\ncat > src/App.js <<- EOM\r\nimport { useState, useEffect } from 'react';\r\nimport { Amplify, DataStore } from 'aws-amplify';\r\nimport { initSchema } from '@aws-amplify/datastore';\r\n\r\nAmplify.configure({\r\n  aws_appsync_graphqlEndpoint: 'https://fake-appsync-endpoint/graphql',\r\n});\r\n\r\nconst { User } = initSchema({\r\n  models: {\r\n    User: {\r\n      name: 'User',\r\n      fields: {\r\n        id: {\r\n          name: 'id',\r\n          isArray: false,\r\n          type: 'ID',\r\n          isRequired: true,\r\n          attributes: [],\r\n        },\r\n        firstName: {\r\n          name: 'firstName',\r\n          isArray: false,\r\n          type: 'String',\r\n          isRequired: false,\r\n          attributes: [],\r\n        },\r\n        lastName: {\r\n          name: 'lastName',\r\n          isArray: false,\r\n          type: 'String',\r\n          isRequired: false,\r\n          attributes: [],\r\n        },\r\n        createdAt: {\r\n          name: 'createdAt',\r\n          isArray: false,\r\n          type: 'AWSDateTime',\r\n          isRequired: false,\r\n          attributes: [],\r\n          isReadOnly: true,\r\n        },\r\n        updatedAt: {\r\n          name: 'updatedAt',\r\n          isArray: false,\r\n          type: 'AWSDateTime',\r\n          isRequired: false,\r\n          attributes: [],\r\n          isReadOnly: true,\r\n        },\r\n      },\r\n      syncable: true,\r\n      pluralName: 'Users',\r\n      attributes: [\r\n        {\r\n          type: 'model',\r\n          properties: {},\r\n        },\r\n        {\r\n          type: 'auth',\r\n          properties: {\r\n            rules: [\r\n              {\r\n                allow: 'public',\r\n                operations: ['create', 'update', 'delete', 'read'],\r\n              },\r\n            ],\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  enums: {},\r\n  nonModels: {},\r\n  version: 'f6252c821249b6b1abda9fb24481c5a4',\r\n});\r\n\r\nfunction DataStoreRepro() {\r\n  const [withCriteria, setWithCriteria] = useState();\r\n  const [withoutCriteria, setWithoutCriteria] = useState();\r\n\r\n  useEffect(() =>{\r\n    const subscriptionWithCriteria = DataStore.observeQuery(User, (u) => u.firstName('eq', 'Test User')).subscribe(\r\n      (snapshot) => setWithCriteria({ items: snapshot.items, isLoading: false }),\r\n      (error) => setWithCriteria({ items: [], error, isLoading: false })\r\n    );\r\n\r\n    const subscriptionWithoutCriteria = DataStore.observeQuery(User).subscribe(\r\n      (snapshot) => setWithoutCriteria({ items: snapshot.items, isLoading: false }),\r\n      (error) => setWithoutCriteria({ items: [], error, isLoading: false })\r\n    );\r\n\r\n    return () => {\r\n      subscriptionWithCriteria.unsubscribe()\r\n      subscriptionWithoutCriteria.unsubscribe()\r\n    };\r\n  }, []);\r\n\r\n  const updateRecord = async () => {\r\n    const original = (await DataStore.query(User))[0];\r\n    await DataStore.save(\r\n      User.copyOf(original, updated => {\r\n        updated.lastName = 'Updated';\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h5>DataStore Criteria Bug Repro</h5>\r\n      <button onClick={updateRecord}>Update User</button>\r\n      <div>\r\n        {withCriteria && <code>withCriteria: {JSON.stringify(withCriteria)}</code>}\r\n        <br />\r\n        {withoutCriteria && <code>withoutCriteria: {JSON.stringify(withoutCriteria)}</code>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [isInitialized, setInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const initializeTestState = async () => {\r\n      // DataStore.clear() doesn't appear to reliably work.\r\n      indexedDB.deleteDatabase('amplify-datastore');\r\n      await DataStore.save(new User({ firstName: 'Test User', lastName: 'Initial' }));\r\n      setInitialized(true);\r\n    };\r\n\r\n    initializeTestState();\r\n  }, []);\r\n\r\n  if (!isInitialized) {\r\n    return null;\r\n  }\r\n\r\n  return <DataStoreRepro />;\r\n}\r\nEOM\r\nnpm start\r\n```\n\n### Code Snippet\n\n```javascript\r\n\r\n_See Repro Steps_\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\nN/A, no cloud backend\n\n### Manual configuration\n\naws_appsync_graphqlEndpoint: 'https://fake-appsync-endpoint/graphql'\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9573/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9571",
    "id": 1129047206,
    "node_id": "PR_kwDOBkswNc4yU6lS",
    "number": 9571,
    "title": "feat: custom pk unit tests",
    "user": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-09T21:38:49Z",
    "updated_at": "2022-02-16T18:27:04Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9571",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9571",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9571.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9571.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ ] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9571/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9568",
    "id": 1128013727,
    "node_id": "I_kwDOBkswNc5DPB-f",
    "number": 9568,
    "title": "observeQuery: support id as second parameter",
    "user": {
      "login": "clintfoster",
      "id": 1449737,
      "node_id": "MDQ6VXNlcjE0NDk3Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1449737?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clintfoster",
      "html_url": "https://github.com/clintfoster",
      "followers_url": "https://api.github.com/users/clintfoster/followers",
      "following_url": "https://api.github.com/users/clintfoster/following{/other_user}",
      "gists_url": "https://api.github.com/users/clintfoster/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clintfoster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clintfoster/subscriptions",
      "organizations_url": "https://api.github.com/users/clintfoster/orgs",
      "repos_url": "https://api.github.com/users/clintfoster/repos",
      "events_url": "https://api.github.com/users/clintfoster/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clintfoster/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "ArkamJ",
      "id": 67259466,
      "node_id": "MDQ6VXNlcjY3MjU5NDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/67259466?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArkamJ",
      "html_url": "https://github.com/ArkamJ",
      "followers_url": "https://api.github.com/users/ArkamJ/followers",
      "following_url": "https://api.github.com/users/ArkamJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArkamJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArkamJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArkamJ/subscriptions",
      "organizations_url": "https://api.github.com/users/ArkamJ/orgs",
      "repos_url": "https://api.github.com/users/ArkamJ/repos",
      "events_url": "https://api.github.com/users/ArkamJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArkamJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "ArkamJ",
        "id": 67259466,
        "node_id": "MDQ6VXNlcjY3MjU5NDY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/67259466?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArkamJ",
        "html_url": "https://github.com/ArkamJ",
        "followers_url": "https://api.github.com/users/ArkamJ/followers",
        "following_url": "https://api.github.com/users/ArkamJ/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArkamJ/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArkamJ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArkamJ/subscriptions",
        "organizations_url": "https://api.github.com/users/ArkamJ/orgs",
        "repos_url": "https://api.github.com/users/ArkamJ/repos",
        "events_url": "https://api.github.com/users/ArkamJ/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArkamJ/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-09T03:43:01Z",
    "updated_at": "2022-02-15T16:40:38Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\n_No response_\n\n### Is this related to a new or existing API?\n\nDataStore\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nThe DataStore `query` & `observe` APIs allow supplying an id in p2. However, `observeQuery` only supports a filter. I'm wondering if there is a reason for this.\r\n\r\nI have a page where I only need to load one item and observe subsequent changes. I could do this with a filter in p2, but the table can contain millions of items.\r\n\n\n### Describe the solution you'd like\n\nAllow p2 to be a simple id (like `query` & `observe`).\n\n### Describe alternatives you've considered\n\nCalling `query` and `observe` separately instead of using `observeQuery`.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9568/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9565",
    "id": 1127249244,
    "node_id": "I_kwDOBkswNc5DMHVc",
    "number": 9565,
    "title": "Sinon included as dependency instead of devDependency",
    "user": {
      "login": "peternedap",
      "id": 46710612,
      "node_id": "MDQ6VXNlcjQ2NzEwNjEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/46710612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peternedap",
      "html_url": "https://github.com/peternedap",
      "followers_url": "https://api.github.com/users/peternedap/followers",
      "following_url": "https://api.github.com/users/peternedap/following{/other_user}",
      "gists_url": "https://api.github.com/users/peternedap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peternedap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peternedap/subscriptions",
      "organizations_url": "https://api.github.com/users/peternedap/orgs",
      "repos_url": "https://api.github.com/users/peternedap/repos",
      "events_url": "https://api.github.com/users/peternedap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peternedap/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 900891664,
        "node_id": "MDU6TGFiZWw5MDA4OTE2NjQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Build",
        "name": "Build",
        "color": "e99695",
        "default": false,
        "description": "Related to build issues"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-08T13:20:28Z",
    "updated_at": "2022-02-08T16:42:22Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nNot applicable\n\n### Amplify Categories\n\nstorage\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\nn/a\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nAmplify-js uses Sinon for testing, but includes it as a dependency rather than a devDependency. As a result, each project using `aws-amplify` will automatically include `sinon` as a subdependency:\r\n\r\n```\r\nyarn why v1.22.5\r\n[1/4] Why do we have the module \"sinon\"...?\r\n[2/4] Initialising dependency graph...\r\n[3/4] Finding dependency...\r\n[4/4] Calculating file sizes...\r\n=> Found \"sinon@7.5.0\"\r\ninfo Reasons this module exists\r\n   - \"aws-amplify#@aws-amplify#storage\" depends on it\r\n   - Hoisted from \"aws-amplify#@aws-amplify#storage#sinon\"\r\n```\n\n### Expected behavior\n\nSinon should be removed from the `dependencies` category and moved to the `devDependencies` in https://github.com/aws-amplify/amplify-js/blob/main/packages/storage/package.json#L51 \n\n### Reproduction steps\n\neither `yarn add aws-amplify` or `npm install aws-amplify` \n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9565/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9563",
    "id": 1126352802,
    "node_id": "PR_kwDOBkswNc4yMIaR",
    "number": 9563,
    "title": "feat(DataStore): Add Cascading Delete for LazyLoading",
    "user": {
      "login": "ArkamJ",
      "id": 67259466,
      "node_id": "MDQ6VXNlcjY3MjU5NDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/67259466?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ArkamJ",
      "html_url": "https://github.com/ArkamJ",
      "followers_url": "https://api.github.com/users/ArkamJ/followers",
      "following_url": "https://api.github.com/users/ArkamJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/ArkamJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ArkamJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ArkamJ/subscriptions",
      "organizations_url": "https://api.github.com/users/ArkamJ/orgs",
      "repos_url": "https://api.github.com/users/ArkamJ/repos",
      "events_url": "https://api.github.com/users/ArkamJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ArkamJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-07T18:33:36Z",
    "updated_at": "2022-02-07T18:41:26Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9563",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9563",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9563.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9563.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\nThe pull request implements cascading delete by iterating through all model relationships and determining if a given instance to be deleted has parent models that ought to be deleted as well. The specific parent model is queried for and then recursively deleted.\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9563/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9561",
    "id": 1125755669,
    "node_id": "I_kwDOBkswNc5DGasV",
    "number": 9561,
    "title": "receiving a validation error while loging in using cognito on a physical device",
    "user": {
      "login": "UsanaseD",
      "id": 47520560,
      "node_id": "MDQ6VXNlcjQ3NTIwNTYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/47520560?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/UsanaseD",
      "html_url": "https://github.com/UsanaseD",
      "followers_url": "https://api.github.com/users/UsanaseD/followers",
      "following_url": "https://api.github.com/users/UsanaseD/following{/other_user}",
      "gists_url": "https://api.github.com/users/UsanaseD/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/UsanaseD/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/UsanaseD/subscriptions",
      "organizations_url": "https://api.github.com/users/UsanaseD/orgs",
      "repos_url": "https://api.github.com/users/UsanaseD/repos",
      "events_url": "https://api.github.com/users/UsanaseD/events{/privacy}",
      "received_events_url": "https://api.github.com/users/UsanaseD/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-07T09:54:10Z",
    "updated_at": "2022-02-17T13:30:20Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n System:\r\n    OS: Linux 5.13 Ubuntu 20.04.3 LTS (Focal Fossa)\r\n    CPU: (4) x64 Intel(R) Core(TM) i5-3230M CPU @ 2.60GHz\r\n    Memory: 316.82 MB / 15.51 GB\r\n    Container: Yes\r\n    Shell: 5.0.17 - /bin/bash\r\n  Binaries:\r\n    Node: 14.19.0 - /usr/bin/node\r\n    npm: 6.14.16 - /usr/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Firefox: 96.0\r\n  npmPackages:\r\n    @azure/core-asynciterator-polyfill: ^1.0.0 => 1.0.0 \r\n    @babel/core: ^7.16.12 => 7.17.0 \r\n    @expo/vector-icons: ^12.0.5 => 12.0.5 \r\n    @gorhom/bottom-sheet: ^4.1.5 => 4.1.5 \r\n    @mapbox/polyline: ^1.1.1 => 1.1.1 \r\n    @react-native-async-storage/async-storage: ^1.15.17 => 1.15.17 \r\n    @react-native-community/geolocation: ^2.0.2 => 2.0.2 \r\n    @react-native-community/masked-view: ^0.1.11 => 0.1.11 \r\n    @react-native-community/netinfo: ^7.1.3 => 7.1.9 \r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1 \r\n    @react-navigation/bottom-tabs: ^6.0.9 => 6.2.0 \r\n    @react-navigation/drawer: ^6.1.8 => 6.3.0 \r\n    @react-navigation/material-top-tabs: ^6.0.6 => 6.1.1 \r\n    @react-navigation/native: ^6.0.6 => 6.0.8 \r\n    @react-navigation/native-stack: ^6.2.5 => 6.5.0 \r\n    @react-navigation/stack: ^6.0.11 => 6.1.1 \r\n    @stripe/stripe-react-native: ^0.2.3 => 0.2.3 \r\n    @types/react: ~17.0.38 => 17.0.39 \r\n    @types/react-native: ~0.66.15 => 0.66.15 \r\n    @types/react-native-button: ^3.0.1 => 3.0.1 \r\n    @types/styled-components: ^5.1.21 => 5.1.22 \r\n    HelloWorld:  0.0.1 \r\n    ReactNativeRootToast:  0.0.1 \r\n    aws-amplify: ^4.3.12 => 4.3.14 \r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2 \r\n    babel-plugin-styled-components: ^2.0.2 => 2.0.2 \r\n    expo: ~44.0.5 => 44.0.6 \r\n    expo-asset: ~8.4.6 => 8.4.6 \r\n    expo-av: ^10.2.0 => 10.2.1 \r\n    expo-clipboard: ~2.1.0 => 2.1.1 \r\n    expo-constants: ~13.0.1 => 13.0.2 \r\n    expo-font: ~10.0.4 => 10.0.5 \r\n    expo-image-picker: ~12.0.1 => 12.0.2 \r\n    expo-linear-gradient: ^11.0.0 => 11.0.2 \r\n    expo-linking: ~3.0.0 => 3.0.0 \r\n    expo-location: ^14.0.1 => 14.0.2 \r\n    expo-modules-core: ^0.6.4 => 0.6.5 \r\n    expo-splash-screen: ~0.14.1 => 0.14.2 \r\n    expo-status-bar: ~1.2.0 => 1.2.0 \r\n    expo-web-browser: ~10.1.0 => 10.1.1 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    jest-expo: ~44.0.1 => 44.0.1 \r\n    lodash.isequal: ^4.5.0 => 4.5.0 \r\n    lottie-react-native: ^5.0.1 => 5.0.1 \r\n    moment: ^2.29.1 => 2.29.1 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-dom: 17.0.2 => 17.0.2 \r\n    react-native: ^0.64.3 => 0.64.3 \r\n    react-native-animatable: ^1.3.3 => 1.3.3 \r\n    react-native-button: ^3.0.1 => 3.0.1 \r\n    react-native-elements: ^3.4.2 => 3.4.2 \r\n    react-native-gesture-handler: ^2.1.1 => 2.2.0 \r\n    react-native-google-places-autocomplete: ^2.4.1 => 2.4.1 \r\n    react-native-keyboard-aware-scroll-view: ^0.9.5 => 0.9.5 \r\n    react-native-maps: ^0.29.4 => 0.29.4 \r\n    react-native-maps-directions: ^1.8.0 => 1.8.0 \r\n    react-native-pager-view: ^5.4.9 => 5.4.9 \r\n    react-native-paper: ^4.11.2 => 4.11.2 \r\n    react-native-ratings: ^8.1.0 => 8.1.0 (8.0.4)\r\n    react-native-reanimated: ^2.3.1 => 2.4.0 \r\n    react-native-responsive-screen: ^1.4.2 => 1.4.2 \r\n    react-native-root-toast: ^3.3.0 => 3.3.0 \r\n    react-native-safe-area-context: ^3.3.2 => 3.3.2 \r\n    react-native-screens: ~3.10.2 => 3.10.2 \r\n    react-native-slideshow: ^1.0.1 => 1.0.1 \r\n    react-native-svg: ^12.1.1 => 12.1.1 \r\n    react-native-tab-view: ^3.1.1 => 3.1.1 \r\n    react-native-web: 0.17.5 => 0.17.5 \r\n    react-simple-star-rating: ^4.0.5 => 4.0.5 \r\n    responsive-screen:  0.1.0 \r\n    responsive-screen-orientation-change:  0.1.0 \r\n    responsive-screen-styled-components:  0.1.0 \r\n    styled-components: ^5.3.3 => 5.3.3 \r\n    styled-components/macro:  undefined ()\r\n    styled-components/native:  undefined ()\r\n    styled-components/primitives:  undefined ()\r\n    typescript: ~4.5.5 => 4.5.5 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.13\r\n    @aws-amplify/ui-react: 2.1.3\r\n    aws-amplify: 4.3.10\r\n    corepack: 0.10.0\r\n    eas-cli: 0.45.1\r\n    expo-cli: 5.0.3\r\n    expo-linear-gradient: 10.0.3\r\n    npm: 6.14.16\r\n    parcel-bundler: 1.12.5\r\n    react-native-google-places-autocomplete: 2.4.1\r\n    react-native-reanimated: 2.2.4\r\n    react-native-root-siblings: 4.1.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nwhen logging in using cognito on a physical device I get this error:\r\n`2 validation errors detected: Value at 'userAlias' failed to satisfy constraint: Member must satisfy regular expression pattern: [\\p{L}\\p{M}\\p{S}\\p{N}\\p{P}]+; Value at 'userName' failed to satisfy constraint: Member must satisfy regular expression pattern: [\\p{L}\\p{M}\\p{S}\\p{N}\\p{P}]+`\n\n### Expected behavior\n\nI was expecting a login\n\n### Reproduction steps\n\nafter running login fuction i immediately get the error\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n  async function signin() {\r\n    try {\r\n      const { username, password } = data;\r\n      await Auth.signIn({\r\n        username,\r\n        password,\r\n      });\r\n      navigation.navigate(\"DrawerNav\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      Toast.show(err.message);\r\n    }\r\n  }\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n2 validation errors detected: Value at 'userAlias' failed to satisfy constraint: Member must satisfy regular expression pattern: [\\p{L}\\p{M}\\p{S}\\p{N}\\p{P}]+; Value at 'userName' failed to satisfy constraint: Member must satisfy regular expression pattern: [\\p{L}\\p{M}\\p{S}\\p{N}\\p{P}]+\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9561/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9559",
    "id": 1124998742,
    "node_id": "I_kwDOBkswNc5DDh5W",
    "number": 9559,
    "title": "aws-amplify-vue build fails with recent versions of node",
    "user": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 900891664,
        "node_id": "MDU6TGFiZWw5MDA4OTE2NjQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Build",
        "name": "Build",
        "color": "e99695",
        "default": false,
        "description": "Related to build issues"
      },
      {
        "id": 1071378099,
        "node_id": "MDU6TGFiZWwxMDcxMzc4MDk5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Vue",
        "name": "Vue",
        "color": "c2e0c6",
        "default": false,
        "description": "Related to Vue Framework issues"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-05T18:22:41Z",
    "updated_at": "2022-02-05T18:35:01Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nNot applicable\r\n\r\n### Amplify APIs\r\n\r\nNot applicable\r\n\r\n### Amplify Categories\r\n\r\n_No response_\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 11.6.3\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 1.99 GB / 16.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 16.13.2 - ~/.nvm/versions/node/v16.13.2/bin/node\r\n    Yarn: 1.22.17 - ~/.nvm/versions/node/v16.13.2/bin/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n  Browsers:\r\n    Brave Browser: 98.1.35.100\r\n    Chrome: 98.0.4758.80\r\n    Edge: 97.0.1072.76\r\n    Firefox: 91.5.0\r\n    Safari: 15.3\r\n  npmGlobalPackages:\r\n    corepack: 0.10.0\r\n    npm: 8.1.2\r\n    yarn: 1.22.17\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nWhen attempting to run `yarn build` using Node version 17.4.0 (as well as earlier versions of Node 17), I receive the following error:\r\n\r\n```\r\naws-amplify-vue: node:internal/crypto/hash:67\r\naws-amplify-vue:   this[kHandle] = new _Hash(algorithm, xofLen);\r\naws-amplify-vue:                   ^\r\naws-amplify-vue: Error: error:0308010C:digital envelope routines::unsupported\r\naws-amplify-vue:     at new Hash (node:internal/crypto/hash:67:19)\r\naws-amplify-vue:     at Object.createHash (node:crypto:135:10)\r\naws-amplify-vue:     at module.exports (/Volumes/workplace/origin/amplify-js/node_modules/webpack/lib/util/createHash.js:135:53)\r\naws-amplify-vue:     at NormalModule._initBuildHash (/Volumes/workplace/origin/amplify-js/node_modules/webpack/lib/NormalModule.js:417:16)\r\naws-amplify-vue:     at handleParseError (/Volumes/workplace/origin/amplify-js/node_modules/webpack/lib/NormalModule.js:471:10)\r\naws-amplify-vue:     at /Volumes/workplace/origin/amplify-js/node_modules/webpack/lib/NormalModule.js:503:5\r\naws-amplify-vue:     at /Volumes/workplace/origin/amplify-js/node_modules/webpack/lib/NormalModule.js:358:12\r\naws-amplify-vue:     at /Volumes/workplace/origin/amplify-js/node_modules/loader-runner/lib/LoaderRunner.js:373:3\r\naws-amplify-vue:     at iterateNormalLoaders (/Volumes/workplace/origin/amplify-js/node_modules/loader-runner/lib/LoaderRunner.js:214:10)\r\naws-amplify-vue:     at Array.<anonymous> (/Volumes/workplace/origin/amplify-js/node_modules/loader-runner/lib/LoaderRunner.js:205:4)\r\naws-amplify-vue:     at Storage.finished (/Volumes/workplace/origin/amplify-js/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:55:16)\r\naws-amplify-vue:     at /Volumes/workplace/origin/amplify-js/node_modules/enhanced-resolve/lib/CachedInputFileSystem.js:91:9\r\naws-amplify-vue:     at /Volumes/workplace/origin/amplify-js/node_modules/graceful-fs/graceful-fs.js:123:16\r\naws-amplify-vue:     at FSReqCallback.readFileAfterClose [as oncomplete] (node:internal/fs/read_file_context:68:3) {\r\naws-amplify-vue:   opensslErrorStack: [ 'error:03000086:digital envelope routines::initialization error' ],\r\naws-amplify-vue:   library: 'digital envelope routines',\r\naws-amplify-vue:   reason: 'unsupported',\r\naws-amplify-vue:   code: 'ERR_OSSL_EVP_UNSUPPORTED'\r\naws-amplify-vue: }\r\naws-amplify-vue: Node.js v17.4.0\r\naws-amplify-vue: error Command failed with exit code 1.\r\naws-amplify-vue: info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```\r\n\r\nI attempted previous releases of Node 17, but the last supported version appears to be Node v16.13.2 (npm v8.1.2), which is the `lts` version. I realize this *may* be expected, but felt it was worth calling out. If this *is* expected, we should update [our contributing guide](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#setting-up-for-local-development) (i.e. from `You will need the latest version of [Node.js](https://nodejs.org/en/) on your system` to something like `You will need the lts version of Node.js on your system`)\r\n\r\n### Expected behavior\r\n\r\nI would expect the build to succeed when using recent versions of Node\r\n\r\n### Reproduction steps\r\n\r\n1. `nvm install 17.4.0`\r\n2. cd `amplify-js`\r\n3. `yarn build`\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\nNone (attempting to build `amplify-js` locally)\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9559/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9556",
    "id": 1124705858,
    "node_id": "I_kwDOBkswNc5DCaZC",
    "number": 9556,
    "title": "DataStore observeQuery function not behaving as expected on update",
    "user": {
      "login": "alharris-at",
      "id": 91494052,
      "node_id": "MDQ6VXNlcjkxNDk0MDUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/91494052?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alharris-at",
      "html_url": "https://github.com/alharris-at",
      "followers_url": "https://api.github.com/users/alharris-at/followers",
      "following_url": "https://api.github.com/users/alharris-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/alharris-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alharris-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alharris-at/subscriptions",
      "organizations_url": "https://api.github.com/users/alharris-at/orgs",
      "repos_url": "https://api.github.com/users/alharris-at/repos",
      "events_url": "https://api.github.com/users/alharris-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alharris-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "david-mcafee",
        "id": 14423828,
        "node_id": "MDQ6VXNlcjE0NDIzODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/david-mcafee",
        "html_url": "https://github.com/david-mcafee",
        "followers_url": "https://api.github.com/users/david-mcafee/followers",
        "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
        "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
        "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
        "repos_url": "https://api.github.com/users/david-mcafee/repos",
        "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-02-04T23:30:52Z",
    "updated_at": "2022-02-14T23:50:27Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nDataStore\n\n### Amplify Categories\n\nNot applicable\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 11.6.3\r\n    CPU: (16) x64 Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz\r\n    Memory: 4.42 GB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.7.0 - ~/.nvm/versions/node/v16.7.0/bin/node\r\n    Yarn: 1.22.17 - /usr/local/bin/yarn\r\n    npm: 7.20.3 - ~/.nvm/versions/node/v16.7.0/bin/npm\r\n    Watchman: 2022.01.31.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Firefox: 91.5.1\r\n    Safari: 15.3\r\n  npmPackages:\r\n    @testing-library/jest-dom: ^5.16.2 => 5.16.2 \r\n    @testing-library/react: ^12.1.2 => 12.1.2 \r\n    @testing-library/user-event: ^13.5.0 => 13.5.0 \r\n    aws-amplify: ^4.3.14 => 4.3.14 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-scripts: 5.0.0 => 5.0.0 \r\n    web-vitals: ^2.1.4 => 2.1.4 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.9\r\n    npm: 7.20.3\r\n    typescript: 4.5.2\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen using observeQuery, it appears on local element update, only partial fields from the model are being returned, and the remaining fields are just not propagated through the snapshot callback.\n\n### Expected behavior\n\nI'd expect the full model to be returned, since we return all matching elements from the query as part of the response. I have confirmed that in IndexedDB the full model is updated and appears to be complete.\n\n### Reproduction steps\n\nI created a repo to demo this behavior, you should be able to just pull and verify, but the README.md also includes repro steps.\r\n\r\nRepo: https://github.com/alharris-at/observeQueryBugRepro\r\nCommit Adding Repro: https://github.com/alharris-at/observeQueryBugRepro/commit/c330849f0047fc48ac05647f8ba56bdb5761f2b9\n\n### Code Snippet\n\nMy repro code has a bunch of test harness config in it, but effectively the functional code is below.\r\n\r\n```javascript\r\nimport React, { useEffect, useState } from 'react';\r\nimport Amplify, { DataStore } from 'aws-amplify';\r\nimport { User } from './models'\r\n\r\nAmplify.configure({ ...config here });\r\n\r\nexport default function App() {\r\n  const [idToUpdate, setIdToUpdate] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const initializeAppState = async () => {\r\n      const queriedIdToUpdate = (await DataStore.query(User, (criteria) => criteria.firstName('eq', 'Update')))[0].id;\r\n      setIdToUpdate(queriedIdToUpdate);\r\n\r\n      const subscription = DataStore.observeQuery(User).subscribe((snapshot) => setUsers(snapshot.items));\r\n\r\n      return () => subscription && subscription.unsubscribe();\r\n    };\r\n\r\n    return initializeAppState();\r\n  }, []);\r\n\r\n  const updateUser = async () => {\r\n    const original = await DataStore.query(User, idToUpdate);\r\n\r\n    await DataStore.save(\r\n      User.copyOf(original, updated => {\r\n        updated.firstName = \"I've been updated\";\r\n      })\r\n    );  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={updateUser}>Update User</button>\r\n      <h5>Users</h5>\r\n      <ul>\r\n        {users.map((user)=> {\r\n          return <li key={user.id}>First Name: \"{user.firstName}\", Last Name: \"{user.lastName}\"</li>\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\n\n### Log output\n\nN/A - not using the CLI to generate this repro.\n\n### aws-exports.js\n\nN/A - I don't have an aws-exports.js file, I'm just testing datastore in isolation.\n\n### Manual configuration\n\nIncluded the folllowing manual config so datastore will initialize, but we're not communicating w/ a cloud backend.\r\n\r\n```json\r\n{\r\n    aws_appsync_graphqlEndpoint: 'https://fake-appsync-endpoint/graphql',\r\n}\r\n```\n\n### Additional configuration\n\nN/A\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\nBefore Update:\r\n\r\n![Screen Shot 2022-02-04 at 3 29 54 PM](https://user-images.githubusercontent.com/91494052/152616691-c4fb9c6c-f0ba-48c4-9553-d8b32533d457.png)\r\n\r\nAfter Update:\r\n\r\n![Screen Shot 2022-02-04 at 3 29 58 PM](https://user-images.githubusercontent.com/91494052/152616705-89561eef-b5bb-4355-9bb5-fbd14003c58f.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9556/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9555",
    "id": 1124654131,
    "node_id": "I_kwDOBkswNc5DCNwz",
    "number": 9555,
    "title": "Calling Auth.signUp from an Angular Package Format Library produces type error?",
    "user": {
      "login": "fireflysemantics",
      "id": 25155787,
      "node_id": "MDQ6VXNlcjI1MTU1Nzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25155787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fireflysemantics",
      "html_url": "https://github.com/fireflysemantics",
      "followers_url": "https://api.github.com/users/fireflysemantics/followers",
      "following_url": "https://api.github.com/users/fireflysemantics/following{/other_user}",
      "gists_url": "https://api.github.com/users/fireflysemantics/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fireflysemantics/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fireflysemantics/subscriptions",
      "organizations_url": "https://api.github.com/users/fireflysemantics/orgs",
      "repos_url": "https://api.github.com/users/fireflysemantics/repos",
      "events_url": "https://api.github.com/users/fireflysemantics/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fireflysemantics/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 951723134,
        "node_id": "MDU6TGFiZWw5NTE3MjMxMzQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Angular",
        "name": "Angular",
        "color": "dd0031",
        "default": false,
        "description": "Related to Angular 2+"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-04T21:59:18Z",
    "updated_at": "2022-02-05T02:57:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nAngular\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n^CTemp/tsamplifylibdemoapp $ npx envinfo --system --binaries --browsers --npmPackages --duplicates --npmGlobalPackages\r\n\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 556.92 MB / 16.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 16.13.0 - ~/.nvm/versions/node/v16.13.0/bin/node\r\n    npm: 8.1.0 - ~/.nvm/versions/node/v16.13.0/bin/npm\r\n  Browsers:\r\n    Chrome: 98.0.4758.80\r\n    Firefox: 96.0.3\r\n    Safari: 15.2\r\n  npmPackages:\r\n    @angular-devkit/build-angular: ~13.0.3 => 13.0.4 \r\n    @angular/animations: ~13.0.0 => 13.0.3 \r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cli: ~13.0.3 => 13.0.4 \r\n    @angular/common: ~13.0.0 => 13.0.3 \r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ~13.0.0 => 13.0.3 \r\n    @angular/compiler-cli: ~13.0.0 => 13.0.3 \r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ~13.0.0 => 13.0.3 \r\n    @angular/core/testing:  undefined ()\r\n    @angular/forms: ~13.0.0 => 13.0.3 \r\n    @angular/platform-browser: ~13.0.0 => 13.0.3 \r\n    @angular/platform-browser-dynamic: ~13.0.0 => 13.0.3 \r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: ~13.0.0 => 13.0.3 \r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @types/jasmine: ~3.10.0 => 3.10.3 \r\n    @types/node: ^12.11.1 => 12.20.43 \r\n    amplifylibe: ^0.0.1 => 0.0.1 \r\n    jasmine-core: ~3.10.0 => 3.10.1 \r\n    karma: ~6.3.0 => 6.3.13 \r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0 \r\n    karma-coverage: ~2.0.3 => 2.0.3 \r\n    karma-coverage-coffee-example:  1.0.0 \r\n    karma-jasmine: ~4.0.0 => 4.0.1 \r\n    karma-jasmine-html-reporter: ~1.7.0 => 1.7.0 \r\n    rxjs: ~7.4.0 => 7.4.0 (6.6.7)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    tslib: ^2.3.0 => 2.3.1 (1.14.1, 2.1.0)\r\n    typescript: ~4.4.3 => 4.4.4 \r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.4 => 0.11.4 \r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    @angular/cli: 13.0.3\r\n    @aws-amplify/cli: 7.5.1\r\n    @fireflysemantics/fsd-cli: 1.0.124\r\n    @jsdevtools/version-bump-prompt: 6.1.0\r\n    @superflycss/cli: 4.2.00\r\n    corepack: 0.10.0\r\n    del-cli: 4.0.1\r\n    npm-check-updates: 12.0.2\r\n    npm-install-peers: 1.2.2\r\n    npm: 8.1.0\r\n    verdaccio: 5.2.2\n\n### Describe the bug\n\nI wrote it up here on SO and provided demo projects:\r\n\r\nhttps://stackoverflow.com/questions/70993171/calling-auth-signup-from-an-angular-package-format-library-produces-type-error\n\n### Expected behavior\n\nI wrote it up here on SO and provided demo projects:\r\n\r\nhttps://stackoverflow.com/questions/70993171/calling-auth-signup-from-an-angular-package-format-library-produces-type-error\n\n### Reproduction steps\n\nI wrote it up here on SO and provided demo projects:\r\n\r\nhttps://stackoverflow.com/questions/70993171/calling-auth-signup-from-an-angular-package-format-library-produces-type-error\n\n### Code Snippet\n\nI wrote it up here on SO and provided demo projects:\r\n\r\nhttps://stackoverflow.com/questions/70993171/calling-auth-signup-from-an-angular-package-format-library-produces-type-error\n\n### Log output\n\nI wrote it up here on SO and provided demo projects:\r\n\r\nhttps://stackoverflow.com/questions/70993171/calling-auth-signup-from-an-angular-package-format-library-produces-type-error\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9555/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9547",
    "id": 1122542842,
    "node_id": "I_kwDOBkswNc5C6KT6",
    "number": 9547,
    "title": "Add support for `/graphql/realtime` url for Mock",
    "user": {
      "login": "yuth",
      "id": 511386,
      "node_id": "MDQ6VXNlcjUxMTM4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511386?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yuth",
      "html_url": "https://github.com/yuth",
      "followers_url": "https://api.github.com/users/yuth/followers",
      "following_url": "https://api.github.com/users/yuth/following{/other_user}",
      "gists_url": "https://api.github.com/users/yuth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yuth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yuth/subscriptions",
      "organizations_url": "https://api.github.com/users/yuth/orgs",
      "repos_url": "https://api.github.com/users/yuth/repos",
      "events_url": "https://api.github.com/users/yuth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yuth/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-03T00:58:22Z",
    "updated_at": "2022-02-03T00:58:22Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nNew framework\n\n### Is this related to a new or existing API?\n\nGraphQL API\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nAmplify JS has special handling for Websocket subscription. when the AppSync API is using custom domain. Please add support for the same when using mock. When running mock server a special variable `aws_appsync_dangerously_connect_to_http_endpoint_for_testing` is set to allow to connect using unsecure websocket. \r\n\r\nhttps://github.com/aws-amplify/amplify-js/blob/bb60060d30c7463d1893b7678ebc18e959b46990/packages/pubsub/src/Providers/AWSAppSyncRealTimeProvider.ts#L144-L148\r\n\r\nhttps://github.com/aws-amplify/amplify-js/blob/bb60060d30c7463d1893b7678ebc18e959b46990/packages/pubsub/src/Providers/AWSAppSyncRealTimeProvider.ts#L170-L172\r\n\r\nCLI has a bug report(https://github.com/aws-amplify/amplify-cli/issues/9621) to add support to `/graphql/realtime` endpoint and we would like feature parity in the libraries as well\n\n### Describe the solution you'd like\n\nWhen `aws_appsync_dangerously_connect_to_http_endpoint_for_testing` is set, add `/realtime` to the websocket url\n\n### Describe alternatives you've considered\n\nKeeping the mock subscription server in `/grpahql` but it would degrade the DX\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9547/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9545",
    "id": 1121410663,
    "node_id": "I_kwDOBkswNc5C115n",
    "number": 9545,
    "title": "API.graphql returns incorrect type for promise result",
    "user": {
      "login": "Nicktho",
      "id": 8622243,
      "node_id": "MDQ6VXNlcjg2MjIyNDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8622243?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nicktho",
      "html_url": "https://github.com/Nicktho",
      "followers_url": "https://api.github.com/users/Nicktho/followers",
      "following_url": "https://api.github.com/users/Nicktho/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nicktho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nicktho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nicktho/subscriptions",
      "organizations_url": "https://api.github.com/users/Nicktho/orgs",
      "repos_url": "https://api.github.com/users/Nicktho/repos",
      "events_url": "https://api.github.com/users/Nicktho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nicktho/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 908644642,
        "node_id": "MDU6TGFiZWw5MDg2NDQ2NDI=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/GraphQL",
        "name": "GraphQL",
        "color": "e535ab",
        "default": false,
        "description": "Related to GraphQL"
      },
      {
        "id": 1067841947,
        "node_id": "MDU6TGFiZWwxMDY3ODQxOTQ3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/TypeScript",
        "name": "TypeScript",
        "color": "b60205",
        "default": false,
        "description": "Related to TypeScript issues"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-02-02T01:25:03Z",
    "updated_at": "2022-02-02T15:43:52Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nGraphQL API\n\n### Amplify Categories\n\napi\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 11.3.1\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 126.09 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.3.0 - /opt/homebrew/bin/node\r\n    npm: 7.15.1 - /opt/homebrew/bin/npm\r\n  Browsers:\r\n    Chrome: 97.0.4692.99\r\n    Firefox Developer Edition: 97.0\r\n    Safari: 14.1\r\n  npmPackages:\r\n    @aws-amplify/api-graphql: ^2.2.19 => 2.2.19 \r\n    @aws-amplify/auth: ^4.3.20 => 4.3.20 \r\n    @aws-amplify/core: ^4.3.12 => 4.3.12 \r\n    @emotion/react: ^11.7.0 => 11.7.1 \r\n    @emotion/styled: ^11.6.0 => 11.6.0 (10.3.0)\r\n    @mui/system: ^5.2.3 => 5.2.3 \r\n    @mui/types: ^7.1.0 => 7.1.0 \r\n    @react-aria/label: ^3.2.1 => 3.2.1 \r\n    @storybook/addon-actions: ^6.4.14 => 6.4.14 \r\n    @storybook/addon-essentials: ^6.4.14 => 6.4.14 \r\n    @storybook/addon-links: ^6.4.14 => 6.4.14 \r\n    @storybook/builder-webpack5: ^6.4.14 => 6.4.14 \r\n    @storybook/manager-webpack5: ^6.4.14 => 6.4.14 \r\n    @storybook/preset-create-react-app: ^4.0.0 => 4.0.0 \r\n    @storybook/react: ^6.4.14 => 6.4.14 \r\n    @testing-library/jest-dom: ^5.15.1 => 5.16.1 \r\n    @testing-library/react: ^11.2.7 => 11.2.7 \r\n    @testing-library/user-event: ^12.8.3 => 12.8.3 \r\n    @types/jest: ^27.4.0 => 27.4.0 \r\n    @types/node: ^16.11.20 => 16.11.20 (14.18.9)\r\n    @types/react: ^17.0.38 => 17.0.38 \r\n    @types/react-dom: ^17.0.11 => 17.0.11 \r\n    @typescript-eslint/eslint-plugin: ^4.33.0 => 4.33.0 (5.10.1)\r\n    aws-amplify: ^4.3.12 => 4.3.12 \r\n    emotion-normalize: ^11.0.1 => 11.0.1 \r\n    emotion-reset: ^3.0.1 => 3.0.1 \r\n    eslint: ^7.32.0 => 7.32.0 (8.7.0)\r\n    eslint-config-airbnb: ^19.0.2 => 19.0.2 (18.2.1)\r\n    eslint-config-airbnb-typescript: ^12.3.1 => 12.3.1 \r\n    eslint-plugin-jest: ^24.7.0 => 24.7.0 (25.7.0)\r\n    eslint-plugin-jsx-a11y: ^6.5.1 => 6.5.1 \r\n    eslint-plugin-react: ^7.27.1 => 7.27.1 \r\n    eslint-plugin-react-hooks: ^4.3.0 => 4.3.0 \r\n    eslint-plugin-testing-library: ^3.10.2 => 3.10.2 (5.0.4)\r\n    formik: ^2.2.9 => 2.2.9 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-confetti: ^6.0.1 => 6.0.1 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-router-dom: ^6.0.2 => 6.1.1 \r\n    react-scripts: ^5.0.0 => 5.0.0 \r\n    swr: ^1.1.2 => 1.1.2 \r\n    swr-immutable:  0.0.1 \r\n    swr-infinite:  0.0.1 \r\n    typescript: ^4.5.2 => 4.5.3 \r\n    web-vitals: ^1.1.2 => 1.1.2 \r\n    webpack: ^5.67.0 => 5.67.0 (4.46.0)\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    aws-cdk: 1.132.0\r\n    create-next-app: 11.0.1\r\n    create-react-app: 4.0.3\r\n    n: 7.1.0\r\n    npm: 7.15.1\r\n    pure-prompt: 1.16.0\r\n    vercel: 23.0.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\n`API.graphql()` return type is `Promise<GraphQLResult> | Observable<object>`.\r\n\r\nAlthough, when using `amplify` the `errors` object on a `GraphQLResult` does not conform to the type `GraphQLError[]` as defined by `GraphQLResult`.\r\n\r\nThe following properties exist on the `errors` object that are not in the type : `errorInfo`, `errorType`.\n\n### Expected behavior\n\nI expect the type returned by `API.graphql()` to allow the addition of the `errorInfo` and `errorType` attributes so that I can act on them in a typescript project using amplify.\n\n### Reproduction steps\n\n1. npm install `aws-amplify`\r\n2. import `API` from `aws-amplify`\r\n3. Make a call to `graphql` and try to act on `errorInfo` and `errorType`\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n(API.graphql({\r\n  query: someQuery,\r\n  // we have to narrow the type as it can return an Observable for subscriptions\r\n}) as Promise<GraphQLResult<object>>).then((result) => {\r\n  // below typescript error for errorType, see screenshot\r\n  console.log(result.errors?.errorType);\r\n});\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/8622243/152078647-01f11d8d-b3f7-4797-80a4-0143d2b3310a.png)\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\nProperty 'errorType' does not exist on type 'GraphQLError[]'.ts(2339)\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9545/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9544",
    "id": 1121201981,
    "node_id": "I_kwDOBkswNc5C1C89",
    "number": 9544,
    "title": "Auth.signIn return userNotFount instead of userNotConfirmed when phone and email sing up enabled in Cognito",
    "user": {
      "login": "torgeadelin",
      "id": 14194394,
      "node_id": "MDQ6VXNlcjE0MTk0Mzk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/14194394?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/torgeadelin",
      "html_url": "https://github.com/torgeadelin",
      "followers_url": "https://api.github.com/users/torgeadelin/followers",
      "following_url": "https://api.github.com/users/torgeadelin/following{/other_user}",
      "gists_url": "https://api.github.com/users/torgeadelin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/torgeadelin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/torgeadelin/subscriptions",
      "organizations_url": "https://api.github.com/users/torgeadelin/orgs",
      "repos_url": "https://api.github.com/users/torgeadelin/repos",
      "events_url": "https://api.github.com/users/torgeadelin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/torgeadelin/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772762686,
        "node_id": "MDU6TGFiZWw3NzI3NjI2ODY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/investigating",
        "name": "investigating",
        "color": "a7d5aa",
        "default": false,
        "description": "This issue is being investigated"
      },
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2022-02-01T21:08:46Z",
    "updated_at": "2022-02-15T17:25:04Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 11.1\r\n    CPU: (8) x64 Apple M1\r\n    Memory: 101.74 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.17.3 - ~/.nvm/versions/node/v14.17.3/bin/node\r\n    Yarn: 1.22.17 - /usr/local/bin/yarn\r\n    npm: 7.24.1 - ~/Desktop/tribuddy/node_modules/.bin/npm\r\n    Watchman: 2021.11.15.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Brave Browser: 88.1.19.90\r\n    Chrome: 97.0.4692.99\r\n    Safari: 14.0.2\r\n  npmPackages:\r\n    @aws-amplify/ui-react: ^1.2.5 => 1.2.5\r\n    @babel/core: 7.12.3 => 7.12.3\r\n    @my-scope/package-a:  0.0.0\r\n    @my-scope/package-b:  0.0.0\r\n    @pmmmwh/react-refresh-webpack-plugin: 0.4.3 => 0.4.3\r\n    @react-aria/button: ^3.3.2 => 3.3.2\r\n    @react-aria/interactions: ^3.5.0 => 3.5.0 (3.5.1)\r\n    @react-aria/listbox: ^3.3.0 => 3.3.0\r\n    @react-aria/overlays: ^3.7.1 => 3.7.1\r\n    @react-aria/select: ^3.4.0 => 3.4.0\r\n    @react-aria/separator: ^3.1.2 => 3.1.2\r\n    @react-aria/textfield: ^3.3.1 => 3.3.1\r\n    @react-aria/utils: ^3.8.1 => 3.8.1 (3.8.2)\r\n    @react-stately/list: ^3.2.3 => 3.2.3\r\n    @react-stately/select: ^3.1.2 => 3.1.2\r\n    @react-types/button: ^3.4.0 => 3.4.0\r\n    @react-types/shared: ^3.7.1 => 3.7.1 (3.8.0)\r\n    @reduxjs/toolkit: ^1.6.0 => 1.6.0\r\n    @reduxjs/toolkit-query:  1.0.0\r\n    @reduxjs/toolkit-query-react:  1.0.0\r\n    @svgr/webpack: 5.5.0 => 5.5.0\r\n    @testing-library/jest-dom: ^4.2.4 => 4.2.4\r\n    @testing-library/react: ^9.5.0 => 9.5.0\r\n    @testing-library/user-event: ^7.2.1 => 7.2.1\r\n    @types/enzyme: ^3.10.9 => 3.10.9\r\n    @types/jest: ^24.9.1 => 24.9.1\r\n    @types/node: ^12.20.16 => 12.20.16\r\n    @types/react: ^16.14.11 => 16.14.11\r\n    @types/react-dom: ^16.9.14 => 16.9.14\r\n    @types/react-redux: ^7.1.18 => 7.1.18\r\n    @types/react-router-dom: ^5.3.2 => 5.3.2\r\n    @types/react-test-renderer: ^17.0.1 => 17.0.1\r\n    @typescript-eslint/eslint-plugin: ^4.28.3 => 4.28.3\r\n    @typescript-eslint/parser: ^4.28.3 => 4.28.3\r\n    @wojtekmaj/enzyme-adapter-react-17: ^0.6.3 => 0.6.3\r\n    amazon-cognito-identity-js: ^5.1.2 => 5.1.2 (5.0.4)\r\n    aws-amplify: ^4.1.3 => 4.1.3\r\n    babel-eslint: ^10.1.0 => 10.1.0\r\n    babel-jest: ^26.6.0 => 26.6.3\r\n    babel-loader: 8.1.0 => 8.1.0\r\n    babel-plugin-named-asset-import: ^0.3.7 => 0.3.7\r\n    babel-preset-react-app: ^10.0.0 => 10.0.0\r\n    baz:  undefined ()\r\n    bfj: ^7.0.2 => 7.0.2\r\n    browser_field:  undefined ()\r\n    camelcase: ^6.1.0 => 6.2.0 (5.3.1)\r\n    case-sensitive-paths-webpack-plugin: 2.3.0 => 2.3.0\r\n    classnames: ^2.3.1 => 2.3.1\r\n    connected-react-router: ^6.9.2 => 6.9.2\r\n    css-loader: 4.3.0 => 4.3.0\r\n    dotenv: 8.2.0 => 8.2.0\r\n    dotenv-expand: 5.1.0 => 5.1.0\r\n    enzyme: ^3.11.0 => 3.11.0\r\n    enzyme-adapter-react-16: ^1.15.6 => 1.15.6\r\n    enzyme-to-json: ^3.6.2 => 3.6.2\r\n    eslint: ^7.30.0 => 7.30.0\r\n    eslint-config-airbnb: ^18.2.1 => 18.2.1\r\n    eslint-config-prettier: ^8.3.0 => 8.3.0\r\n    eslint-config-react-app: ^6.0.0 => 6.0.0\r\n    eslint-plugin-flowtype: ^5.2.0 => 5.8.0\r\n    eslint-plugin-import: ^2.23.4 => 2.23.4\r\n    eslint-plugin-jest: ^24.1.0 => 24.3.6\r\n    eslint-plugin-jsx-a11y: ^6.4.1 => 6.4.1\r\n    eslint-plugin-prettier: ^3.4.0 => 3.4.0\r\n    eslint-plugin-react: ^7.24.0 => 7.24.0\r\n    eslint-plugin-react-hooks: ^4.2.0 => 4.2.0\r\n    eslint-plugin-testing-library: ^3.9.2 => 3.10.2\r\n    eslint-webpack-plugin: ^2.5.2 => 2.5.4\r\n    file-loader: 6.1.1 => 6.1.1\r\n    formik: ^2.2.9 => 2.2.9\r\n    fs-extra: ^9.0.1 => 9.1.0 (7.0.1, 8.1.0)\r\n    globby: ^11.0.4 => 11.0.4 (6.1.0, 10.0.2, 11.0.1)\r\n    html-webpack-plugin: 4.5.0 => 4.5.0\r\n    i: ^0.3.7 => 0.3.7\r\n    identity-obj-proxy: 3.0.0 => 3.0.0\r\n    invalid main:  undefined ()\r\n    jest: 26.6.0 => 26.6.0\r\n    jest-circus: 26.6.0 => 26.6.0\r\n    jest-resolve: 26.6.0 => 26.6.0 (26.6.2)\r\n    jest-watch-typeahead: 0.6.1 => 0.6.1\r\n    mini-css-extract-plugin: 0.11.3 => 0.11.3\r\n    moment: ^2.29.1 => 2.29.1\r\n    monorepo-symlink-test:  0.0.0\r\n    mylib:  0.0.0\r\n    npm: ^7.24.1 => 7.24.1\r\n    optimize-css-assets-webpack-plugin: 5.0.4 => 5.0.4\r\n    phosphor-react: ^1.3.1 => 1.3.1\r\n    plop: ^2.7.4 => 2.7.4\r\n    plop-example:  undefined ()\r\n    pnp-webpack-plugin: 1.6.4 => 1.6.4\r\n    postcss-flexbugs-fixes: 4.2.1 => 4.2.1\r\n    postcss-loader: 3.0.0 => 3.0.0\r\n    postcss-normalize: 8.0.1 => 8.0.1\r\n    postcss-preset-env: 6.7.0 => 6.7.0\r\n    postcss-safe-parser: 5.0.2 => 5.0.2\r\n    prettier: ^2.3.2 => 2.3.2\r\n    prompts: 2.4.0 => 2.4.0\r\n    react: ^17.0.2 => 17.0.2\r\n    react-app-polyfill: ^2.0.0 => 2.0.0\r\n    react-dev-utils: ^11.0.3 => 11.0.4\r\n    react-dom: ^17.0.2 => 17.0.2\r\n    react-markdown: ^7.0.0 => 7.0.0\r\n    react-redux: ^7.2.4 => 7.2.4\r\n    react-refresh: ^0.8.3 => 0.8.3\r\n    react-router-dom: ^5.2.0 => 5.2.0\r\n    react-test-renderer: ^17.0.2 => 17.0.2 (16.14.0)\r\n    react-toastify: ^8.1.0 => 8.1.0\r\n    resolve: 1.18.1 => 1.18.1 (1.20.0, 2.0.0-next.3)\r\n    resolve-url-loader: ^3.1.2 => 3.1.4\r\n    sass: ^1.35.2 => 1.35.2\r\n    sass-loader: ^10.0.5 => 10.2.0\r\n    semver: 7.3.2 => 7.3.2 (5.7.1, 6.3.0, 7.3.5, 7.0.0)\r\n    style-loader: 1.3.0 => 1.3.0\r\n    terser-webpack-plugin: 4.2.3 => 4.2.3 (1.4.5)\r\n    ts-pnp: 1.2.0 => 1.2.0\r\n    typescript: ^4.1.6 => 4.1.6\r\n    url-loader: 4.1.1 => 4.1.1\r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2)\r\n    webpack: 4.44.2 => 4.44.2\r\n    webpack-dev-server: 3.11.1 => 3.11.1\r\n    webpack-manifest-plugin: 2.2.0 => 2.2.0\r\n    workbox-webpack-plugin: 5.1.4 => 5.1.4\r\n    yup: ^0.32.11 => 0.32.11\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.14\r\n    eslint-plugin-import: 2.23.4\r\n    npm: 6.14.13\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI've set up authentication in my app and I have both email and phone verification enabled in Cognito.\r\nI can successfully create accounts, and verification codes are sent correctly according to the rules here:\r\n![image](https://user-images.githubusercontent.com/14194394/152050594-8300aaeb-ae6f-457e-b924-bd741463955b.png)\r\n\r\nI used to get an exception `UserNotConfirmedException` in case the user's email wasn't verified before adding phone verification as a requirement. After redeploying my auth service with both email and phone verification, the `Auth.signIn` returns `UserNotFoundException` (altho user is created, I can see it in the Cognito console).\n\n### Expected behavior\n\nNot sure.\r\n\r\nI've seen this on the Cognito docs:\r\n```\r\nIf a user signs up with both a phone number and an email address, and your user pool settings require verification of both attributes, a verification code is sent via SMS to the phone. The email address is not verified, so your app needs to call GetUser to see if an email address is awaiting verification. If it is, the app should call GetUserAttributeVerificationCode to initiate the email verification flow and then submit the verification code by calling VerifyUserAttribute.\r\n```\r\nIf that's the case, there should be new methods on the `Auth` class to be able to do that?\r\n\r\nOtherwise, \r\n\r\nAuth.signIn should return `UserNotConfirmedException` if user is not verified (either phone or email).\r\n\n\n### Reproduction steps\n\n1.  Deploy auth service with both email and phone verification.\r\n2. Sign up with a user\r\n3. Try to call `Auth.signIn` with the user you just created\r\n4. Returns `UserNotFoundException`\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9544/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9537",
    "id": 1119837855,
    "node_id": "I_kwDOBkswNc5Cv16f",
    "number": 9537,
    "title": "@aws-amplify/pushnotification native code is incompatible with React Native >= 0.65",
    "user": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "Samaritan1011001",
      "id": 10944487,
      "node_id": "MDQ6VXNlcjEwOTQ0NDg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10944487?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Samaritan1011001",
      "html_url": "https://github.com/Samaritan1011001",
      "followers_url": "https://api.github.com/users/Samaritan1011001/followers",
      "following_url": "https://api.github.com/users/Samaritan1011001/following{/other_user}",
      "gists_url": "https://api.github.com/users/Samaritan1011001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Samaritan1011001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Samaritan1011001/subscriptions",
      "organizations_url": "https://api.github.com/users/Samaritan1011001/orgs",
      "repos_url": "https://api.github.com/users/Samaritan1011001/repos",
      "events_url": "https://api.github.com/users/Samaritan1011001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Samaritan1011001/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "Samaritan1011001",
        "id": 10944487,
        "node_id": "MDQ6VXNlcjEwOTQ0NDg3",
        "avatar_url": "https://avatars.githubusercontent.com/u/10944487?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Samaritan1011001",
        "html_url": "https://github.com/Samaritan1011001",
        "followers_url": "https://api.github.com/users/Samaritan1011001/followers",
        "following_url": "https://api.github.com/users/Samaritan1011001/following{/other_user}",
        "gists_url": "https://api.github.com/users/Samaritan1011001/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Samaritan1011001/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Samaritan1011001/subscriptions",
        "organizations_url": "https://api.github.com/users/Samaritan1011001/orgs",
        "repos_url": "https://api.github.com/users/Samaritan1011001/repos",
        "events_url": "https://api.github.com/users/Samaritan1011001/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Samaritan1011001/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-31T19:20:33Z",
    "updated_at": "2022-02-17T19:17:00Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nPush Notifications\n\n### Amplify Categories\n\nnotifications\n\n### Environment information\n\n<details>\r\n\r\n```\r\n System:\r\n    OS: macOS 10.15.7\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 517.60 MB / 16.00 GB\r\n    Shell: 5.7.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\r\n    Yarn: 1.22.17 - ~/.nvm/versions/node/v14.18.1/bin/yarn\r\n    npm: 6.14.10 - ~/.nvm/versions/node/v14.18.1/bin/npm\r\n    Watchman: 2021.12.13.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 97.0.4692.99\r\n    Firefox: 91.5.0\r\n    Safari: 15.3\r\n  npmPackages:\r\n    @aws-amplify/pushnotification: ^4.3.10 => 4.3.10\r\n    @babel/core: ^7.12.9 => 7.16.12\r\n    @babel/runtime: ^7.12.5 => 7.16.7\r\n    @react-native-community/eslint-config: ^2.0.0 => 2.0.0\r\n    HelloWorld:  0.0.1\r\n    aws-amplify: ^4.3.13 => 4.3.13\r\n    babel-jest: ^26.6.3 => 26.6.3\r\n    eslint: 7.14.0 => 7.14.0\r\n    hermes-inspector-msggen:  1.0.0\r\n    jest: ^26.6.3 => 26.6.3\r\n    metro-react-native-babel-preset: ^0.66.0 => 0.66.2\r\n    react: 17.0.2 => 17.0.2\r\n    react-native: 0.65.2 => 0.65.2\r\n    react-native-codegen: ^0.0.7 => 0.0.7\r\n    react-test-renderer: 17.0.2 => 17.0.2\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.3\r\n    detox-cli: 19.0.0\r\n    expo-cli: 5.0.1\r\n    npm: 6.14.10\r\n    wml: 0.0.83\r\n    yarn: 1.22.17\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nRunning `yarn android` after installing `aws-amplify` and `@aws-amplify/pushnotification` fails:\r\n\r\n```sh\r\n> Configure project :aws-amplify_pushnotification\r\nWARNING:: Configuration 'compile' is obsolete and has been replaced with 'implementation' and 'api'.\r\nIt will be removed in version 7.0 of the Android Gradle plugin.\r\nFor more information, see http://d.android.com/r/tools/update-dependency-configurations.html.\r\nWARNING:: Please remove usages of `jcenter()` Maven repository from your build scripts and migrate your build to other Maven repositories.\r\nThis repository is deprecated and it will be shut down in the future.\r\nSee http://developer.android.com/r/tools/jcenter-end-of-service for more information.\r\nCurrently detected usages in: project ':aws-amplify_pushnotification'\r\n\r\n> Task :app:mergeDebugAssets FAILED\r\n8 actionable tasks: 5 executed, 3 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':app:mergeDebugAssets'.\r\n> Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\r\n   > Could not find com.firebase:firebase-jobdispatcher:0.6.0.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/.m2/repository/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/Amplify/Issues/JS-9528/Version65/node_modules/react-native/android/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/Amplify/Issues/JS-9528/Version65/node_modules/jsc-android/dist/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - https://dl.google.com/dl/android/maven2/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - https://www.jitpack.io/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n     Required by:\r\n         project :app > project :aws-amplify_pushnotification\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':app:mergeDebugAssets'.\r\n> Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\r\n   > Could not find com.firebase:firebase-jobdispatcher:0.6.0.\r\n     Searched in the following locations:\r\n       - https://repo.maven.apache.org/maven2/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/.m2/repository/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/Amplify/Issues/JS-9528/Version65/node_modules/react-native/android/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - file:/Users/cpollman/Amplify/Issues/JS-9528/Version65/node_modules/jsc-android/dist/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - https://dl.google.com/dl/android/maven2/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n       - https://www.jitpack.io/com/firebase/firebase-jobdispatcher/0.6.0/firebase-jobdispatcher-0.6.0.pom\r\n     Required by:\r\n         project :app > project :aws-amplify_pushnotification\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 6s\r\n```\n\n### Expected behavior\n\nAndroid builds should be successful.\n\n### Reproduction steps\n\n1. run `npx react-native init SampleApp` (React Native v0.67) OR `npx react-native init SampleApp  --version 0.65`\r\n2. run `cd SampleApp`\r\n3. run `yarn add aws-amplify @aws-amplify/pushnotification`\r\n4. run `yarn android`\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9537/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9528",
    "id": 1117714458,
    "node_id": "I_kwDOBkswNc5Cnvga",
    "number": 9528,
    "title": "Android native code crashing when FirebaseMessaging.getInstance().getToken() fails ",
    "user": {
      "login": "RMG0",
      "id": 72582040,
      "node_id": "MDQ6VXNlcjcyNTgyMDQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/72582040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RMG0",
      "html_url": "https://github.com/RMG0",
      "followers_url": "https://api.github.com/users/RMG0/followers",
      "following_url": "https://api.github.com/users/RMG0/following{/other_user}",
      "gists_url": "https://api.github.com/users/RMG0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RMG0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RMG0/subscriptions",
      "organizations_url": "https://api.github.com/users/RMG0/orgs",
      "repos_url": "https://api.github.com/users/RMG0/repos",
      "events_url": "https://api.github.com/users/RMG0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RMG0/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-28T18:32:32Z",
    "updated_at": "2022-01-28T19:26:59Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nPush Notifications\n\n### Amplify Categories\n\nnotifications\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Windows 10 10.0.19042\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-1065G7 CPU @ 1.30GHz\r\n    Memory: 3.43 GB / 15.71 GB\r\n  Binaries:\r\n    Node: 16.13.2 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: 1.22.10 - ~\\AppData\\Roaming\\npm\\yarn.CMD\r\n    npm: 8.3.2 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Chrome: 97.0.4692.99\r\n    Edge: Spartan (44.19041.1266.0), Chromium (97.0.1072.76)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @aws-amplify/pushnotification: ^4.3.8 => 4.3.8\r\n    @babel/core: ^7.16.7 => 7.16.7\r\n    @babel/runtime: ^7.16.7 => 7.16.7\r\n    @react-native-community/eslint-config: ^3.0.1 => 3.0.1\r\n    @react-native-community/netinfo: ^7.1.7 => 7.1.7\r\n    @react-native-community/push-notification-ios: ^1.10.1 => 1.10.1 (1.0.3)\r\n    amazon-cognito-identity-js: ^5.2.3 => 5.2.3\r\n    aws-amplify: ^4.3.11 => 4.3.11\r\n    axios: ^0.24.0 => 0.24.0 (0.21.4)\r\n    babel-plugin-transform-remove-console: ^6.9.4 => 6.9.4\r\n    eslint: 8.6.0 => 8.6.0\r\n    eventing-bus: ^2.0.1 => 2.0.1\r\n    hermes-inspector-msggen:  1.0.0\r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2\r\n    patch-package: ^6.4.7 => 6.4.7\r\n    react: 17.0.2 => 17.0.2\r\n    react-native: 0.66.4 => 0.66.4\r\n    react-native-cli: ^2.0.1 => 2.0.1\r\n    react-native-device-info: ^8.4.8 => 8.4.8\r\n    react-native-fast-image: ^8.5.11 => 8.5.11\r\n    react-native-fs: ^2.18.0 => 2.18.0\r\n    react-native-gesture-handler: 2.0.0 => 2.0.0\r\n    react-native-haptic-feedback: ^1.13.0 => 1.13.0\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    @bugsnag/react-native-cli: 7.9.0\r\n    @bugsnag/source-maps: 2.0.0\r\n    appcenter-cli: 2.7.2\r\n    npm: 8.3.2\r\n    nswag: 13.7.0\r\n    react-devtools: 4.8.2\r\n    react-native-cli: 2.0.1\r\n    yarn: 1.22.10\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\n### On some android devices, app will crash when we getToken function fails\r\n\r\nIn  `RNPushNotificationModule `when we do `getToken`, when we fail to get a token in `getToken `function, we are passing exception back to js by `onErrorCallback.invoke(exception);` This will crash the app as exception object can not be passed through js bridge here and will crash like below stack trace\r\n\r\n```\r\n java.lang.RuntimeException  Cannot convert argument of type class java.lang.Exception\r\nArguments.java:187 com.facebook.react.bridge.Arguments.fromJavaArgs\r\nCallbackImpl.java:31 com.facebook.react.bridge.CallbackImpl.invoke\r\nRNPushNotificationModule.java:86 com.amazonaws.amplify.pushnotification.RNPushNotificationModule$1.onComplete\r\n```\r\n\n\n### Expected behavior\n\nIdeally we should pass just exception message like below\r\n`onErrorCallback.invoke(exception.getMessage());`\n\n### Reproduction steps\n\n1. Run the app\r\n2. App will crash on start up (Assuming we are initializing push notification on root mount)\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n**One can reproduce this by this test code simulating exception passing to js**\r\n\r\n```\r\n@ReactMethod\r\n    public void getToken(final Callback onSuccessCallback, final Callback onErrorCallback) {\r\n        FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener<String>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<String> task) {\r\n                    Exception exception = new Exception(\"MyTestExceptionMessage\");\r\n                    Log.e(LOG_TAG, \"Error getting token: \" + exception);\r\n                    onErrorCallback.invoke(exception);\r\n                }\r\n            });\r\n    }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9528/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9527",
    "id": 1117027133,
    "node_id": "I_kwDOBkswNc5ClHs9",
    "number": 9527,
    "title": "Amplify PubSub library Qos setting feature.",
    "user": {
      "login": "subhayuM",
      "id": 89893144,
      "node_id": "MDQ6VXNlcjg5ODkzMTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/89893144?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/subhayuM",
      "html_url": "https://github.com/subhayuM",
      "followers_url": "https://api.github.com/users/subhayuM/followers",
      "following_url": "https://api.github.com/users/subhayuM/following{/other_user}",
      "gists_url": "https://api.github.com/users/subhayuM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/subhayuM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/subhayuM/subscriptions",
      "organizations_url": "https://api.github.com/users/subhayuM/orgs",
      "repos_url": "https://api.github.com/users/subhayuM/repos",
      "events_url": "https://api.github.com/users/subhayuM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/subhayuM/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 890139054,
        "node_id": "MDU6TGFiZWw4OTAxMzkwNTQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/PubSub",
        "name": "PubSub",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to PubSub category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-28T05:49:30Z",
    "updated_at": "2022-01-28T16:13:13Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\r\n\r\n_No response_\r\n\r\n### Is this related to a new or existing API?\r\n\r\nPubSub\r\n\r\n### Is this related to another service?\r\n\r\n_No response_\r\n\r\n### Describe the feature you'd like to request\r\n\r\nWhile using Amplify's PubSub library to subscribe to IoT Core topics, there is no way to configure the subscription's QoS level  either to 0 or 1. Please provide a way to configure the same.\r\n\r\n### Describe the solution you'd like\r\n\r\nThe Solution could be something like  setting a Qos flag value in the subscribe function as : \r\n```ts\r\nPubSub.subscribe('myTopic').subscribe({\r\nqos:1,\r\nnext: data => console.log('Message received', data),\r\nerror: error => console.error(error),\r\ncomplete: () => console.log('Done'),\r\n});\r\n```\r\n### Describe alternatives you've considered\r\n\r\nUsing the [+] https://github.com/aws/aws-iot-device-sdk-js#device-class to set the Qos value as of now works upon testing.\r\nSample code : \r\n```ts\r\n var device = awsIot.device({\r\n   keyPath: \"<XXXX>-private.pem.key\",\r\n  certPath: \"<XXXX>-certificate.pem.crt\",\r\n    caPath: \"AmazonRootCA1.pem\",\r\n  clientId: \"client1\",\r\n      host: \"<XXX>-ats.iot.<region>.amazonaws.com\",\r\n      cleanSession: \"False\",\r\n      keepalive: 30,\r\n      options: {\r\n        will: {\r\n          topic: \"abcd\",\r\n          payload: \"My last will message\"\r\n        }\r\n      }\r\n});\r\n//\r\n// Device is an instance returned by mqtt.Client(), see mqtt.js for full\r\n// documentation.\r\n//\r\ndevice\r\n  .on('connect', function() {\r\n    console.log('connect');\r\n   // device.subscribe('mytopic');\r\n    device.publish('mytopic', JSON.stringify({ test_data: 1}), {qos:1} );\r\n  });\r\ndevice\r\n  .on('message', function(topic, payload) {\r\n    console.log('message', topic, payload.toString());\r\n  });\r\n```\r\n### Additional context\r\n\r\n_No response_\r\n\r\n### Is this something that you'd be interested in working on?\r\n\r\n- [ ]  I may be able to implement this feature request\r\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9527/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9520",
    "id": 1114948516,
    "node_id": "I_kwDOBkswNc5CdMOk",
    "number": 9520,
    "title": "Remove optional relationship",
    "user": {
      "login": "bergmorten",
      "id": 86950981,
      "node_id": "MDQ6VXNlcjg2OTUwOTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86950981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bergmorten",
      "html_url": "https://github.com/bergmorten",
      "followers_url": "https://api.github.com/users/bergmorten/followers",
      "following_url": "https://api.github.com/users/bergmorten/following{/other_user}",
      "gists_url": "https://api.github.com/users/bergmorten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bergmorten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bergmorten/subscriptions",
      "organizations_url": "https://api.github.com/users/bergmorten/orgs",
      "repos_url": "https://api.github.com/users/bergmorten/repos",
      "events_url": "https://api.github.com/users/bergmorten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bergmorten/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2022-01-26T12:08:54Z",
    "updated_at": "2022-02-03T14:42:32Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nDataStore\n\n### Amplify Categories\n\napi\n\n### Environment information\n\n\r\namplify --version\r\n7.6.12\r\n\r\nin package.json\r\n\"aws-amplify\": \"^4.3.12\"\r\n\r\n\n\n### Describe the bug\n\nI've the following graphQL model:\r\n\r\n```\r\ntype Fleet\r\n  @model\r\n{\r\n  id: ID! @primaryKey\r\n  name: String!\r\n  description: String\r\n  vehicles: [Vehicle] @hasMany(indexName: \"byFleetVehicle\", fields: [\"id\"])\r\n}\r\n\r\n\r\ntype Vehicle\r\n  @model {\r\n  id: ID! @primaryKey\r\n  name: String!\r\n  fleetId: ID @index(name: \"byFleetVehicle\", sortKeyFields: [\"name\"])\r\n  fleet: Fleet @belongsTo(fields: [\"fleetId\"])\r\n}\r\n\r\n```\r\n\r\nThe Fleet membership of Vehicle is optional, and when I try to remove a Fleet membership from a Vehicle with the following code it does not work. I can se see that the local indexDB storage is correctly altered, but the graphQL call to backend API is incorrect. It does not remove the Fleet, and instead returns the old Vehicle which replace the correct indexDb version.\r\n\r\n```\r\n          try {\r\n            const vehicleUpdated = Vehicle.copyOf(vehicle, updated => {\r\n              updated.fleet = undefined;\r\n            });\r\n            await DataStore.save(vehicleUpdated);\r\n          } catch (err) {\r\n            console.error( 'Could not remove vehicle from fleet');\r\n          }\r\n```\r\n\r\nThis is the GrapQL command sent to backend API:\r\n\r\n`{\"query\":\"mutation operation($input: UpdateVehicleInput!, $condition: ModelVehicleConditionInput) {\\n  updateVehicle(input: $input, condition: $condition) {\\n    id\\n    name\\n     _version\\n    _lastChangedAt\\n    _deleted\\n    fleet {\\n      id\\n      _deleted\\n    }\\n  }\\n}\\n\",\"variables\":{\"input\":{\"id\":\"c70a37c7-bada-4ed0-9af7-597d1e13c91a\",\"_version\":20},\"condition\":null}}`\r\n\r\nAs you can see the input is missing fleetId: null \r\n\r\nI think the bug is that fleetId: undefined is not parsed to fleetId: null in the graphQL call.\r\n\r\n\r\n\r\n\r\n\n\n### Expected behavior\n\nOptional relation should be removed when set to undefined in model and saved.\n\n### Reproduction steps\n\nMake a model with optional relationships. Then create entry with relations in database, and then try to remove relationship with setting value to undefined in javascript/typescript.\r\n\r\n```\r\nconst vehicleUpdated = Vehicle.copyOf(vehicle, updated => {\r\n              updated.fleet = undefined;\r\n            });\r\nawait DataStore.save(vehicleUpdated);\r\n```\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9520/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9514",
    "id": 1114178126,
    "node_id": "I_kwDOBkswNc5CaQJO",
    "number": 9514,
    "title": "Issue to query model with @hasMany relationship using DataStore",
    "user": {
      "login": "svidgen",
      "id": 8375502,
      "node_id": "MDQ6VXNlcjgzNzU1MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8375502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svidgen",
      "html_url": "https://github.com/svidgen",
      "followers_url": "https://api.github.com/users/svidgen/followers",
      "following_url": "https://api.github.com/users/svidgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/svidgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svidgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svidgen/subscriptions",
      "organizations_url": "https://api.github.com/users/svidgen/orgs",
      "repos_url": "https://api.github.com/users/svidgen/repos",
      "events_url": "https://api.github.com/users/svidgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svidgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "svidgen",
      "id": 8375502,
      "node_id": "MDQ6VXNlcjgzNzU1MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8375502?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svidgen",
      "html_url": "https://github.com/svidgen",
      "followers_url": "https://api.github.com/users/svidgen/followers",
      "following_url": "https://api.github.com/users/svidgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/svidgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svidgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svidgen/subscriptions",
      "organizations_url": "https://api.github.com/users/svidgen/orgs",
      "repos_url": "https://api.github.com/users/svidgen/repos",
      "events_url": "https://api.github.com/users/svidgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svidgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "svidgen",
        "id": 8375502,
        "node_id": "MDQ6VXNlcjgzNzU1MDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8375502?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svidgen",
        "html_url": "https://github.com/svidgen",
        "followers_url": "https://api.github.com/users/svidgen/followers",
        "following_url": "https://api.github.com/users/svidgen/following{/other_user}",
        "gists_url": "https://api.github.com/users/svidgen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svidgen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svidgen/subscriptions",
        "organizations_url": "https://api.github.com/users/svidgen/orgs",
        "repos_url": "https://api.github.com/users/svidgen/repos",
        "events_url": "https://api.github.com/users/svidgen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svidgen/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-25T17:36:17Z",
    "updated_at": "2022-01-26T16:48:58Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Discussed in https://github.com/aws-amplify/amplify-js/discussions/9499\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **duranmla** January 20, 2022</sup>\r\n Hi!\r\n\r\nI am having issues with **`@hasMany`** relation. I am trying to access the related model from the source model returns empty. What is odd is that at some point I was able to query without issues since the generated types when `amplify codegen models` run used to contain `pathwayID`, currently, when I generate models the property `pathwayID` is removed.\r\n\r\nThe case of study looks like below, I have this schema:\r\n\r\n```graphql\r\ntype Pathway @model @auth(rules: [{ allow: private }]) {\r\n  id: ID!\r\n  title: String!\r\n  description: String\r\n  thumbnail: String\r\n  pathwayPitstops: [PathwayPitstop] @hasMany(indexName: \"byPathway\", fields: [\"id\"])\r\n}\r\n\r\ntype PathwayPitstop @model @auth(rules: [{ allow: private }]) {\r\n  id: ID!\r\n  pathwayID: ID! @index(name: \"byPathway\")\r\n  pathway: Pathway @belongsTo(fields: [\"pathwayID\"])\r\n  pitstopID: ID!\r\n  pitstop: Pitstop @hasOne(fields: [\"pitstopID\"])\r\n  positionX: Int!\r\n  positionY: Int!\r\n  pathwayPitstopParentID: ID\r\n}\r\n```\r\n\r\nAnd then this are the approaches I have done to query:\r\n\r\n1. **Trying to get the pathwayPitstops using the source model and then accessing to the related model using the property**\r\n```ts\r\nconst pathwayPitstops = (await DataStore.query(Pathway, pathwayId))\r\n      ?.pathwayPitstops\r\n```\r\n*Always return undefined*\r\n\r\n2. **Trying to query all the pathwayPitstops and filter by `pathwayID`** (this used to work but since I don't have pathwayID anymore it does not.)\r\n\r\n```ts\r\nconst pathwayPitstops = await DataStore.query(PathwayPitstop, (pp) => pp.pathwayID('eq', pathwayId))\r\n```\r\n*It complains that pathwayID is not a property* (at some point it was valid but now when I run `amplify codegen models` it deletes the pathwayID from the types)\r\n\r\n**And yes, I do have a record that suppose to be returned**\r\n[Screenshot to DynamoDB](https://user-images.githubusercontent.com/1425162/150333471-52d77710-e694-4538-9843-bd20ef35f70c.png)</div>",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9514/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9513",
    "id": 1114048921,
    "node_id": "I_kwDOBkswNc5CZwmZ",
    "number": 9513,
    "title": "Graphql's custom-auth lambda function is not invoked.",
    "user": {
      "login": "imdhanush",
      "id": 37190602,
      "node_id": "MDQ6VXNlcjM3MTkwNjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/37190602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/imdhanush",
      "html_url": "https://github.com/imdhanush",
      "followers_url": "https://api.github.com/users/imdhanush/followers",
      "following_url": "https://api.github.com/users/imdhanush/following{/other_user}",
      "gists_url": "https://api.github.com/users/imdhanush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/imdhanush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/imdhanush/subscriptions",
      "organizations_url": "https://api.github.com/users/imdhanush/orgs",
      "repos_url": "https://api.github.com/users/imdhanush/repos",
      "events_url": "https://api.github.com/users/imdhanush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/imdhanush/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      },
      {
        "id": 908644642,
        "node_id": "MDU6TGFiZWw5MDg2NDQ2NDI=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/GraphQL",
        "name": "GraphQL",
        "color": "e535ab",
        "default": false,
        "description": "Related to GraphQL"
      },
      {
        "id": 1270272334,
        "node_id": "MDU6TGFiZWwxMjcwMjcyMzM0",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Service%20Team",
        "name": "Service Team",
        "color": "bfdadc",
        "default": false,
        "description": "Issues asked to the Service Team"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 15,
    "created_at": "2022-01-25T15:43:31Z",
    "updated_at": "2022-02-10T15:53:05Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nGraphQL API\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\nSystem:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 135.39 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.2 - ~/.nvm/versions/node/v16.13.2/bin/node\r\n    Yarn: 1.22.17 - ~/.nvm/versions/node/v16.13.2/bin/yarn\r\n    npm: 8.1.2 - ~/.nvm/versions/node/v16.13.2/bin/npm\r\n  Browsers:\r\n    Chrome: 97.0.4692.99\r\n    Safari: 15.2\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.9\r\n    corepack: 0.10.0\r\n    npm: 8.1.2\r\n    yarn: 1.22.17\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\n\r\ni have setup the custom authentication with amplify on a model\r\n```graphql\r\ntype Module\r\n  @model\r\n  @auth(\r\n    rules: [{ allow: custom }]\r\n  ) {\r\n  id: ID!\r\n  name: String\r\n}\r\n```\r\n\r\nI have also setup a lambda for this ,for verification of the token.\r\n\r\nAm getting my jwt from cognito.\r\nIt seems lambda (custom auth) is not trigged.\r\nWhen the header is (this is the default auth header from amplify)\r\n\r\n`Authorization: {jwt}`\r\n\r\nBut when i change header\r\n\r\n`Authorization: Bearer {jwt}`\r\n\r\nLambda is triggered when auth header used as above with Bearer.\r\n\r\nWhy is not getting trigged in the first pattern?\r\nAmplify lib is using this `Authorization: {jwt}` by default for network calls.\r\n\r\nThis is a problem when we are using different types of auths like\r\n1. [Signed-in user data access](https://docs.amplify.aws/cli/graphql/authorization-rules/#signed-in-user-data-access)\r\n2. [User group-based data access](https://docs.amplify.aws/cli/graphql/authorization-rules/#user-group-based-data-access)\r\n\r\nThis auth only work when auth header is `Authorization: {jwt}`\r\n\r\n### Expected behavior\r\n\r\nCustom auth lambda should be invoked for  `Authorization: {jwt}` header type.\r\nIt's only invoked for `Authorization: Bearer {jwt}`.\r\n\r\n### Reproduction steps\r\n\r\n1. Add auth with cognito\r\n2. Create a schema as below\r\n```graphql\r\ntype Module\r\n  @model\r\n  @auth(\r\n    rules: [{ allow: custom }]\r\n  ) {\r\n  id: ID!\r\n  name: String\r\n}\r\n```\r\n2. Follow these [steps](https://docs.amplify.aws/cli/graphql/authorization-rules/#custom-authorization-rule) to add a custom auth function.\r\n3. Making a graphql call to the respective model.\r\n\r\n### Code Snippet\r\n\r\n```graphql\r\nquery{\r\n  listModules{\r\n    items{\r\n      id\r\n      name\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```json\r\n\r\n{\r\n  \"data\": {\r\n    \"listModules\": null\r\n  },\r\n  \"errors\": [\r\n    {\r\n      \"path\": [\r\n        \"listModules\"\r\n      ],\r\n      \"data\": null,\r\n      \"errorType\": \"Unauthorized\",\r\n      \"errorInfo\": null,\r\n      \"locations\": [\r\n        {\r\n          \"line\": 2,\r\n          \"column\": 3,\r\n          \"sourceName\": null\r\n        }\r\n      ],\r\n      \"message\": \"Not Authorized to access listModules on type ModelModuleConnection\"\r\n    }\r\n  ]\r\n}\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9513/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9506",
    "id": 1112051996,
    "node_id": "PR_kwDOBkswNc4xdxRE",
    "number": 9506,
    "title": "chore: Remove 'any' type in several places",
    "user": {
      "login": "MatrixFrog",
      "id": 244381,
      "node_id": "MDQ6VXNlcjI0NDM4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatrixFrog",
      "html_url": "https://github.com/MatrixFrog",
      "followers_url": "https://api.github.com/users/MatrixFrog/followers",
      "following_url": "https://api.github.com/users/MatrixFrog/following{/other_user}",
      "gists_url": "https://api.github.com/users/MatrixFrog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MatrixFrog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MatrixFrog/subscriptions",
      "organizations_url": "https://api.github.com/users/MatrixFrog/orgs",
      "repos_url": "https://api.github.com/users/MatrixFrog/repos",
      "events_url": "https://api.github.com/users/MatrixFrog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MatrixFrog/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-01-24T01:07:47Z",
    "updated_at": "2022-01-25T00:58:50Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9506",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9506",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9506.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9506.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\n\r\nThis allows the typechecker to be more helpful!\r\n\r\n#### Checklist\r\n\r\n- [x] PR description included\r\n- [ ] `yarn test` passes\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9506/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9505",
    "id": 1111957249,
    "node_id": "I_kwDOBkswNc5CRx8B",
    "number": 9505,
    "title": "Error in Release Build in Auth.SignIn ([TypeError: (0,l.default) is not a function. (In '(0,l.default)(t.byteLength)', '(0,l.default)' is undefined)])",
    "user": {
      "login": "nickrobinson352",
      "id": 24614864,
      "node_id": "MDQ6VXNlcjI0NjE0ODY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/24614864?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickrobinson352",
      "html_url": "https://github.com/nickrobinson352",
      "followers_url": "https://api.github.com/users/nickrobinson352/followers",
      "following_url": "https://api.github.com/users/nickrobinson352/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickrobinson352/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickrobinson352/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickrobinson352/subscriptions",
      "organizations_url": "https://api.github.com/users/nickrobinson352/orgs",
      "repos_url": "https://api.github.com/users/nickrobinson352/repos",
      "events_url": "https://api.github.com/users/nickrobinson352/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickrobinson352/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-23T19:03:14Z",
    "updated_at": "2022-02-03T15:24:20Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\nSystem:\r\n    OS: macOS 12.0.1\r\n    CPU: (10) x64 Apple M1 Pro\r\n    Memory: 90.82 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.2 - ~/.nvm/versions/node/v14.18.2/bin/node\r\n    Yarn: 1.22.4 - /usr/local/bin/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.18.2/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 97.0.4692.99\r\n    Firefox Developer Edition: 96.0\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @aws-amplify/pushnotification: ^4.3.9 => 4.3.9 \r\n    @babel/cli: ^7.12.10 => 7.16.8 \r\n    @babel/core: ^7.6.2 => 7.16.12 \r\n    @babel/preset-env: ^7.0.0 => 7.16.11 \r\n    @babel/preset-flow: ^7.12.13 => 7.16.7 \r\n    @babel/runtime: ^7.6.2 => 7.16.7 \r\n    @bugsnag/plugin-react-native-navigation: ^7.6.0 => 7.15.1 \r\n    @bugsnag/react-native: ^7.6.1 => 7.15.1 \r\n    @freakycoder/react-native-helpers: ^0.1.3 => 0.1.3 \r\n    @react-native-async-storage/async-storage: ^1.15.16 => 1.15.16 \r\n    @react-native-community/async-storage: ^1.12.1 => 1.12.1 \r\n    @react-native-community/blur: 3.4.1 => 3.4.1 \r\n    @react-native-community/cameraroll: ^1.5.2 => 1.8.1 \r\n    @react-native-community/datetimepicker: ^3.0.9 => 3.5.2 \r\n    @react-native-community/netinfo: ^5.5.0 => 5.9.10 \r\n    @react-native-community/push-notification-ios: ^1.4.0 => 1.10.1 (1.0.3)\r\n    @react-native-firebase/analytics: ^14.2.3 => 14.2.3 \r\n    @react-native-firebase/app: ^14.2.3 => 14.2.3 \r\n    @react-native-firebase/auth: ^14.2.3 => 14.2.3 \r\n    @react-native-firebase/crashlytics: ^14.2.3 => 14.2.3 \r\n    @react-native-firebase/database: ^14.2.3 => 14.2.3 \r\n    @react-native-firebase/perf: ^14.2.3 => 14.2.3 \r\n    @react-native-google-signin/google-signin: ^7.0.4 => 7.0.4 \r\n    @tradle/react-native-http: ^2.0.1 => 2.0.1 \r\n    @welldone-software/why-did-you-render: ^4.2.1 => 4.3.2 \r\n    @wwimmo/react-native-sketch-canvas: git+https://github.com/wwimmo/react-native-sketch-image.git => 0.8.3 \r\n    Basic:  0.0.1 \r\n    Example:  0.0.1 \r\n    HelloWorld:  0.0.1 \r\n    PDFExample:  0.0.1 \r\n    SignatureCaptureExample:  0.0.1 \r\n    amazon-cognito-identity-js: ^3.0.6 => 3.3.3 (5.2.4)\r\n    assert: ^1.4.1 => 1.5.0 \r\n    aws-amplify: ^4.3.12 => 4.3.12 \r\n    aws-amplify-react: ^5.1.9 => 5.1.9 \r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2 \r\n    aws-sdk: ^2.1062.0 => 2.1062.0 \r\n    axios: ^0.24.0 => 0.24.0 (0.21.4)\r\n    babel-jest: ^26.6.3 => 26.6.3 \r\n    babel-plugin-transform-remove-console: ^6.9.4 => 6.9.4 \r\n    browserify-zlib: ^0.1.4 => 0.1.4 \r\n    buffer: ^5.6.0 => 5.7.1 (4.9.2, 4.9.1)\r\n    bugsnag-react-native: ^2.23.10 => 2.23.10 \r\n    console-browserify: ^1.1.0 => 1.2.0 \r\n    constants-browserify: ^1.0.0 => 1.0.0 \r\n    deprecated-react-native-listview: 0.0.7 => 0.0.7 \r\n    detox: ^17.11.4 => 17.14.9 \r\n    dns.js: ^1.0.1 => 1.0.1 \r\n    domain-browser: ^1.2.0 => 1.2.0 \r\n    example:  0.0.1 \r\n    exampleapp:  0.0.1 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    http-server: ^0.11.1 => 0.11.2 \r\n    https-browserify: 0.0.1 => 0.0.1 \r\n    immutability-helper: ^2.7.1 => 2.9.1 \r\n    imokhles-react-native-app-tour: ^2.0.8 => 2.0.8 \r\n    jest: ^26.6.3 => 26.6.3 \r\n    jetifier: ^1.6.5 => 1.6.8 \r\n    lodash: ^4.17.15 => 4.17.21 \r\n    mdurl: ^1.0.1 => 1.0.1 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 \r\n    moment: ^2.24.0 => 2.29.1 \r\n    native-base: ^2.13.8 => 2.15.2 \r\n    path-browserify: 0.0.0 => 0.0.0 \r\n    process: ^0.11.10 => 0.11.10 \r\n    querystring-es3: ^0.2.1 => 0.2.1 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-addons-shallow-compare: ^15.6.0 => 15.6.3 (15.6.2)\r\n    react-native: ^0.66.4 => 0.66.4 \r\n    react-native-action-button: git+https://github.com/nickrobinson352/react-native-action-button.git => 2.8.3 \r\n    react-native-actionsheet: ^2.4.2 => 2.4.2 \r\n    react-native-animatable: ^1.3.2 => 1.3.3 \r\n    react-native-appearance: 0.3.3 => 0.3.3 \r\n    react-native-autoheight-webview: ^1.5.1 => 1.6.1 \r\n    react-native-aws3: ^0.0.9 => 0.0.9 \r\n    react-native-calendar-events: ^2.1.0 => 2.2.0 \r\n    react-native-calendars: ^1.263.0 => 1.1276.0 \r\n    react-native-checkbox: 2.0.0 => 2.0.0 \r\n    react-native-code-push: ^6.1.1 => 6.4.1 \r\n    react-native-confirmation-code-input: ^1.0.4 => 1.0.4 \r\n    react-native-copilot: ^2.5.1 => 2.5.1 \r\n    react-native-create-thumbnail: ^1.2.2 => 1.5.1 \r\n    react-native-device-info: ^5.6.3 => 5.6.5 \r\n    react-native-dialog-input: ^1.0.4 => 1.0.8 \r\n    react-native-document-picker: ^3.5.4 => 3.5.4 \r\n    react-native-dropdownalert: ^3.4.0 => 3.11.0 \r\n    react-native-elements: ^1.1.0 => 1.2.7 \r\n    react-native-file-viewer: ^2.0.2 => 2.1.5 \r\n    react-native-fs: ^2.16.6 => 2.18.0 \r\n    react-native-gallery-swiper: ^1.26.4 => 1.26.4 \r\n    react-native-gifted-chat: ^0.16.1 => 0.16.3 \r\n    react-native-global-props: ^1.1.5 => 1.1.5 \r\n    react-native-google-drive-api-wrapper: ^1.4.0 => 1.4.0 \r\n    react-native-gradient-header: ^0.2.1 => 0.2.1 \r\n    react-native-html-to-pdf: ^0.8.0 => 0.8.0 \r\n    react-native-hyperlink: 0.0.19 => 0.0.19 \r\n    react-native-image-crop-picker: 0.28.0 => 0.28.0 \r\n    react-native-image-placeholder: ^1.0.14 => 1.0.14 \r\n    react-native-image-progress: ^1.1.1 => 1.2.0 \r\n    react-native-image-resizer: ^1.0.0 => 1.4.5 \r\n    react-native-img-cache: ^1.6.0 => 1.6.0 \r\n    react-native-iphone-x-helper: ^1.2.0 => 1.3.1 \r\n    react-native-keyboard-aware-scroll-view: ^0.9.5 => 0.9.5 \r\n    react-native-keyboard-spacer: ^0.4.1 => 0.4.1 \r\n    react-native-level-fs: ^3.0.1 => 3.0.1 \r\n    react-native-linear-gradient: ^2.5.6 => 2.5.6 \r\n    react-native-loading-spinner-overlay: 1.1.0 => 1.1.0 \r\n    react-native-material-dropdown: git+https://github.com/nickrobinson352/react-native-material-dropdown.git => 0.11.1 \r\n    react-native-modal: ^2.5.0 => 2.5.0 \r\n    react-native-modal-datetime-picker: ^9.1.0 => 9.2.3 \r\n    react-native-modal-dropdown: ^0.5.0 => 0.5.0 \r\n    react-native-multiple-select: ^0.5.5 => 0.5.7 \r\n    react-native-navigation: ^6.12.2 => 6.12.2 \r\n    react-native-navigation-hooks: ^6.1.0 => 6.3.0 \r\n    react-native-os: 1.2.6 => 1.2.6 \r\n    react-native-pdf: ^5.0.9 => 5.1.7 \r\n    react-native-permissions: ^1.1.1 => 1.2.1 \r\n    react-native-picker: ^4.3.7 => 4.3.7 \r\n    react-native-popup-dialog: ^0.17.0 => 0.17.3 \r\n    react-native-progress: ^4.1.2 => 4.1.2 \r\n    react-native-quick-actions: ^0.3.13 => 0.3.13 \r\n    react-native-scrollable-tab-view: git+https://github.com/Tiepbm/react-native-scrollable-tab-view.git => 1.0.0 \r\n    react-native-sectioned-multi-select: ^0.7.6 => 0.7.7 \r\n    react-native-sha256: ^1.1.1 => 1.4.7 \r\n    react-native-share: 3.0.0 => 3.0.0 \r\n    react-native-signature-capture: ^0.4.10 => 0.4.12 \r\n    react-native-sketch-canvas: https://github.com/wwimmo/react-native-sketch-image => 0.8.3 \r\n    react-native-slowlog: ^1.0.2 => 1.0.2 \r\n    react-native-snap-carousel: ^3.9.1 => 3.9.1 \r\n    react-native-svg: ^11.0.1 => 11.0.1 \r\n    react-native-svg-charts: 5.3.0 => 5.3.0 \r\n    react-native-swipe-list-view: ^2.5.0 => 2.5.0 \r\n    react-native-switch-selector: ^1.1.8 => 1.1.14 \r\n    react-native-timer: ^1.3.3 => 1.3.6 \r\n    react-native-uuid: ^1.4.9 => 1.4.9 \r\n    react-native-vector-icons: ^9.0.0 => 9.0.0 (7.1.0)\r\n    react-native-version-check: ^3.4.1 => 3.4.2 \r\n    react-native-version-number: ^0.3.2 => 0.3.6 \r\n    react-native-video: ^4.4.5 => 4.4.5 \r\n    react-native-video-player: ^0.10.1 => 0.10.1 \r\n    react-native-webview: ^9.1.4 => 9.4.0 \r\n    react-native-youtube: ^2.0.0 => 2.0.2 \r\n    react-redux: ^5.0.7 => 5.1.2 \r\n    react-test-renderer: 17.0.2 => 17.0.2 \r\n    readable-stream: ^1.0.33 => 1.1.14 (3.6.0, 1.0.34, 2.3.7)\r\n    redux: ^3.7.2 => 3.7.2 \r\n    redux-devtools-extension: ^2.13.8 => 2.13.9 \r\n    redux-logger: ^3.0.6 => 3.0.6 \r\n    redux-persist: ^4.8.3 => 4.10.2 \r\n    redux-persist-transform-filter: 0.0.15 => 0.0.15 \r\n    redux-persist/constants:  undefined ()\r\n    redux-persist/storages:  undefined ()\r\n    redux-promise-middleware: ^4.4.2 => 4.4.2 \r\n    redux-saga: ^0.15.6 => 0.15.6 \r\n    redux-saga/effects:  undefined ()\r\n    redux-saga/utils:  undefined ()\r\n    redux-thunk: ^2.3.0 => 2.4.1 \r\n    remote-redux-devtools: ^0.5.16 => 0.5.16 \r\n    remotedev-rn-debugger: ^0.8.4 => 0.8.4 \r\n    rn-fetch-blob: ^0.12.0 => 0.12.0 \r\n    rn-nodeify: github:tradle/rn-nodeify => 10.3.0 \r\n    squirrelly: ^8.0.3 => 8.0.8 \r\n    src:  undefined ()\r\n    stream-browserify: ^1.0.0 => 1.0.0 \r\n    timers-browserify: ^1.4.2 => 1.4.2 \r\n    tty-browserify: 0.0.0 => 0.0.0 \r\n    url: ^0.10.3 => 0.10.3 (0.11.0)\r\n    util: ^0.10.4 => 0.10.4 (0.10.3)\r\n    uuid: ^3.3.2 => 3.4.0 (3.3.2, 8.3.2, 3.1.0, 3.2.1, 7.0.3)\r\n    vm-browserify: 0.0.4 => 0.0.4 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.11\r\n    create-react-native-app: 3.7.2\r\n    detox-cli: 17.11.0\r\n    javascript-obfuscator: 3.0.0\r\n    jshint: 2.12.0\r\n    react-native-cli: 2.0.1\r\n    uglify-js: 3.14.5\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI get the following error when running in IOS Release \r\n\r\n[TypeError: (0,l.default) is not a function. (In '(0,l.default)(t.byteLength)', '(0,l.default)' is undefined)]\r\n\r\nThis works perfectly fine in DEBUG !\n\n### Expected behavior\n\nThe application works perfectly well in DEBUG but when I run this in Release, I get the following exception in the Auth.SignIn Function \r\n\n\n### Reproduction steps\n\n1. \n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\ntry {\r\n        console.log('login')\r\n        const user = await Auth.signIn(username, password);\r\n    } catch (error) {\r\n   \r\n        console.log( error);\r\n    }\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n[TypeError: (0,l.default) is not a function. (In '(0,l.default)(t.byteLength)', '(0,l.default)' is undefined)]\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\nconst awsmobile = {\r\n    Auth: {\r\n        // REQUIRED - Amazon Cognito Identity Pool ID\r\n        identityPoolId: 'us-east-1:XXXXX',\r\n        // REQUIRED - Amazon Cognito Region\r\n        region: 'us-east-1',\r\n        // OPTIONAL - Amazon Cognito User Pool ID\r\n        userPoolId: 'us-east-1XXXXX,\r\n        // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)\r\n        userPoolWebClientId: 'XXXXX',\r\n    },\r\n    API: {\r\n        endpoints: [\r\n            {\r\n                name: \"App\",\r\n                endpoint: \"https://XXX.execute-api.us-east-1.amazonaws.com/prod\"\r\n            }\r\n        ]\r\n    }\r\n}\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9505/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9504",
    "id": 1111840426,
    "node_id": "I_kwDOBkswNc5CRVaq",
    "number": 9504,
    "title": "LexV2 support",
    "user": {
      "login": "ramit21",
      "id": 19247842,
      "node_id": "MDQ6VXNlcjE5MjQ3ODQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/19247842?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ramit21",
      "html_url": "https://github.com/ramit21",
      "followers_url": "https://api.github.com/users/ramit21/followers",
      "following_url": "https://api.github.com/users/ramit21/following{/other_user}",
      "gists_url": "https://api.github.com/users/ramit21/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ramit21/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ramit21/subscriptions",
      "organizations_url": "https://api.github.com/users/ramit21/orgs",
      "repos_url": "https://api.github.com/users/ramit21/repos",
      "events_url": "https://api.github.com/users/ramit21/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ramit21/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 984995326,
        "node_id": "MDU6TGFiZWw5ODQ5OTUzMjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Interactions",
        "name": "Interactions",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Interactions category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-23T11:12:03Z",
    "updated_at": "2022-01-25T19:28:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nAngular, React\n\n### Is this related to a new or existing API?\n\n_No response_\n\n### Is this related to another service?\n\nLex\n\n### Describe the feature you'd like to request\n\nAbility to connect to V2 Lex chatbot.\n\n### Describe the solution you'd like\n\nWant to render AWS lex chatbot response cards on angular app. Lex v1 response cards are not rendered by exsitng plugin. So please support Lex V2, or make it work with V1 itself.\n\n### Describe alternatives you've considered\n\nWant to render AWS lex chatbot response cards on angular app. Lex v1 response cards are not rendered by exsitng plugin. So please support Lex V2, or make it work with V1 itself.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9504/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9503",
    "id": 1110578654,
    "node_id": "PR_kwDOBkswNc4xY7yt",
    "number": 9503,
    "title": "fix: UsernameField when using password manager/autofill",
    "user": {
      "login": "nosnilmot",
      "id": 29980186,
      "node_id": "MDQ6VXNlcjI5OTgwMTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/29980186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nosnilmot",
      "html_url": "https://github.com/nosnilmot",
      "followers_url": "https://api.github.com/users/nosnilmot/followers",
      "following_url": "https://api.github.com/users/nosnilmot/following{/other_user}",
      "gists_url": "https://api.github.com/users/nosnilmot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nosnilmot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nosnilmot/subscriptions",
      "organizations_url": "https://api.github.com/users/nosnilmot/orgs",
      "repos_url": "https://api.github.com/users/nosnilmot/repos",
      "events_url": "https://api.github.com/users/nosnilmot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nosnilmot/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 3123921129,
        "node_id": "MDU6TGFiZWwzMTIzOTIxMTI5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/first-time-contributor",
        "name": "first-time-contributor",
        "color": "7a828c",
        "default": false,
        "description": "The contribution is the first for this user in the repo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-01-21T15:13:40Z",
    "updated_at": "2022-01-31T15:18:48Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9503",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9503",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9503.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9503.patch",
      "merged_at": null
    },
    "body": "Use 'input' event instead of 'keyup' to detect input by password managers or\r\nbrowser auto-fill to avoid bogus 'Username cannot be empty' errors\r\n\r\nReported in #3831 and #4374 but never actually fixed\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9503/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9497",
    "id": 1108567296,
    "node_id": "PR_kwDOBkswNc4xSaHm",
    "number": 9497,
    "title": "David mcafee/ds custom pk with types",
    "user": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-19T21:13:51Z",
    "updated_at": "2022-01-20T19:32:18Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9497",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9497",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9497.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9497.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ ] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9497/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9496",
    "id": 1108492728,
    "node_id": "I_kwDOBkswNc5CEkG4",
    "number": 9496,
    "title": "Get Push Notification Token after initial request",
    "user": {
      "login": "marcato15",
      "id": 413567,
      "node_id": "MDQ6VXNlcjQxMzU2Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/413567?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcato15",
      "html_url": "https://github.com/marcato15",
      "followers_url": "https://api.github.com/users/marcato15/followers",
      "following_url": "https://api.github.com/users/marcato15/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcato15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcato15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcato15/subscriptions",
      "organizations_url": "https://api.github.com/users/marcato15/orgs",
      "repos_url": "https://api.github.com/users/marcato15/repos",
      "events_url": "https://api.github.com/users/marcato15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcato15/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 995486391,
        "node_id": "MDU6TGFiZWw5OTU0ODYzOTE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Push%20Notifications",
        "name": "Push Notifications",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Push Notification components"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-19T19:48:19Z",
    "updated_at": "2022-01-31T22:11:36Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nReact Native\n\n### Is this related to a new or existing API?\n\nPush Notifications\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nI would like to be able to get the device token for a Push Notification after the initial permission request. There are a number of reasons for this like handling the deregistration of push notifications (we currently are doing this manually). According to the docs, only the initial time a user is asked for their permission with the register callback get triggered. \n\n### Describe the solution you'd like\n\nI would like to be able to manually call the registerDevice function multiple times and get the device token if the user has already granted permissions.\n\n### Describe alternatives you've considered\n\nUsing a different library as other libraries currently implement this feature.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [X]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9496/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9493",
    "id": 1107323929,
    "node_id": "I_kwDOBkswNc5CAGwZ",
    "number": 9493,
    "title": "Check password of logged user",
    "user": {
      "login": "mrcMesen",
      "id": 31811142,
      "node_id": "MDQ6VXNlcjMxODExMTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/31811142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrcMesen",
      "html_url": "https://github.com/mrcMesen",
      "followers_url": "https://api.github.com/users/mrcMesen/followers",
      "following_url": "https://api.github.com/users/mrcMesen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrcMesen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrcMesen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrcMesen/subscriptions",
      "organizations_url": "https://api.github.com/users/mrcMesen/orgs",
      "repos_url": "https://api.github.com/users/mrcMesen/repos",
      "events_url": "https://api.github.com/users/mrcMesen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrcMesen/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-18T20:16:55Z",
    "updated_at": "2022-02-10T15:42:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\n_No response_\n\n### Is this related to a new or existing API?\n\nAuthentication\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nSome crucial actions (like deleting data) require security validation before executing them, so it would be nice to have a function like this: `currentUser.checkPassword()` to get a confirmation.\n\n### Describe the solution you'd like\n\nA Function like this: `currentUser.checkPassword()` to get a confirmation.\n\n### Describe alternatives you've considered\n\nI considered saving the password in a variable from the loggin (not very secure)\r\nI considered doing a log-in again which isn't very feasible since I don't require this\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9493/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9487",
    "id": 1105910005,
    "node_id": "I_kwDOBkswNc5B6tj1",
    "number": 9487,
    "title": "Nested GraphQL Type won't update via AppSunc SDK, complains of \"no provided typename\"",
    "user": {
      "login": "PeteDuncanson",
      "id": 1674590,
      "node_id": "MDQ6VXNlcjE2NzQ1OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PeteDuncanson",
      "html_url": "https://github.com/PeteDuncanson",
      "followers_url": "https://api.github.com/users/PeteDuncanson/followers",
      "following_url": "https://api.github.com/users/PeteDuncanson/following{/other_user}",
      "gists_url": "https://api.github.com/users/PeteDuncanson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PeteDuncanson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PeteDuncanson/subscriptions",
      "organizations_url": "https://api.github.com/users/PeteDuncanson/orgs",
      "repos_url": "https://api.github.com/users/PeteDuncanson/repos",
      "events_url": "https://api.github.com/users/PeteDuncanson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PeteDuncanson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 908644775,
        "node_id": "MDU6TGFiZWw5MDg2NDQ3NzU=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/AppSync",
        "name": "AppSync",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to AppSync issues"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-17T14:14:57Z",
    "updated_at": "2022-01-19T20:27:06Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nGraphQL API\n\n### Amplify Categories\n\napi\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Windows 10 10.0.19041\r\n    CPU: (16) x64 Intel(R) Core(TM) i7-10875H CPU @ 2.30GHz\r\n    Memory: 15.67 GB / 31.84 GB\r\n  Binaries:\r\n    Node: 14.16.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: 1.22.10 - ~\\AppData\\Roaming\\npm\\yarn.CMD\r\n    npm: 6.14.11 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Chrome: 97.0.4692.71\r\n    Edge: Spartan (44.19041.1266.0), Chromium (97.0.1072.62)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @asseinfo/react-kanban: ^2.2.0 => 2.2.0\r\n    @aws-amplify/ui-react: ^2.1.4 => 2.1.8\r\n    @aws-amplify/ui-react-internal:  undefined ()\r\n    @aws-amplify/ui-react-legacy:  undefined ()\r\n    @brainhubeu/react-file-input: 0.7.21 => 0.7.21\r\n    @craco/craco: ^6.4.1 => 6.4.1\r\n    @headlessui/react: ^1.2.0 => 1.2.0\r\n    @ideal-postcodes/api-typings: ^2.0.1 => 2.0.1\r\n    @ideal-postcodes/core-browser: ^1.5.2 => 1.5.2\r\n    @sentry/react: ^6.3.0 => 6.3.0\r\n    @sentry/tracing: ^6.2.4 => 6.2.4\r\n    @tailwindcss/aspect-ratio: ^0.2.0 => 0.2.0\r\n    @tailwindcss/forms: ^0.2.1 => 0.2.1\r\n    @tailwindcss/typography: ^0.4.0 => 0.4.0 (0.2.0)\r\n    @tailwindcss/ui: ^0.6.2 => 0.6.2\r\n    @tailwindui/react: ^0.1.1 => 0.1.1\r\n    @testing-library/jest-dom: ^4.2.4 => 4.2.4\r\n    @testing-library/react: ^9.3.2 => 9.5.0\r\n    @testing-library/user-event: ^7.1.2 => 7.2.1\r\n    @types/javascript-time-ago: ^2.0.2 => 2.0.2\r\n    @types/jest: ^27.0.2 => 27.0.2\r\n    @types/node: ^14.14.33 => 14.14.33 (13.9.2, 14.11.2)\r\n    @types/reach__router: ^1.3.7 => 1.3.7\r\n    @types/react: ^16.14.5 => 16.14.5 (17.0.34)\r\n    @types/react-dom: ^16.9.11 => 16.9.11 (16.9.8)\r\n    @types/yup: ^0.29.11 => 0.29.11\r\n    @typescript-eslint/eslint-plugin: ^4.17.0 => 4.17.0 (4.2.0)\r\n    @typescript-eslint/parser: ^4.17.0 => 4.17.0 (4.2.0)\r\n    apollo-boost: ^0.4.9 => 0.4.9\r\n    autoprefixer: ^10.2.5 => 10.2.5 (7.2.6, 6.7.7, 9.7.4)\r\n    aws: ^0.0.3-2 => 0.0.3-2\r\n    aws-amplify: ^4.3.10 => 4.3.12\r\n    aws-amplify-react: ^5.1.9 => 5.1.9\r\n    aws-appsync: ^4.1.4 => 4.1.4\r\n    aws-appsync-react: ^4.0.10 => 4.0.10\r\n    aws-sdk: ^2.860.0 => 2.860.0\r\n    axios: ^0.24.0 => 0.24.0 (0.21.4, 0.19.0)\r\n    babel-eslint: ^10.1.0 => 10.1.0\r\n    chart.js: ^3.2.0 => 3.2.0\r\n    chart.js-auto:  undefined ()\r\n    chart.js-helpers:  undefined ()\r\n    craco-esbuild: ^0.4.2 => 0.4.2\r\n    eslint: ^7.21.0 => 7.21.0 (7.32.0)\r\n    eslint-config-react-app: ^6.0.0 => 6.0.0\r\n    file-saver: ^2.0.5 => 2.0.5\r\n    formik: ^2.2.6 => 2.2.6\r\n    google-map-react: ^2.1.10 => 2.1.10\r\n    graphiql: ^1.4.0 => 1.4.0\r\n    graphql: 15.5.1 => 15.5.1 (15.8.0, 14.7.0)\r\n    graphql-auto-transformer: ^1.3.1 => 1.3.1\r\n    graphql-tag: ^2.12.6 => 2.12.6 (2.11.0)\r\n    history: 5 => 5.0.0 (4.10.1)\r\n    jsonschema: ^1.4.0 => 1.4.0\r\n    localforage: ^1.10.0 => 1.10.0\r\n    postcode: ^5.1.0 => 5.1.0\r\n    postcss: ^8.2.8 => 8.2.8 (6.0.23, 7.0.27, 5.2.18, 8.2.4, 8.3.11, 7.0.39, 7.0.36)\r\n    react: ^17.0.2 => 17.0.2 (16.14.0)\r\n    react-apollo: ^3.1.5 => 3.1.5\r\n    react-chartjs-2: ^3.0.2 => 3.0.2\r\n    react-datepicker: ^3.4.1 => 3.4.1\r\n    react-dom: ^16.14.0 => 16.14.0\r\n    react-icons: ^4.3.1 => 4.3.1\r\n    react-pagination-hook: ^0.0.1 => 0.0.1\r\n    react-router-dom: ^6.0.0-beta.8 => 6.0.0-beta.8 (4.3.1)\r\n    react-scripts: 4.0.3 => 4.0.3\r\n    react-tag-autocomplete: ^6.1.0 => 6.1.0\r\n    react-three-state-checkbox: ^1.3.4 => 1.3.4\r\n    react-time-ago: ^6.2.2 => 6.2.2\r\n    react-use: ^15.3.8 => 15.3.8\r\n    rimraf: ^3.0.2 => 3.0.2 (2.7.1)\r\n    smoothscroll-polyfill: ^0.4.4 => 0.4.4\r\n    tailwind: ^4.0.0 => 4.0.0\r\n    tailwindcss: ^2.0.3 => 2.0.3\r\n    typescript: ^4.2.3 => 4.2.3\r\n    vest: ^2.2.3 => 2.2.3\r\n    xero-node: ^4.17.0 => 4.17.0\r\n    yup: ^0.29.3 => 0.29.3\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.9\r\n    nodemon: 2.0.7\r\n    ts-node: 9.1.1\r\n    yarn: 1.22.10\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nUsing AppSync SDK (Offline setup but `disableOffline: true` in the config for now) I'm trying to update a GraphQL type within one of my models and I can't for the life of me get it to.\r\n\r\nWhen I try up update I get this error thrown:\r\n\r\n```\r\nError: Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of Location for the object of id $Address:c722bcc4-c5c5-4735-b1ec-3585c1f1c7e5.geoCords. The selectionSet that was trying to be written is:\r\ngeoCords {\r\n  lat\r\n  lon\r\n  __typename\r\n}\r\n    at StoreWriter.push../node_modules/apollo-cache-inmemory/lib/writeToStore.js.StoreWriter.writeFieldToStore (http://localhost:3000/static/js/vendors~main.chunk.js:330044:27)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:329931:27\r\n    at Array.forEach (<anonymous>)\r\n    at StoreWriter.push../node_modules/apollo-cache-inmemory/lib/writeToStore.js.StoreWriter.writeSelectionSetToStore (http://localhost:3000/static/js/vendors~main.chunk.js:329923:33)\r\n    at StoreWriter.push../node_modules/apollo-cache-inmemory/lib/writeToStore.js.StoreWriter.writeFieldToStore (http://localhost:3000/static/js/vendors~main.chunk.js:330022:22)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:329931:27\r\n    at Array.forEach (<anonymous>)\r\n    at StoreWriter.push../node_modules/apollo-cache-inmemory/lib/writeToStore.js.StoreWriter.writeSelectionSetToStore (http://localhost:3000/static/js/vendors~main.chunk.js:329923:33)\r\n    at StoreWriter.push../node_modules/apollo-cache-inmemory/lib/writeToStore.js.StoreWriter.writeResultToStore (http://localhost:3000/static/js/vendors~main.chunk.js:329901:25)\r\n    at InMemoryCache.push../node_modules/apollo-cache-inmemory/lib/inMemoryCache.js.InMemoryCache.write (http://localhost:3000/static/js/vendors~main.chunk.js:328955:26)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:332894:67\r\n    at Array.forEach (<anonymous>)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:332894:31\r\n    at InMemoryCache.push../node_modules/apollo-cache-inmemory/lib/inMemoryCache.js.InMemoryCache.performTransaction (http://localhost:3000/static/js/vendors~main.chunk.js:329007:9)\r\n    at DataStore.push../node_modules/apollo-client/data/store.js.DataStore.markMutationResult (http://localhost:3000/static/js/vendors~main.chunk.js:332893:24)\r\n    at changeFn_1 (http://localhost:3000/static/js/vendors~main.chunk.js:332831:23)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:332844:21\r\n    at InMemoryCache.push../node_modules/apollo-cache-inmemory/lib/inMemoryCache.js.InMemoryCache.performTransaction (http://localhost:3000/static/js/vendors~main.chunk.js:329007:9)\r\n    at http://localhost:3000/static/js/vendors~main.chunk.js:329019:19\r\n    at RecordingCache.push../node_modules/apollo-cache-inmemory/lib/recordingCache.js.RecordingCache.record (http://localhost:3000/static/js/vendors~main.chunk.js:329780:9)\r\n    at record (http://localhost:3000/static/js/vendors~main.chunk.js:329816:27)\r\n    at InMemoryCache.push../node_modules/apollo-cache-inmemory/lib/inMemoryCache.js.InMemoryCache.recordOptimisticTransaction (http://localhost:3000/static/js/vendors~main.chunk.js:329016:83)\r\n    at DataStore.push../node_modules/apollo-client/data/store.js.DataStore.markMutationInit (http://localhost:3000/static/js/vendors~main.chunk.js:332840:24)\r\n    at QueryManager.push../node_modules/apollo-client/core/QueryManager.js.QueryManager.mutate (http://localhost:3000/static/js/vendors~main.chunk.js:331770:24)\r\n    at AWSAppSyncClient.push../node_modules/apollo-client/ApolloClient.js.ApolloClient.mutate (http://localhost:3000/static/js/vendors~main.chunk.js:331150:40)\r\n    at AWSAppSyncClient.push../node_modules/aws-appsync/lib/client.js.AWSAppSyncClient.mutate (http://localhost:3000/static/js/vendors~main.chunk.js:353533:44)\r\n    at http://localhost:3000/static/js/main.chunk.js:7623:38\r\n    at Generator.next (<anonymous>)\r\n    at http://localhost:3000/static/js/main.chunk.js:7499:61\r\n    at new Promise (<anonymous>)\r\n    at __async (http://localhost:3000/static/js/main.chunk.js:7483:10)\r\n    at Object.update (http://localhost:3000/static/js/main.chunk.js:7615:30)\r\n    at http://localhost:3000/static/js/main.chunk.js:88597:81\r\n    at Generator.next (<anonymous>)\r\n    at fulfilled (http://localhost:3000/static/js/main.chunk.js:88533:24)\r\n```\r\n\r\nGiven a schema like this:\r\n```\r\ntype Location {\r\n  lat: Float\r\n  lon: Float\r\n}\r\n\r\ntype Address {\r\n  id: ID!\r\n  name: String\r\n  geoCords: Location\r\n}\r\n```\r\n\r\nI'm running a mutation like so using the `buildMutation` helpers (https://docs.amplify.aws/lib/graphqlapi/offline/q/platform/js/#with-helper):\r\n\r\n```\r\n// Most of my graphql is auto-generated via codegen\r\nconst response = await getClient().mutate(\r\n    buildMutation(\r\n      getClient(),\r\n      gql(updateAddress),\r\n      {\r\n        // Side note, can't seem to get these Input types out of the generated code, so have to cut and paste them in for now, any pointers?\r\n        inputType: gql`\r\n          input UpdateAddressInput {\r\n            id: String\r\n            companyName: String\r\n            addressLine1: String\r\n            addressLine2: String\r\n            addressLine3: String\r\n            town: String\r\n            county: String\r\n            postcode: String\r\n            phoneNumber: String\r\n            bedrooms: Int\r\n            houseTypeID: String\r\n            hasConservatory: Boolean\r\n            customerID: String\r\n            addressStatus: String\r\n            importantVisitSummary: String\r\n            importantCAMSummary: String\r\n            sectorID: String\r\n            areaID: String\r\n            geoCords: LocationInput   # Think this is right, but tried it as Location and just plain { lat: Float, lon: Float } no dice!\r\n            hasGeocodingIssues: Boolean\r\n            buildNumber: String\r\n            buildName: String\r\n            premise: String\r\n            postcodeOutward: String\r\n            postcodeInward: String\r\n            signUpDate: String\r\n            safePlaceToStoreMoney: String\r\n            legacyCleanerPlannerID: String\r\n            signedUpPreSUDS: Boolean\r\n            _version: Int\r\n          }\r\n        `,\r\n        variables,\r\n      },\r\n      (_variables) => [gql(listtAddress)], // Tried getAddress and updateAddress in here too, same error\r\n      \"Address\",\r\n      \"id\"\r\n    )\r\n  );\r\n```\r\n\r\nIts an odd error message as it calms it already has data stored but if I run the page in Incognito then it still throws it even though that shouldn't have it stored? Could be wrong there though. \n\n### Expected behavior\n\nThe update goes through and no error thrown.\r\n\r\nWith some messing around I have had it save but its blowing up my app, a refresh though will show the new data in my app. Maybe I can just \"handle it\" by catching the error but its causing me headaches.\n\n### Reproduction steps\n\nSee description of the issue.\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9487/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9482",
    "id": 1104255598,
    "node_id": "PR_kwDOBkswNc4xESzF",
    "number": 9482,
    "title": "fix: Reject promises with Errors instead of strings",
    "user": {
      "login": "MatrixFrog",
      "id": 244381,
      "node_id": "MDQ6VXNlcjI0NDM4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatrixFrog",
      "html_url": "https://github.com/MatrixFrog",
      "followers_url": "https://api.github.com/users/MatrixFrog/followers",
      "following_url": "https://api.github.com/users/MatrixFrog/following{/other_user}",
      "gists_url": "https://api.github.com/users/MatrixFrog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MatrixFrog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MatrixFrog/subscriptions",
      "organizations_url": "https://api.github.com/users/MatrixFrog/orgs",
      "repos_url": "https://api.github.com/users/MatrixFrog/repos",
      "events_url": "https://api.github.com/users/MatrixFrog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MatrixFrog/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-01-15T01:17:21Z",
    "updated_at": "2022-01-21T18:10:27Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9482",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9482",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9482.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9482.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\nThis makes things easier to debug since an error comes with a stack trace and a string does not.\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9482/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9481",
    "id": 1103876390,
    "node_id": "I_kwDOBkswNc5By9Em",
    "number": 9481,
    "title": "Up to date tips on using AppSync Offline in production",
    "user": {
      "login": "PeteDuncanson",
      "id": 1674590,
      "node_id": "MDQ6VXNlcjE2NzQ1OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PeteDuncanson",
      "html_url": "https://github.com/PeteDuncanson",
      "followers_url": "https://api.github.com/users/PeteDuncanson/followers",
      "following_url": "https://api.github.com/users/PeteDuncanson/following{/other_user}",
      "gists_url": "https://api.github.com/users/PeteDuncanson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PeteDuncanson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PeteDuncanson/subscriptions",
      "organizations_url": "https://api.github.com/users/PeteDuncanson/orgs",
      "repos_url": "https://api.github.com/users/PeteDuncanson/repos",
      "events_url": "https://api.github.com/users/PeteDuncanson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PeteDuncanson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 908644775,
        "node_id": "MDU6TGFiZWw5MDg2NDQ3NzU=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/AppSync",
        "name": "AppSync",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to AppSync issues"
      },
      {
        "id": 1133387443,
        "node_id": "MDU6TGFiZWwxMTMzMzg3NDQz",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/needs-discussion",
        "name": "needs-discussion",
        "color": "0e8a16",
        "default": false,
        "description": "Used for internal discussions"
      },
      {
        "id": 1270272334,
        "node_id": "MDU6TGFiZWwxMjcwMjcyMzM0",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Service%20Team",
        "name": "Service Team",
        "color": "bfdadc",
        "default": false,
        "description": "Issues asked to the Service Team"
      },
      {
        "id": 3130887271,
        "node_id": "MDU6TGFiZWwzMTMwODg3Mjcx",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/transferred",
        "name": "transferred",
        "color": "f9d0c4",
        "default": false,
        "description": "This issue was transferred from another Amplify project"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "josefaidt",
      "id": 5033303,
      "node_id": "MDQ6VXNlcjUwMzMzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5033303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josefaidt",
      "html_url": "https://github.com/josefaidt",
      "followers_url": "https://api.github.com/users/josefaidt/followers",
      "following_url": "https://api.github.com/users/josefaidt/following{/other_user}",
      "gists_url": "https://api.github.com/users/josefaidt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/josefaidt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/josefaidt/subscriptions",
      "organizations_url": "https://api.github.com/users/josefaidt/orgs",
      "repos_url": "https://api.github.com/users/josefaidt/repos",
      "events_url": "https://api.github.com/users/josefaidt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/josefaidt/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "josefaidt",
        "id": 5033303,
        "node_id": "MDQ6VXNlcjUwMzMzMDM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5033303?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josefaidt",
        "html_url": "https://github.com/josefaidt",
        "followers_url": "https://api.github.com/users/josefaidt/followers",
        "following_url": "https://api.github.com/users/josefaidt/following{/other_user}",
        "gists_url": "https://api.github.com/users/josefaidt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/josefaidt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/josefaidt/subscriptions",
        "organizations_url": "https://api.github.com/users/josefaidt/orgs",
        "repos_url": "https://api.github.com/users/josefaidt/repos",
        "events_url": "https://api.github.com/users/josefaidt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/josefaidt/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "svidgen",
        "id": 8375502,
        "node_id": "MDQ6VXNlcjgzNzU1MDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8375502?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/svidgen",
        "html_url": "https://github.com/svidgen",
        "followers_url": "https://api.github.com/users/svidgen/followers",
        "following_url": "https://api.github.com/users/svidgen/following{/other_user}",
        "gists_url": "https://api.github.com/users/svidgen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/svidgen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svidgen/subscriptions",
        "organizations_url": "https://api.github.com/users/svidgen/orgs",
        "repos_url": "https://api.github.com/users/svidgen/repos",
        "events_url": "https://api.github.com/users/svidgen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/svidgen/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2022-01-14T14:10:19Z",
    "updated_at": "2022-01-18T18:47:51Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "I've been advised to use AppSync Offline rather than DataStore due to scaling issues we where hitting with DS.\r\n\r\nWe've spend quite some time swapping it all out in our project but now we have hit a new issue (again with scale).\r\n\r\nIt seems that AppSync Offline out of the box uses an in memory storage to act as the cache. We are using the generated GraphQL queries for speed of development and our models have some connections which leads to some nesting of models. As a result our queries and responses are quite large in size. After some clicking round we are quickly filling up the storage and getting errors about it being out of space, see https://github.com/awslabs/aws-mobile-appsync-sdk-js/issues/168.\r\n\r\nThe google found fix for this (https://github.com/awslabs/aws-mobile-appsync-sdk-js/issues/168#issuecomment-448830161) is to install something called localforage which we did and indeed the space issue went away! However after some more testing what we found is localforage doesn't seem to do any expiring of the data it caches so it just keeps on growing. If this was using the IndexedDB key/store as I assumed it should this wouldn't be an issue but instead it seems to just be stringifying a forever growing JSON object everytime its touched which quickly brings the browser to a crawl and eventual crash.\r\n\r\nI can't find any settings in localforages config to enable a way to the amount of data we store or how to expire it. There is a size limit but thats for WebSQL and that is no longer recommended to use now IndexedDB is available in all browsers.\r\n\r\nThe only hint of a solution to this is a bit of a hack which is to just \"clear the cache at the start of the day\" which could work...but I would need to check first to see if we have any saved mutations queued up which need to go out first before we flush the cache. Doable but more work and it just feels like this is a problem that should have been solved before.\r\n\r\nhttps://github.com/awslabs/aws-mobile-appsync-sdk-js/issues/125#issuecomment-397137476\r\n \r\nGiven that I've followed all the advice and recommendations that I can officially find I'm now once more stuck and in a bit of a dead end and can't use AppSync Offline currently.\r\n\r\nAny pointers or can anyone work with me on how to find a new best practise for this? I can't be the only to have found or hit this issue in the last 3-4 years surely?\r\n\r\n**Amplify CLI Version** \r\n\r\n7.6.8\r\n\r\n**Provide additional details e.g. code snippets**\r\n\r\nHere is how I'm configuring AppSync in my client side code:\r\n\r\n```\r\nconst client = new AWSAppSyncClient(\r\n  {\r\n    url: AppSyncConfig.aws_appsync_graphqlEndpoint,\r\n    region: AppSyncConfig.aws_appsync_region,\r\n    auth: {\r\n      type: AUTH_TYPE[AppSyncConfig.aws_appsync_authenticationType],\r\n      apiKey: AppSyncConfig.aws_appsync_apiKey,\r\n      jwtToken: async () =>\r\n        (await Auth.currentSession()).getAccessToken().getJwtToken(), \r\n    \r\n    },\r\n    disableOffline: false, // Set this to true if you want to avoid the local storage hogging error, false if you want to start caching stuff for offline use\r\n    offlineConfig: {\r\n      storage: localForage,\r\n    },\r\n  },\r\n  {\r\n    defaultOptions: {\r\n      watchQuery: {\r\n        fetchPolicy: \"cache-and-network\" \r\n        errorPolicy: \"ignore\",\r\n      },\r\n      query: {\r\n        fetchPolicy: \"network-only\",\r\n        errorPolicy: \"all\",\r\n      },\r\n    },\r\n  }\r\n);\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9481/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9474",
    "id": 1100875213,
    "node_id": "PR_kwDOBkswNc4w4o1D",
    "number": 9474,
    "title": "feat: custom pk unit tests",
    "user": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "david-mcafee",
      "id": 14423828,
      "node_id": "MDQ6VXNlcjE0NDIzODI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/david-mcafee",
      "html_url": "https://github.com/david-mcafee",
      "followers_url": "https://api.github.com/users/david-mcafee/followers",
      "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
      "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
      "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
      "repos_url": "https://api.github.com/users/david-mcafee/repos",
      "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "david-mcafee",
        "id": 14423828,
        "node_id": "MDQ6VXNlcjE0NDIzODI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/14423828?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/david-mcafee",
        "html_url": "https://github.com/david-mcafee",
        "followers_url": "https://api.github.com/users/david-mcafee/followers",
        "following_url": "https://api.github.com/users/david-mcafee/following{/other_user}",
        "gists_url": "https://api.github.com/users/david-mcafee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/david-mcafee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/david-mcafee/subscriptions",
        "organizations_url": "https://api.github.com/users/david-mcafee/orgs",
        "repos_url": "https://api.github.com/users/david-mcafee/repos",
        "events_url": "https://api.github.com/users/david-mcafee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/david-mcafee/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-12T22:57:47Z",
    "updated_at": "2022-01-18T23:42:00Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9474",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9474",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9474.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9474.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\nfeat: custom pk unit tests\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\nN/A\r\n\r\n\r\n#### Description of how you validated changes\r\nRan unit tests\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ x ] PR description included\r\n- [ x ] `yarn test` passes\r\n- [ x ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9474/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9465",
    "id": 1099435482,
    "node_id": "PR_kwDOBkswNc4w0ANz",
    "number": 9465,
    "title": "fix: amend the redirecting so that it does not interfere with other oauth ",
    "user": {
      "login": "AG-Labs",
      "id": 30706188,
      "node_id": "MDQ6VXNlcjMwNzA2MTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/30706188?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AG-Labs",
      "html_url": "https://github.com/AG-Labs",
      "followers_url": "https://api.github.com/users/AG-Labs/followers",
      "following_url": "https://api.github.com/users/AG-Labs/following{/other_user}",
      "gists_url": "https://api.github.com/users/AG-Labs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AG-Labs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AG-Labs/subscriptions",
      "organizations_url": "https://api.github.com/users/AG-Labs/orgs",
      "repos_url": "https://api.github.com/users/AG-Labs/repos",
      "events_url": "https://api.github.com/users/AG-Labs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AG-Labs/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 3123921129,
        "node_id": "MDU6TGFiZWwzMTIzOTIxMTI5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/first-time-contributor",
        "name": "first-time-contributor",
        "color": "7a828c",
        "default": false,
        "description": "The contribution is the first for this user in the repo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-01-11T17:23:31Z",
    "updated_at": "2022-02-02T21:18:33Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9465",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9465",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9465.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9465.patch",
      "merged_at": null
    },
    "body": "flows coming into an amplify app\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\nSimilar to the change in https://github.com/aws-amplify/amplify-js/pull/6939 I have attempted to make it so that urls that contain a query parameter with a key of 'code' do not get highjacked by the amplify hosted page.\r\n\r\n\r\n#### Issue #, if available\r\nhttps://github.com/aws-amplify/amplify-js/issues/3494\r\n\r\n\r\n#### Description of how you validated changes\r\nI have added a further test. I have not yet been able to run locally and will ask for help on how to set this up in the issue as have not looked into the local running of this.\r\n\r\n\r\n#### Checklist\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9465/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9464",
    "id": 1098980152,
    "node_id": "I_kwDOBkswNc5BgRs4",
    "number": 9464,
    "title": "DataStore ON DELETE CASCADE",
    "user": {
      "login": "hukpavlo",
      "id": 40897161,
      "node_id": "MDQ6VXNlcjQwODk3MTYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/40897161?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hukpavlo",
      "html_url": "https://github.com/hukpavlo",
      "followers_url": "https://api.github.com/users/hukpavlo/followers",
      "following_url": "https://api.github.com/users/hukpavlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/hukpavlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hukpavlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hukpavlo/subscriptions",
      "organizations_url": "https://api.github.com/users/hukpavlo/orgs",
      "repos_url": "https://api.github.com/users/hukpavlo/repos",
      "events_url": "https://api.github.com/users/hukpavlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hukpavlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-11T10:43:29Z",
    "updated_at": "2022-01-19T20:49:30Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nReact Native\n\n### Is this related to a new or existing API?\n\nDataStore\n\n### Is this related to another service?\n\nDynamoDB\n\n### Describe the feature you'd like to request\n\nThe [documentation](https://docs.amplify.aws/lib/datastore/relational/q/platform/js/#deleting-relations) says children will be removed in one-to-many relationships, but I see the opposite - both local and remote tables keep related child records (no TTL in DynamoDB after deleting for children, only the parent has one).\r\n\r\nI've found this [TODO](https://github.com/aws-amplify/amplify-js/blob/6882c5e6e8f1bff2206ff0de74cebbcf87efd622/packages/datastore-storage-adapter/src/SQLiteAdapter/SQLiteAdapter.ts#L325), so would be nice to support the CASCADE feature.\n\n### Describe the solution you'd like\n\nTo support CASCADE delete on both remote and local databases\n\n### Describe alternatives you've considered\n\nManually delete every single related record\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9464/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9454",
    "id": 1097287435,
    "node_id": "PR_kwDOBkswNc4ws_uq",
    "number": 9454,
    "title": "feat(api-rest): Add ability to configure RestAPI to auto retry",
    "user": {
      "login": "ffxsam",
      "id": 12532733,
      "node_id": "MDQ6VXNlcjEyNTMyNzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12532733?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ffxsam",
      "html_url": "https://github.com/ffxsam",
      "followers_url": "https://api.github.com/users/ffxsam/followers",
      "following_url": "https://api.github.com/users/ffxsam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ffxsam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ffxsam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ffxsam/subscriptions",
      "organizations_url": "https://api.github.com/users/ffxsam/orgs",
      "repos_url": "https://api.github.com/users/ffxsam/repos",
      "events_url": "https://api.github.com/users/ffxsam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ffxsam/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      },
      {
        "id": 1053672379,
        "node_id": "MDU6TGFiZWwxMDUzNjcyMzc5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/needs-review",
        "name": "needs-review",
        "color": "ededed",
        "default": false,
        "description": "Used as a label in order to review open PRs"
      },
      {
        "id": 2447271210,
        "node_id": "MDU6TGFiZWwyNDQ3MjcxMjEw",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/needs-testing",
        "name": "needs-testing",
        "color": "9248ce",
        "default": false,
        "description": "Used to mark a pull request in order to test prior to merging"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 5,
    "created_at": "2022-01-09T20:01:05Z",
    "updated_at": "2022-01-18T22:26:23Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9454",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9454",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9454.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9454.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\nThis PR adds retry ability to the RestAPI class. IMO, retry is crucial, as users' network connections are not always as stable as we'd like them to be, and sometimes API Gateway will timeout or return 5xx errors that are retryable.\r\n\r\nThis PR is a draft. My time is severely limited, so any help with writing tests would be appreciated!\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9454/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9450",
    "id": 1096298659,
    "node_id": "PR_kwDOBkswNc4wqKAi",
    "number": 9450,
    "title": "refactor: Prevent show \"EventEmitter.removeListener: Method has been deprecated\" warning for modern react-native versions",
    "user": {
      "login": "retyui",
      "id": 4661784,
      "node_id": "MDQ6VXNlcjQ2NjE3ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4661784?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/retyui",
      "html_url": "https://github.com/retyui",
      "followers_url": "https://api.github.com/users/retyui/followers",
      "following_url": "https://api.github.com/users/retyui/following{/other_user}",
      "gists_url": "https://api.github.com/users/retyui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/retyui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/retyui/subscriptions",
      "organizations_url": "https://api.github.com/users/retyui/orgs",
      "repos_url": "https://api.github.com/users/retyui/repos",
      "events_url": "https://api.github.com/users/retyui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/retyui/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 3123921129,
        "node_id": "MDU6TGFiZWwzMTIzOTIxMTI5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/first-time-contributor",
        "name": "first-time-contributor",
        "color": "7a828c",
        "default": false,
        "description": "The contribution is the first for this user in the repo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 8,
    "created_at": "2022-01-07T13:02:40Z",
    "updated_at": "2022-02-10T17:41:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9450",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9450",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9450.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9450.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\n\r\nFix: https://github.com/aws-amplify/amplify-js/issues/9492\r\n\r\nI use\r\n\r\n- `\"react-native\": \"0.66.x\",`\r\n- `@aws-amplify/auth\": \"^3.4.34\",`\r\n\r\nAnd on every start a see this annoying warning \r\n\r\n```bash\r\n WARN  EventEmitter.removeListener('url', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `EventEmitter.addListener`.\r\n```\r\n\r\n\r\nThen I check that implementation and find out that subscription impossible for function because\r\n\r\n```ts\r\nlet handler;\r\n\r\nexport default async callback =>{\r\n  \tif (handler) { // this code make not possible to unsubscribe after first call\r\n\t\treturn; \r\n\t}\r\n        // ....\r\n        Linking.removeEventListener('url', handler);\r\n        subscription?.remove?.();\r\n}\r\n```\r\n\r\nSo I decided to remove never reached unsubscription calls\r\n\r\n#### Description of how you validated changes\r\n\r\ncovered with tests\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9450/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9448",
    "id": 1096098097,
    "node_id": "PR_kwDOBkswNc4wpge7",
    "number": 9448,
    "title": "fix(@aws-amplify/core): supporting empty string translation and adding unit test",
    "user": {
      "login": "evcodes",
      "id": 22283303,
      "node_id": "MDQ6VXNlcjIyMjgzMzAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/22283303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evcodes",
      "html_url": "https://github.com/evcodes",
      "followers_url": "https://api.github.com/users/evcodes/followers",
      "following_url": "https://api.github.com/users/evcodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/evcodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evcodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evcodes/subscriptions",
      "organizations_url": "https://api.github.com/users/evcodes/orgs",
      "repos_url": "https://api.github.com/users/evcodes/repos",
      "events_url": "https://api.github.com/users/evcodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evcodes/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-07T08:31:10Z",
    "updated_at": "2022-01-12T19:35:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9448",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9448",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9448.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9448.patch",
      "merged_at": null
    },
    "body": "\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nMostly a copy in response to a previous PR that I did not do my due diligence\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n\r\nhttps://github.com/aws-amplify/amplify-js/pull/9403\r\n\r\n\r\n#### Description of how you validated changes\r\nadded unit test and ran yarn test. I linked the changes to a sample app and was receiving the expected results.\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [x] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9448/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9447",
    "id": 1095952480,
    "node_id": "I_kwDOBkswNc5BUuhg",
    "number": 9447,
    "title": "withAuthenticator \"Resend code\" link is disabled",
    "user": {
      "login": "vlntine",
      "id": 89043751,
      "node_id": "MDQ6VXNlcjg5MDQzNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/89043751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vlntine",
      "html_url": "https://github.com/vlntine",
      "followers_url": "https://api.github.com/users/vlntine/followers",
      "following_url": "https://api.github.com/users/vlntine/following{/other_user}",
      "gists_url": "https://api.github.com/users/vlntine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vlntine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vlntine/subscriptions",
      "organizations_url": "https://api.github.com/users/vlntine/orgs",
      "repos_url": "https://api.github.com/users/vlntine/repos",
      "events_url": "https://api.github.com/users/vlntine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vlntine/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chintannp",
        "id": 88387035,
        "node_id": "MDQ6VXNlcjg4Mzg3MDM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/88387035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chintannp",
        "html_url": "https://github.com/chintannp",
        "followers_url": "https://api.github.com/users/chintannp/followers",
        "following_url": "https://api.github.com/users/chintannp/following{/other_user}",
        "gists_url": "https://api.github.com/users/chintannp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chintannp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chintannp/subscriptions",
        "organizations_url": "https://api.github.com/users/chintannp/orgs",
        "repos_url": "https://api.github.com/users/chintannp/repos",
        "events_url": "https://api.github.com/users/chintannp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chintannp/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-07T03:42:44Z",
    "updated_at": "2022-02-17T17:11:35Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\nSystem:\r\n    OS: macOS 11.2.3\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 461.02 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.4.2 - /opt/homebrew/bin/node\r\n    Yarn: 1.22.11 - /opt/homebrew/bin/yarn\r\n    npm: 7.18.1 - /opt/homebrew/bin/npm\r\n    Watchman: 2021.06.07.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0.2\r\n    Safari: 14.0.3\r\n  npmPackages:\r\n    @aws-amplify/api-graphql: ^2.2.15 => 2.2.17 \r\n    @babel/core: ^7.9.0 => 7.15.0 (7.9.0)\r\n    @react-native-async-storage/async-storage: ^1.15.14 => 1.15.14 \r\n    @react-native-community/eslint-config:  1.1.0 \r\n    @react-native-community/eslint-plugin:  1.0.0 \r\n    @react-native-community/netinfo: ^6.0.0 => 6.2.1 \r\n    @react-native-picker/picker: ^2.1.0 => 2.1.0 \r\n    @react-navigation/bottom-tabs: ^6.0.9 => 6.0.9 \r\n    @react-navigation/native: ^6.0.6 => 6.0.6 \r\n    @react-navigation/native-stack: ^6.2.5 => 6.2.5 \r\n    @types/react: ~16.9.35 => 16.9.56 \r\n    @types/react-native: ~0.63.2 => 0.63.53 \r\n    HelloWorld:  0.0.1 \r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    aws-amplify-react-native: ^5.0.4 => 5.0.5 \r\n    babel-plugin-inline-view-configs:  0.0.5 \r\n    eslint: ^7.32.0 => 7.32.0 \r\n    expo: ~42.0.1 => 42.0.3 \r\n    expo-constants: ^11.0.2 => 11.0.2 \r\n    expo-status-bar: ~1.0.4 => 1.0.4 \r\n    graphql: ^15.5.3 => 15.5.3 (14.5.0, 14.0.0)\r\n    hermes-inspector-msggen:  1.0.0 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-animated:  0.1.0 \r\n    react-dom: 16.13.1 => 16.13.1 \r\n    react-native: https://github.com/expo/react-native/archive/sdk-42.0.0.tar.gz => 0.63.2 \r\n    react-native-codegen:  0.0.2 \r\n    react-native-screens: ~3.4.0 => 3.4.0 \r\n    react-native-svg: 12.1.1 => 12.1.1 \r\n    react-native-web: ~0.13.12 => 0.13.18 \r\n    ts-standard: ^10.0.0 => 10.0.0 \r\n    typescript: ~4.0.0 => 4.0.8 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    expo-cli: 4.10.0\r\n    npm: 7.18.1\r\n    standard: 16.0.3\r\n    typescript: 4.4.3\r\n    yarn: 1.22.11\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen using withAuthenticator, after the sign up page, the user is directed to a \"Confirm Sign Up\" page. The \"Resend code\" link on the page doesn't work - it is disabled.\n\n### Expected behavior\n\nUser should be able to click \"Resend code\" and have another code sent.\n\n### Reproduction steps\n\n1. use amplify's withAuthenticator as explained here: https://docs.amplify.aws/ui/auth/authenticator/q/framework/react-native/\r\n2. expo start -> run in web browser\r\n3. sign up, when you try to click \"resend code\" it is not enabled\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nimport * as React from 'react'\r\nimport { NavigationContainer } from '@react-navigation/native'\r\nimport { View } from 'react-native'\r\nimport { appStyle } from './app.style'\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs'\r\nimport SettingsIcon from './assets/settings-icon'\r\nimport TasksIcon from './assets/tasks-icon'\r\nimport AccountsIcon from './assets/accounts-icon'\r\nimport { TaskStackScreen } from './screens/tasks/task-stack-screen'\r\nimport { SettingsStackScreen } from './screens/settings/settings-stack-screen'\r\nimport { AccountsStackScreen } from './screens/accounts/accounts-stack-screen'\r\nimport { THEME } from './constants'\r\nimport FeedbackIcon from './assets/feedback-icon'\r\nimport { FeedbackStackScreen } from './screens/feedback/feedback-stack-screen'\r\nimport Amplify from 'aws-amplify'\r\n// @ts-expect-error\r\nimport { withAuthenticator } from 'aws-amplify-react-native'\r\nimport awsconfig from './backend-src/aws-exports'\r\nimport { AuthTheme } from './screens/auth/amplify-theme'\r\nimport { signUpConfig } from './screens/auth/sign-up-config'\r\n\r\nAmplify.configure({\r\n  ...awsconfig,\r\n\r\n  // Added to correct for weird exception in console, see https://github.com/aws-amplify/amplify-js/issues/5918\r\n  Analytics: {\r\n    disabled: true\r\n  }\r\n})\r\n\r\nconst Tab = createBottomTabNavigator()\r\n\r\nfunction App (): JSX.Element {\r\n  const style = appStyle(THEME)\r\n  return (\r\n    <View style={style.outerContainer}>\r\n      <View style={style.innerContainer}>\r\n        {/* TODO(megan): rethink nav when moving auth after welcome screen/financial literacy\r\n        onboarding flow. Likely want a (Welcome, Auth, App) stack, with the App containing\r\n        the tabs. Maybe rename the TaskStack to something more generic since it also will\r\n        contain onboarding questions. */}\r\n        <NavigationContainer>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              tabBarShowLabel: false,\r\n              tabBarStyle: style.navigationBar\r\n            }}\r\n            initialRouteName='Tasks'\r\n          >\r\n            <Tab.Screen\r\n              name='Tasks'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <TasksIcon color={THEME.color.highlight} /> : <TasksIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <TaskStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Accounts'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <AccountsIcon color={THEME.color.highlight} /> : <AccountsIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <AccountsStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Settings'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <SettingsIcon color={THEME.color.highlight} /> : <SettingsIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <SettingsStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Feedback'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <FeedbackIcon color={THEME.color.highlight} /> : <FeedbackIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <FeedbackStackScreen />}\r\n            </Tab.Screen>\r\n          </Tab.Navigator>\r\n        </NavigationContainer>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default withAuthenticator(App, {\r\n  includeGreetings: false,\r\n  usernameAttributes: 'email',\r\n  signUpConfig },\r\n [], null, AuthTheme)\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9447/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9446",
    "id": 1095944501,
    "node_id": "I_kwDOBkswNc5BUsk1",
    "number": 9446,
    "title": "linkUnderlayColor not configurable",
    "user": {
      "login": "vlntine",
      "id": 89043751,
      "node_id": "MDQ6VXNlcjg5MDQzNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/89043751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vlntine",
      "html_url": "https://github.com/vlntine",
      "followers_url": "https://api.github.com/users/vlntine/followers",
      "following_url": "https://api.github.com/users/vlntine/following{/other_user}",
      "gists_url": "https://api.github.com/users/vlntine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vlntine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vlntine/subscriptions",
      "organizations_url": "https://api.github.com/users/vlntine/orgs",
      "repos_url": "https://api.github.com/users/vlntine/repos",
      "events_url": "https://api.github.com/users/vlntine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vlntine/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-07T03:22:01Z",
    "updated_at": "2022-01-08T00:57:56Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\nSystem:\r\n    OS: macOS 11.2.3\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 477.97 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.4.2 - /opt/homebrew/bin/node\r\n    Yarn: 1.22.11 - /opt/homebrew/bin/yarn\r\n    npm: 7.18.1 - /opt/homebrew/bin/npm\r\n    Watchman: 2021.06.07.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0.2\r\n    Safari: 14.0.3\r\n  npmPackages:\r\n    @aws-amplify/api-graphql: ^2.2.15 => 2.2.17 \r\n    @babel/core: ^7.9.0 => 7.15.0 (7.9.0)\r\n    @react-native-async-storage/async-storage: ^1.15.14 => 1.15.14 \r\n    @react-native-community/eslint-config:  1.1.0 \r\n    @react-native-community/eslint-plugin:  1.0.0 \r\n    @react-native-community/netinfo: ^6.0.0 => 6.2.1 \r\n    @react-native-picker/picker: ^2.1.0 => 2.1.0 \r\n    @react-navigation/bottom-tabs: ^6.0.9 => 6.0.9 \r\n    @react-navigation/native: ^6.0.6 => 6.0.6 \r\n    @react-navigation/native-stack: ^6.2.5 => 6.2.5 \r\n    @types/react: ~16.9.35 => 16.9.56 \r\n    @types/react-native: ~0.63.2 => 0.63.53 \r\n    HelloWorld:  0.0.1 \r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    aws-amplify-react-native: ^5.0.4 => 5.0.5 \r\n    babel-plugin-inline-view-configs:  0.0.5 \r\n    eslint: ^7.32.0 => 7.32.0 \r\n    expo: ~42.0.1 => 42.0.3 \r\n    expo-constants: ^11.0.2 => 11.0.2 \r\n    expo-status-bar: ~1.0.4 => 1.0.4 \r\n    graphql: ^15.5.3 => 15.5.3 (14.5.0, 14.0.0)\r\n    hermes-inspector-msggen:  1.0.0 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-animated:  0.1.0 \r\n    react-dom: 16.13.1 => 16.13.1 \r\n    react-native: https://github.com/expo/react-native/archive/sdk-42.0.0.tar.gz => 0.63.2 \r\n    react-native-codegen:  0.0.2 \r\n    react-native-screens: ~3.4.0 => 3.4.0 \r\n    react-native-svg: 12.1.1 => 12.1.1 \r\n    react-native-web: ~0.13.12 => 0.13.18 \r\n    ts-standard: ^10.0.0 => 10.0.0 \r\n    typescript: ~4.0.0 => 4.0.8 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    expo-cli: 4.10.0\r\n    npm: 7.18.1\r\n    standard: 16.0.3\r\n    typescript: 4.4.3\r\n    yarn: 1.22.11\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nIn https://github.com/aws-amplify/amplify-js/blob/main/packages/aws-amplify-react-native/src/AmplifyTheme.ts linkUnderlayColor is exported and used outside the stylesheet as the TouchableHighlight underlayColor. It can't be overridden with custom CSS (needs to be overridden to match the background color)\n\n### Expected behavior\n\nThere should be a way to override linkUnderlayColor with custom css.\n\n### Reproduction steps\n\n1. \n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n// @ts-expect-error\r\nimport { AmplifyTheme } from 'aws-amplify-react-native'\r\nimport { THEME } from '../../constants'\r\nimport { Platform } from 'react-native'\r\n\r\n// AuthTheme overrides some of the css styles in Amplify's theme css:\r\n// https://github.com/aws-amplify/amplify-js/blob/main/packages/aws-amplify-react-native/src/AmplifyTheme.ts\r\nconst AuthTheme = Object.assign({}, AmplifyTheme, {\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-around',\r\n    paddingTop: 20,\r\n    width: '100%',\r\n    // Can't do a dark theme for auth, unless we create our own component, because linkUnderlayColor in\r\n    // https://github.com/aws-amplify/amplify-js/blob/main/packages/aws-amplify-react-native/src/AmplifyTheme.ts\r\n    // is exported and used outside the stylesheet as the TouchableHighlight underlayColor, and it looks strange\r\n    // for it to be white on a dark background.\r\n    backgroundColor: '#FFF'\r\n  },\r\n  sectionHeaderText: {\r\n    color: THEME.color.highlight,\r\n    fontSize: THEME.font.fontSizeLarge,\r\n    fontWeight: '600'\r\n  },\r\n  button: {\r\n    backgroundColor: THEME.color.highlight,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 20,\r\n    height: THEME.buttons.buttonHeight,\r\n    width: '100%'\r\n  },\r\n  buttonDisabled: {\r\n    backgroundColor: THEME.color.disabled,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    borderRadius: 20,\r\n    height: THEME.buttons.buttonHeight,\r\n    width: '100%'\r\n  },\r\n  buttonText: {\r\n    color: THEME.color.onSurface,\r\n    fontSize: THEME.font.fontSizeMedium,\r\n    fontWeight: '600',\r\n    textTransform: 'lowercase'\r\n  },\r\n  input: {\r\n    backgroundColor: THEME.color.surfaceTwo,\r\n    width: '100%',\r\n    height: THEME.buttons.buttonHeight,\r\n    borderRadius: 20,\r\n    color: THEME.color.onSurface,\r\n    fontSize: THEME.font.fontSizeMedium,\r\n    fontWeight: '600',\r\n    paddingLeft: THEME.spacing.horizontalMargin,\r\n    paddingRight: THEME.spacing.horizontalMargin,\r\n    alignContent: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  phoneInput: {\r\n    flex: 2,\r\n    backgroundColor: THEME.color.surfaceTwo,\r\n    width: '100%',\r\n    height: THEME.buttons.buttonHeight,\r\n    borderRadius: 20,\r\n    color: THEME.color.onSurface,\r\n    fontSize: THEME.font.fontSizeMedium,\r\n    fontWeight: '600',\r\n    paddingLeft: THEME.spacing.horizontalMargin,\r\n    paddingRight: THEME.spacing.horizontalMargin,\r\n    alignContent: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  inputLabel: {\r\n    display: 'none'\r\n  },\r\n  sectionFooterLink: {\r\n    fontSize: THEME.font.fontSizeSmall,\r\n    color: THEME.color.highlight,\r\n    textDecoration: 'underline',\r\n    alignItems: 'baseline',\r\n    textAlign: 'center'\r\n  },\r\n  sectionFooterLinkDisabled: {\r\n    fontSize: THEME.font.fontSizeSmall,\r\n    color: THEME.color.disabled,\r\n    textDecoration: 'underline',\r\n    alignItems: 'baseline',\r\n    textAlign: 'center'\r\n  },\r\n  picker: {\r\n    flex: 1,\r\n    // ensure that longer text values render without truncation\r\n    // as the selected value of the Picker on Android\r\n    minWidth: Platform.OS === 'android' ? 16 : 0,\r\n    backgroundColor: THEME.color.surfaceTwo,\r\n    height: THEME.buttons.buttonHeight,\r\n    borderWidth: 10,\r\n    borderColor: THEME.color.surfaceTwo,\r\n    borderRadius: 20,\r\n    color: THEME.color.onSurface,\r\n    fontSize: THEME.font.fontSizeMedium,\r\n    fontWeight: '600',\r\n    marginRight: THEME.spacing.horizontalMargin\r\n  },\r\n  pickerItem: {\r\n    height: 44\r\n  },\r\n  signedOutMessage: {\r\n    display: 'none'\r\n  }\r\n})\r\n\r\nexport { AuthTheme }\r\n\r\nThen in App.tsx:\r\n\r\nimport { AuthTheme } from './screens/auth/amplify-theme'\r\n\r\nexport default withAuthenticator(App, {\r\n  includeGreetings: false,\r\n  usernameAttributes: 'email',\r\n  signUpConfig },\r\n [], null, AuthTheme)\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9446/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9460",
    "id": 1098166035,
    "node_id": "I_kwDOBkswNc5BdK8T",
    "number": 9460,
    "title": "withAuthenticator warning:  A component is changing an uncontrolled input of type text to be controlled.",
    "user": {
      "login": "vlntine",
      "id": 89043751,
      "node_id": "MDQ6VXNlcjg5MDQzNzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/89043751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vlntine",
      "html_url": "https://github.com/vlntine",
      "followers_url": "https://api.github.com/users/vlntine/followers",
      "following_url": "https://api.github.com/users/vlntine/following{/other_user}",
      "gists_url": "https://api.github.com/users/vlntine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vlntine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vlntine/subscriptions",
      "organizations_url": "https://api.github.com/users/vlntine/orgs",
      "repos_url": "https://api.github.com/users/vlntine/repos",
      "events_url": "https://api.github.com/users/vlntine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vlntine/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chintannp",
        "id": 88387035,
        "node_id": "MDQ6VXNlcjg4Mzg3MDM1",
        "avatar_url": "https://avatars.githubusercontent.com/u/88387035?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chintannp",
        "html_url": "https://github.com/chintannp",
        "followers_url": "https://api.github.com/users/chintannp/followers",
        "following_url": "https://api.github.com/users/chintannp/following{/other_user}",
        "gists_url": "https://api.github.com/users/chintannp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chintannp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chintannp/subscriptions",
        "organizations_url": "https://api.github.com/users/chintannp/orgs",
        "repos_url": "https://api.github.com/users/chintannp/repos",
        "events_url": "https://api.github.com/users/chintannp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chintannp/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-07T01:26:11Z",
    "updated_at": "2022-02-17T17:11:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n\r\n  System:\r\n    OS: macOS 11.2.3\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 437.53 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.4.2 - /opt/homebrew/bin/node\r\n    Yarn: 1.22.11 - /opt/homebrew/bin/yarn\r\n    npm: 7.18.1 - /opt/homebrew/bin/npm\r\n    Watchman: 2021.06.07.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0.2\r\n    Safari: 14.0.3\r\n  npmPackages:\r\n    @aws-amplify/api-graphql: ^2.2.15 => 2.2.17 \r\n    @babel/core: ^7.9.0 => 7.15.0 (7.9.0)\r\n    @react-native-async-storage/async-storage: ^1.15.14 => 1.15.14 \r\n    @react-native-community/eslint-config:  1.1.0 \r\n    @react-native-community/eslint-plugin:  1.0.0 \r\n    @react-native-community/netinfo: ^6.0.0 => 6.2.1 \r\n    @react-native-picker/picker: ^2.1.0 => 2.1.0 \r\n    @react-navigation/bottom-tabs: ^6.0.9 => 6.0.9 \r\n    @react-navigation/native: ^6.0.6 => 6.0.6 \r\n    @react-navigation/native-stack: ^6.2.5 => 6.2.5 \r\n    @types/react: ~16.9.35 => 16.9.56 \r\n    @types/react-native: ~0.63.2 => 0.63.53 \r\n    HelloWorld:  0.0.1 \r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    aws-amplify-react-native: ^5.0.4 => 5.0.5 \r\n    babel-plugin-inline-view-configs:  0.0.5 \r\n    eslint: ^7.32.0 => 7.32.0 \r\n    expo: ~42.0.1 => 42.0.3 \r\n    expo-constants: ^11.0.2 => 11.0.2 \r\n    expo-status-bar: ~1.0.4 => 1.0.4 \r\n    graphql: ^15.5.3 => 15.5.3 (14.5.0, 14.0.0)\r\n    hermes-inspector-msggen:  1.0.0 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-animated:  0.1.0 \r\n    react-dom: 16.13.1 => 16.13.1 \r\n    react-native: https://github.com/expo/react-native/archive/sdk-42.0.0.tar.gz => 0.63.2 \r\n    react-native-codegen:  0.0.2 \r\n    react-native-screens: ~3.4.0 => 3.4.0 \r\n    react-native-svg: 12.1.1 => 12.1.1 \r\n    react-native-web: ~0.13.12 => 0.13.18 \r\n    ts-standard: ^10.0.0 => 10.0.0 \r\n    typescript: ~4.0.0 => 4.0.8 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    expo-cli: 4.10.0\r\n    npm: 7.18.1\r\n    standard: 16.0.3\r\n    typescript: 4.4.3\r\n    yarn: 1.22.11\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen using withAuthenticator, there is a runtime warning that seems to stem from AmplifyUI.tsx:\r\n\r\nWarning: A component is changing an uncontrolled input of type text to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components\r\n    in input (created by TextInput)\r\n    in TextInput (at AmplifyUI.tsx:63)\r\n    in div (created by View)\r\n    in View (at AmplifyUI.tsx:59)\r\n    in FormField (at AuthPiece.tsx:87)\r\n    in div (created by View)\r\n    in View (at SignIn.tsx:102)\r\n    in div (created by View)\r\n    in View (at SignIn.tsx:95)\r\n    in div (created by View)\r\n    in View (at SignIn.tsx:94)\r\n    in div (created by View)\r\n    in View (at AmplifyUI.tsx:261)\r\n    in Wrapper (at SignIn.tsx:93)\r\n    in SignIn (at Authenticator.tsx:230)\r\n    in div (created by View)\r\n    in View (created by SafeAreaView)\r\n    in SafeAreaView (at AmplifyUI.tsx:47)\r\n    in Container (at Authenticator.tsx:253)\r\n    in Authenticator (at Auth/index.tsx:138)\r\n    in Wrapper (created by ExpoRootComponent)\r\n    in ExpoRootComponent\r\n    in div (created by View)\r\n    in View (created by AppContainer)\r\n    in div (created by View)\r\n    in View (created by AppContainer)\r\n    in AppContainer\r\n\r\n\n\n### Expected behavior\n\nAmplifyUI.tsx shouldn't cause warnings.\n\n### Reproduction steps\n\n1. Use amplify withAuthenticator as instructed here in typescript: https://docs.amplify.aws/ui/auth/authenticator/q/framework/react/#withauthenticator.\r\n2. Use expo start to run in a web browser.\r\n3. Check console for warning.\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nimport * as React from 'react'\r\nimport { NavigationContainer } from '@react-navigation/native'\r\nimport { View } from 'react-native'\r\nimport { appStyle } from './app.style'\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs'\r\nimport SettingsIcon from './assets/settings-icon'\r\nimport TasksIcon from './assets/tasks-icon'\r\nimport AccountsIcon from './assets/accounts-icon'\r\nimport { TaskStackScreen } from './screens/tasks/task-stack-screen'\r\nimport { SettingsStackScreen } from './screens/settings/settings-stack-screen'\r\nimport { AccountsStackScreen } from './screens/accounts/accounts-stack-screen'\r\nimport { THEME } from './constants'\r\nimport FeedbackIcon from './assets/feedback-icon'\r\nimport { FeedbackStackScreen } from './screens/feedback/feedback-stack-screen'\r\nimport Amplify from 'aws-amplify'\r\n// @ts-expect-error\r\nimport { withAuthenticator } from 'aws-amplify-react-native'\r\nimport awsconfig from './backend-src/aws-exports'\r\nimport { AuthTheme } from './screens/auth/amplify-theme'\r\nimport { signUpConfig } from './screens/auth/sign-up-config'\r\n\r\nAmplify.configure({\r\n  ...awsconfig,\r\n\r\n  // Added to correct for weird exception in console, see https://github.com/aws-amplify/amplify-js/issues/5918\r\n  Analytics: {\r\n    disabled: true\r\n  }\r\n})\r\n\r\nconst Tab = createBottomTabNavigator()\r\n\r\nfunction App (): JSX.Element {\r\n  const style = appStyle(THEME)\r\n  return (\r\n    <View style={style.outerContainer}>\r\n      <View style={style.innerContainer}>\r\n        <NavigationContainer>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              tabBarShowLabel: false,\r\n              tabBarStyle: style.navigationBar\r\n            }}\r\n            initialRouteName='Tasks'\r\n          >\r\n            <Tab.Screen\r\n              name='Tasks'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <TasksIcon color={THEME.color.highlight} /> : <TasksIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <TaskStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Accounts'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <AccountsIcon color={THEME.color.highlight} /> : <AccountsIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <AccountsStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Settings'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <SettingsIcon color={THEME.color.highlight} /> : <SettingsIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <SettingsStackScreen />}\r\n            </Tab.Screen>\r\n            <Tab.Screen\r\n              name='Feedback'\r\n              options={{\r\n                tabBarIcon: ({ focused }) => (\r\n                  focused ? <FeedbackIcon color={THEME.color.highlight} /> : <FeedbackIcon color={THEME.color.lowLight} />\r\n                )\r\n              }}\r\n            >\r\n              {() => <FeedbackStackScreen />}\r\n            </Tab.Screen>\r\n          </Tab.Navigator>\r\n        </NavigationContainer>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default withAuthenticator(App, {\r\n  includeGreetings: false,\r\n  usernameAttributes: 'email',\r\n  signUpConfig },\r\n [], null, AuthTheme)\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9460/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9444",
    "id": 1095797218,
    "node_id": "PR_kwDOBkswNc4woh6u",
    "number": 9444,
    "title": "chore(circleci config): Ignore optional dependencies during build step",
    "user": {
      "login": "elorzafe",
      "id": 28815678,
      "node_id": "MDQ6VXNlcjI4ODE1Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/28815678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elorzafe",
      "html_url": "https://github.com/elorzafe",
      "followers_url": "https://api.github.com/users/elorzafe/followers",
      "following_url": "https://api.github.com/users/elorzafe/following{/other_user}",
      "gists_url": "https://api.github.com/users/elorzafe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elorzafe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elorzafe/subscriptions",
      "organizations_url": "https://api.github.com/users/elorzafe/orgs",
      "repos_url": "https://api.github.com/users/elorzafe/repos",
      "events_url": "https://api.github.com/users/elorzafe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elorzafe/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-06T23:23:40Z",
    "updated_at": "2022-01-07T21:37:57Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9444",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9444",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9444.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9444.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\nIgnoring optional dependencies during build process. The library experienced some issues with `zone` package dependency making the build process to failed because it was depending on an optional dependency `http://blip.strongloop.com/zone@0.3.4` that wasn't available.\r\n\r\n#### Issue #, if available\r\nSome builds started  to fail when using `optionalDependencies`\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [X] PR description included\r\n- [X] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9444/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9440",
    "id": 1095733565,
    "node_id": "I_kwDOBkswNc5BT5E9",
    "number": 9440,
    "title": "[REST API] Please give us an escape hatch to axios",
    "user": {
      "login": "ffxsam",
      "id": 12532733,
      "node_id": "MDQ6VXNlcjEyNTMyNzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12532733?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ffxsam",
      "html_url": "https://github.com/ffxsam",
      "followers_url": "https://api.github.com/users/ffxsam/followers",
      "following_url": "https://api.github.com/users/ffxsam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ffxsam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ffxsam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ffxsam/subscriptions",
      "organizations_url": "https://api.github.com/users/ffxsam/orgs",
      "repos_url": "https://api.github.com/users/ffxsam/repos",
      "events_url": "https://api.github.com/users/ffxsam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ffxsam/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-06T22:03:32Z",
    "updated_at": "2022-01-07T17:52:22Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\n_No response_\n\n### Is this related to a new or existing API?\n\nREST API\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nI'd like to be able to access the axios instance within `API`, so that I can use `axiosRetry` on it to specify a retry strategy.\n\n### Describe the solution you'd like\n\nSome way to access axios, e.g. `API.axios` would work.\n\n### Describe alternatives you've considered\n\nI looked at the source code to see if there was some hacky way of getting to it, but I didn't see anything.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [X]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9440/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9439",
    "id": 1095729849,
    "node_id": "I_kwDOBkswNc5BT4K5",
    "number": 9439,
    "title": "customState parameters are not available after oauth signin",
    "user": {
      "login": "dslack",
      "id": 371527,
      "node_id": "MDQ6VXNlcjM3MTUyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/371527?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dslack",
      "html_url": "https://github.com/dslack",
      "followers_url": "https://api.github.com/users/dslack/followers",
      "following_url": "https://api.github.com/users/dslack/following{/other_user}",
      "gists_url": "https://api.github.com/users/dslack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dslack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dslack/subscriptions",
      "organizations_url": "https://api.github.com/users/dslack/orgs",
      "repos_url": "https://api.github.com/users/dslack/repos",
      "events_url": "https://api.github.com/users/dslack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dslack/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2022-01-06T21:58:23Z",
    "updated_at": "2022-01-13T15:59:38Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nAngular\n\n### Amplify APIs\n\nAuthentication, REST API\n\n### Amplify Categories\n\nauth, api\n\n### Environment information\n\n<details>\r\n\r\n```\r\nSystem:\r\n    OS: Windows 10 10.0.19044\r\n    CPU: (16) x64 AMD Ryzen 7 3800X 8-Core Processor\r\n    Memory: 4.41 GB / 31.91 GB\r\n  Binaries:\r\n    Node: 14.15.0 - E:\\servers\\nodejs\\node.EXE\r\n    Yarn: 1.22.5 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n    npm: 6.14.8 - E:\\servers\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.62)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @angular-devkit/architect: ~0.1102.14 => 0.1102.14\r\n    @angular-devkit/build-angular: ~0.1102.14 => 0.1102.14\r\n    @angular-devkit/core: ~11.2.14 => 11.2.14 (8.3.29)\r\n    @angular-devkit/schematics: ~11.2.14 => 11.2.14 (8.3.29)\r\n    @angular/cli: ~11.2.14 => 11.2.14\r\n    @angular/common: ^11.2.14 => 11.2.14\r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ~11.2.14 => 11.2.14 (9.0.0)\r\n    @angular/compiler-cli: ~11.2.14 => 11.2.14\r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ^11.2.14 => 11.2.14 (9.0.0)\r\n    @angular/core/testing:  undefined ()\r\n    @angular/forms: ^11.2.14 => 11.2.14\r\n    @angular/language-service: ~11.2.14 => 11.2.14\r\n    @angular/localize: ^11.2.14 => 11.2.14\r\n    @angular/localize/init:  undefined ()\r\n    @angular/platform-browser: ^11.2.14 => 11.2.14\r\n    @angular/platform-browser-dynamic: ^11.2.14 => 11.2.14\r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/pwa: ^0.803.26 => 0.803.29\r\n    @angular/router: ^11.2.14 => 11.2.14\r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @angular/service-worker: ^11.2.14 => 11.2.14\r\n    @angular/service-worker/config:  undefined ()\r\n    @aws-amplify/ui-angular: ^1.0.15 => 1.0.15\r\n    @aws-cdk/core: ^1.114.0 => 1.114.0\r\n    @capacitor-community/http: ^0.2.1 => 0.2.1\r\n    @capacitor/android: ^2.4.0 => 2.4.0\r\n    @capacitor/cli: 2.4.0 => 2.4.0\r\n    @capacitor/core: 2.4.0 => 2.4.0\r\n    @capacitor/ios: ^2.4.0 => 2.4.0\r\n    @ionic-native/app-center-analytics: ^5.28.0 => 5.28.0\r\n    @ionic-native/app-center-crashes: ^5.28.0 => 5.28.0\r\n    @ionic-native/core: ^5.18.0 => 5.27.0\r\n    @ionic-native/file-opener: ^5.28.0 => 5.28.0\r\n    @ionic-native/splash-screen: ^5.18.0 => 5.27.0\r\n    @ionic-native/status-bar: ^5.18.0 => 5.27.0\r\n    @ionic/angular: ^5.1.0 => 5.3.1\r\n    @ionic/angular-toolkit: ~2.0.0 => 2.0.0\r\n    @langui/ileavetoyou-common: ^1.0.8 => 1.0.8\r\n    @stripe/stripe-js: ^1.21.1 => 1.21.1\r\n    @types/file-saver: ^2.0.1 => 2.0.1\r\n    @types/jasmine: ~3.6.0 => 3.6.11\r\n    @types/jasminewd2: ^2.0.8 => 2.0.8\r\n    @types/node: ^12.20.16 => 12.20.16\r\n    aws-amplify: ^4.2.0 => 4.2.0\r\n    aws-amplify-angular: ^6.0.6 => 6.0.6\r\n    browser-mime: ^1.0.1 => 1.0.1\r\n    capacitor-app:  1.0.0\r\n    capacitor-resources: ^2.0.3 => 2.0.4\r\n    codelyzer: ^6.0.0 => 6.0.2\r\n    cordova-plugin-appcenter-analytics: ^0.5.1 => 0.5.1\r\n    cordova-plugin-appcenter-crashes: ^0.5.1 => 0.5.1\r\n    cordova-plugin-appcenter-shared: ^0.5.1 => 0.5.1\r\n    cordova-plugin-file: ^6.0.2 => 6.0.2\r\n    cordova-plugin-file-opener2: ^3.0.4 => 3.0.4\r\n    cordova-plugin-file-tests:  6.0.2\r\n    core-js: ^2.6.11 => 2.6.11 (3.8.3, 3.6.5)\r\n    example-typescript:  1.0.0\r\n    file-saver: ^2.0.2 => 2.0.2\r\n    filesize.js: ^2.0.0 => 2.0.0\r\n    jasmine-core: ~3.6.0 => 3.6.0 (2.8.0, 3.8.0)\r\n    jasmine-spec-reporter: ~5.0.0 => 5.0.2\r\n    jetifier: ^1.6.6 => 1.6.6\r\n    jstz: ^2.1.1 => 2.1.1\r\n    karma: ~6.3.4 => 6.3.4\r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0\r\n    karma-coverage-istanbul-reporter: ~3.0.2 => 3.0.3\r\n    karma-jasmine: ~4.0.0 => 4.0.1\r\n    karma-jasmine-html-reporter: ^1.5.0 => 1.5.4\r\n    lib:  0.0.1\r\n    ngx-stripe: ^11.1.0 => 11.1.0\r\n    node-example:  1.0.0\r\n    pdfmake: ^0.1.65 => 0.1.68\r\n    protractor: ~7.0.0 => 7.0.0\r\n    protractor-example:  1.0.0\r\n    rxjs: ^6.5.3 => 6.6.2 (6.6.3, 6.4.0)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    ts-node: ^8.3.0 => 8.3.0\r\n    tslib: ^2.0.0 => 2.3.0 (1.14.1, 2.1.0)\r\n    tslint: ~6.1.0 => 6.1.3\r\n    typescript: ^4.1.5 => 4.1.5 (3.4.3)\r\n    typescript-example:  1.0.0\r\n    webpack-bundle-analyzer: ^3.6.0 => 3.8.0\r\n    zone.js: ~0.10.3 => 0.10.3\r\n  npmGlobalPackages:\r\n    @angular/cli: 13.0.2\r\n    @langui-dnd/avpol-components: 0.0.0-watch+1638509847264\r\n    @langui-dnd/avpol-models: 0.0.0-watch+1638509842473\r\n    @langui-dnd/avpol-services: 0.0.1\r\n    aws-cdk: 1.89.0\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nOur application leverages amplify OAuth signup as well as traditional email signup.  We need to capture some additional properties for a user before signing up, so we are leveraging the _customState_ for the federated signin.  Previously (within the last month or 2), our application retrieved the _customState_ successfully, however, in the past week we have seen that the _customState_ appears to not be passed back from the OAuth provider.\r\n\r\nWe have examined the data sent to our Cognito Domain (we are leveraging a custom domain), and we can see that the nonce being generated by Amplify is 32 characters, along with the customState data (just a simple token).  However, on the OAuth providers page (Apple/Google/etc), the state appears to be Base64 Encoded and I'm unable to decode it to anything readable.\n\n### Expected behavior\n\nWhen we do an OAuth signup with customState data, we will be able to read the data after the user signs up\n\n### Reproduction steps\n\n1. Perform an OAuth signup using the amplify federatedSignIn, with customState data defined\r\n2. Successfully sign into the oauth provider\r\n3. Read customState upon redirection\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nconst state = {\r\n  code: 'ABC123'\r\n};\r\nthis.amplifyService.auth().federatedSignIn({provider, customState: JSON.stringify(state)});\r\n// Later, we can extract the state from the address bar\r\nconst params = await this.activatedRoute.queryParams.first().toPromise();\r\nconst customState = params.state.split('-');\r\nconst output = hex_to_ascii(customState[1]);\r\nconst customStateParsed = JSON.parse(output);\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9439/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9438",
    "id": 1095729513,
    "node_id": "I_kwDOBkswNc5BT4Fp",
    "number": 9438,
    "title": "Erros while attempting to set up MFA for user",
    "user": {
      "login": "careignition-cps",
      "id": 82522346,
      "node_id": "MDQ6VXNlcjgyNTIyMzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/82522346?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/careignition-cps",
      "html_url": "https://github.com/careignition-cps",
      "followers_url": "https://api.github.com/users/careignition-cps/followers",
      "following_url": "https://api.github.com/users/careignition-cps/following{/other_user}",
      "gists_url": "https://api.github.com/users/careignition-cps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/careignition-cps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/careignition-cps/subscriptions",
      "organizations_url": "https://api.github.com/users/careignition-cps/orgs",
      "repos_url": "https://api.github.com/users/careignition-cps/repos",
      "events_url": "https://api.github.com/users/careignition-cps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/careignition-cps/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 2358850363,
        "node_id": "MDU6TGFiZWwyMzU4ODUwMzYz",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/MFA",
        "name": "MFA",
        "color": "5d25f7",
        "default": false,
        "description": "Used when its related to issues with MFA / TOTP use cases"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-06T21:57:49Z",
    "updated_at": "2022-01-10T14:59:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nNot applicable\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n    Memory: 2.59 GB / 15.73 GB\r\n  Binaries:\r\n    Node: 16.13.0 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: 1.22.17 - ~\\node_modules\\.bin\\yarn.CMD\r\n    npm: 8.1.3 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.62)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @babel/core: ^7.15.5 => 7.15.5 (7.12.3)\r\n    @babel/eslint-parser: ^7.15.7 => 7.15.7\r\n    @emotion/react: ^11.6.0 => 11.6.0\r\n    @emotion/styled: ^11.6.0 => 11.6.0\r\n    @iconify/icons-ant-design: ^1.1.0 => 1.1.0\r\n    @iconify/icons-eva: ^1.1.0 => 1.1.0\r\n    @iconify/icons-ic: ^1.1.10 => 1.1.10\r\n    @iconify/react: ^3.0.1 => 3.0.1\r\n    @mui/icons-material: 5.2.0 => 5.2.0\r\n    @mui/lab: ^5.0.0-alpha.47 => 5.0.0-alpha.47\r\n    @mui/material: ^5.1.1 => 5.1.1\r\n    @mui/styles: ^5.1.1 => 5.1.1\r\n    @mui/utils: ^5.0.0 => 5.1.1\r\n    @react-pdf/renderer: ^2.0.21 => 2.0.21\r\n    @testing-library/jest-dom: ^5.14.1 => 5.14.1\r\n    HelloWorld:  0.0.1\r\n    amazon-cognito-identity-js: 5.2.3 => 5.2.3\r\n    apexcharts: ^3.32.0 => 3.32.0\r\n    aws-sdk: ^2.1044.0 => 2.1044.0\r\n    change-case: ^4.1.2 => 4.1.2\r\n    date-fns: ^2.24.0 => 2.24.0\r\n    dom-to-image: ^2.6.0 => 2.6.0\r\n    eslint: ^7.32.0 => 7.32.0\r\n    eslint-config-airbnb: ^18.2.1 => 18.2.1\r\n    eslint-config-prettier: ^8.3.0 => 8.3.0\r\n    eslint-config-react-app: ^6.0.0 => 6.0.0\r\n    eslint-plugin-flowtype: ^6.0.1 => 6.0.1 (5.10.0)\r\n    eslint-plugin-import: ^2.24.2 => 2.24.2\r\n    eslint-plugin-jsx-a11y: ^6.4.1 => 6.4.1\r\n    eslint-plugin-prettier: ^4.0.0 => 4.0.0\r\n    eslint-plugin-react: ^7.25.2 => 7.25.2\r\n    eslint-plugin-react-hooks: ^4.2.0 => 4.2.0\r\n    faker: ^5.5.3 => 5.5.3\r\n    formik: ^2.2.9 => 2.2.9\r\n    framer-motion: ^4.1.17 => 4.1.17\r\n    hermes-inspector-msggen:  1.0.0\r\n    history: ^5.0.1 => 5.0.1\r\n    html-to-image: ^1.9.0 => 1.9.0\r\n    html2canvas: ^1.3.3 => 1.3.3\r\n    imagediff:  1.0.8\r\n    lodash: ^4.17.21 => 4.17.21\r\n    numeral: ^2.0.6 => 2.0.6\r\n    prettier: ^2.4.1 => 2.4.1\r\n    prop-types: ^15.7.2 => 15.7.2\r\n    react: ^17.0.2 => 17.0.2\r\n    react-apexcharts: ^1.3.9 => 1.3.9\r\n    react-dom: ^17.0.2 => 17.0.2\r\n    react-helmet-async: ^1.1.2 => 1.1.2\r\n    react-icons: ^4.3.1 => 4.3.1\r\n    react-idle-timer: ^4.6.4 => 4.6.4\r\n    react-native: ^0.66.4 => 0.66.4\r\n    react-router-dom: ^6.0.0-beta.4 => 6.0.0-beta.4\r\n    react-scripts: ^4.0.3 => 4.0.3\r\n    recharts: ^2.1.6 => 2.1.6\r\n    simplebar: ^5.3.5 => 5.3.5\r\n    simplebar-react: ^2.3.5 => 2.3.5\r\n    web-vitals: ^2.1.0 => 2.1.0\r\n    yup: ^0.32.9 => 0.32.9\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    npm: 8.1.3\r\n    yarn: 1.22.17\r\n\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI am attempting to create MFA for users. My new user, forced password change, log in, all work. I created a new userpool with MFA required, TOTP only. I get my temporary passcode, log in with it, and am successfully directed to my force change password where the following code should execute\r\n\r\n```\r\nuser.authenticateUser(authDetails, {\r\n        onFailure: (err) => {\r\n          console.error('onFailure:', err);\r\n        },\r\n        onSuccess: (result) => {\r\n          console.log(result);\r\n        },\r\n        newPasswordRequired: (userAttributes, requiredAttributes) => {\r\n          console.log(userAttributes);\r\n          console.log(requiredAttributes);\r\n          delete userAttributes.email_verified;\r\n          delete userAttributes.phone_number_verified;\r\n          console.log(userAttributes);\r\n          user.completeNewPasswordChallenge(passwordFirst, userAttributes, {\r\n            onFailure: (err) => {\r\n              console.error('onFailure:', err);\r\n            },\r\n            onSuccess: (result) => {\r\n              console.log('call result: ', result);\r\n              navigate('dashboard');\r\n            },\r\n            mfaSetup: (result) => {\r\n              console.log(result);\r\n              console.log('setup mfa');\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n```\r\n\r\nI get this response from my logs before it sends to Cognito\r\n```\r\nObject { email_verified: \"true\", phone_number_verified: \"true\", phone_number: \"+1111111111\", email: \"blorp@blorp.com\" }\r\nObject { phone_number: \"+1111111111\", email: \"blorp@blorp.com\" }\r\n```\r\n\r\nAnd then I get this error every time: \r\n\r\n```\r\nNotAuthorizedException: Cannot modify an already provided phone number when SMS MFA is enabled.\r\n```\r\n\r\nI have not enabled SMS MFA in my userpool, I have not modified the phone number.\n\n### Expected behavior\n\nExpected to create a new password and then be redirected to the MFA set up.\n\n### Reproduction steps\n\nHere is my authentication script:\r\n\r\n```\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { AuthenticationDetails, CognitoUser } from 'amazon-cognito-identity-js';\r\nimport { Typography } from '@mui/material';\r\nimport UserPool from '../UserPool';\r\nimport GetLoggedInStatus from './GetLoggedInStatus';\r\n\r\nexport default () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [pin, setPin] = useState('');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [newPasscodeRequired, setNewPasscodeRequired] = useState(false);\r\n  const [forgotPassword, setForgotPassword] = useState(false);\r\n  const [passwordFirst, setPasswordFirst] = useState('');\r\n  const [passwordSecond, setPasswordSecond] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (GetLoggedInStatus() === true) {\r\n      if (location.pathname === '/') {\r\n        console.log(location);\r\n        navigate('dashboard');\r\n      }\r\n    } else {\r\n      navigate('/');\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const authDetails = new AuthenticationDetails({\r\n      Username: email,\r\n      Password: password\r\n    });\r\n\r\n    const user = new CognitoUser({\r\n      Username: email,\r\n      Pool: UserPool\r\n    });\r\n\r\n    user.authenticateUser(authDetails, {\r\n      onSuccess: (data) => {\r\n        console.log('onSuccess:', data);\r\n        if (location.pathname === '/') {\r\n          navigate('dashboard');\r\n        }\r\n      },\r\n      onFailure: (err) => {\r\n        console.error('onFailure:', err);\r\n      },\r\n      newPasswordRequired: (data) => {\r\n        console.log(data);\r\n        setNewPasscodeRequired(true);\r\n      },\r\n      mfaSetup: (result) => {\r\n        console.log(result);\r\n        console.log('setup mfa');\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSubmitPasscode = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (passwordFirst !== passwordSecond) {\r\n      alert('the two inputs provided are not the same');\r\n    } else {\r\n      const user = new CognitoUser({\r\n        Username: email,\r\n        Pool: UserPool\r\n      });\r\n\r\n      const authDetails = new AuthenticationDetails({\r\n        Username: email,\r\n        Password: password\r\n      });\r\n\r\n      user.authenticateUser(authDetails, {\r\n        onFailure: (err) => {\r\n          console.error('onFailure:', err);\r\n        },\r\n        onSuccess: (result) => {\r\n          console.log(result);\r\n        },\r\n        newPasswordRequired: (userAttributes, requiredAttributes) => {\r\n          console.log(userAttributes);\r\n          console.log(requiredAttributes);\r\n          delete userAttributes.email_verified;\r\n          delete userAttributes.phone_number_verified;\r\n          console.log(userAttributes);\r\n          user.completeNewPasswordChallenge(passwordFirst, userAttributes, {\r\n            onFailure: (err) => {\r\n              console.error('onFailure:', err);\r\n            },\r\n            onSuccess: (result) => {\r\n              console.log('call result: ', result);\r\n              navigate('dashboard');\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const sendVerificationPin = (event) => {\r\n    event.preventDefault();\r\n    const user = new CognitoUser({\r\n      Username: email,\r\n      Pool: UserPool\r\n    });\r\n\r\n    user.forgotPassword({\r\n      onSuccess: (result) => {\r\n        console.log('call result: ', result);\r\n      },\r\n      onFailure: (err) => {\r\n        alert(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onResetPassword = (event) => {\r\n    event.preventDefault();\r\n\r\n    console.log('in reset');\r\n\r\n    const user = new CognitoUser({\r\n      Username: email,\r\n      Pool: UserPool\r\n    });\r\n\r\n    console.log('user made');\r\n\r\n    if (passwordFirst !== passwordSecond) {\r\n      alert('the two inputs provided are not the same');\r\n    } else {\r\n      console.log('inputs are the same');\r\n      user.confirmPassword(pin, passwordSecond, {\r\n        onSuccess() {\r\n          console.log('Password confirmed!');\r\n          window.location.reload(true);\r\n        },\r\n        onFailure(err) {\r\n          console.log('Password not confirmed!');\r\n          console.log(err);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!newPasscodeRequired && !forgotPassword && (\r\n        <div>\r\n          <form onSubmit={onSubmit}>\r\n            <input type=\"text\" required value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Login</button>\r\n          </form>\r\n          <button onClick={(e) => setForgotPassword(true)}>\r\n            <Typography sx={{ paddingX: 5 }}>Forgot password?</Typography>\r\n          </button>\r\n        </div>\r\n      )}\r\n      {newPasscodeRequired && (\r\n        <div>\r\n          <form onSubmit={onSubmitPasscode}>\r\n            <Typography>New Password</Typography>\r\n            <input type=\"text\" required onChange={(e) => setPasswordFirst(e.target.value)} />\r\n            <Typography>New Password Again</Typography>\r\n            <input type=\"text\" required onChange={(e) => setPasswordSecond(e.target.value)} />\r\n            <Typography>New Password Requirements</Typography>\r\n            <Typography>\r\n              At least 8 characters long, requiring upper and lower case letters, numbers, and\r\n              special characters\r\n            </Typography>\r\n            <button type=\"submit\">Submit new passcode</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n      {forgotPassword && !newPasscodeRequired && (\r\n        <div>\r\n          <form onSubmit={sendVerificationPin}>\r\n            <Typography>Please input the email for the account</Typography>\r\n            <input type=\"text\" required onChange={(e) => setEmail(e.target.value)} />\r\n            <button type=\"submit\">Send verification pin</button>\r\n          </form>\r\n          <form onSubmit={onResetPassword}>\r\n            <Typography>Input the verification pin sent to your email below</Typography>\r\n            <input type=\"text\" required onChange={(e) => setPin(e.target.value)} />\r\n            <Typography>New Password</Typography>\r\n            <input type=\"text\" required onChange={(e) => setPasswordFirst(e.target.value)} />\r\n            <Typography>New Password Again</Typography>\r\n            <input type=\"text\" required onChange={(e) => setPasswordSecond(e.target.value)} />\r\n            <Typography>New Password Requirements</Typography>\r\n            <Typography>\r\n              At least 8 characters long, requiring upper and lower case letters, numbers, and\r\n              special characters\r\n            </Typography>\r\n            <button type=\"submit\">Reset Password</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n```\r\n\r\nwhere my UserPool import is \r\n\r\n```\r\nimport { CognitoUserPool } from 'amazon-cognito-identity-js';\r\n\r\nconst poolData = {\r\n  UserPoolId: 'us-yeet-5'\r\n  ClientId: 'ImAnID!'\r\n};\r\n\r\nexport default new CognitoUserPool(poolData);\r\n```\r\n\r\nand get logged in status (not that it should be needed) is \r\n```\r\nimport UserPool from '../UserPool';\r\n\r\nfunction GetLoggedInStatus() {\r\n  let prom = false;\r\n  new Promise((resolve, reject) => {\r\n    const user = UserPool.getCurrentUser();\r\n    console.log('in promise');\r\n    if (user) {\r\n      console.log('user exists');\r\n      user.getSession((err, session) => {\r\n        if (err) {\r\n          console.log('user does not exist');\r\n          prom = false;\r\n          reject();\r\n        } else {\r\n          resolve(session);\r\n          console.log('user exists');\r\n          prom = true;\r\n        }\r\n      });\r\n    } else {\r\n      console.log(user);\r\n      reject(Error('no user'));\r\n      // prom = false;\r\n    }\r\n  })\r\n    .then(() => true)\r\n    .catch((e) => {\r\n      console.log(e);\r\n      return false;\r\n    });\r\n  return prom;\r\n}\r\n\r\nexport default GetLoggedInStatus;\r\n```\r\n\r\nAnd yes, I know that getSession does GetLoggedInStatus, but I built this before I knew how to use it haha.\r\nEverything up to onSubmitPasscode runs smoothly. Once I hit that, I input my new passcode twice as indicated, and I get the error onFailure: NotAuthorizedException: Cannot modify an already provided phone number when SMS MFA is enabled.\r\n\r\nI have no idea why this is appearing. I am clearly not modifying the phone number. I also tried to not delete the verified phone number status which (as expected) simply told me I made an invalid call since I did not remove both email verified and phone number verified.\n\n### Code Snippet\n\n```javascript\r\nSee above\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9438/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9435",
    "id": 1095267659,
    "node_id": "I_kwDOBkswNc5BSHVL",
    "number": 9435,
    "title": "Cookies persisting after logout: `deviceKey`, `deviceGroupKey`, `randomPasswordKey`",
    "user": {
      "login": "kernowal",
      "id": 30602325,
      "node_id": "MDQ6VXNlcjMwNjAyMzI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/30602325?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kernowal",
      "html_url": "https://github.com/kernowal",
      "followers_url": "https://api.github.com/users/kernowal/followers",
      "following_url": "https://api.github.com/users/kernowal/following{/other_user}",
      "gists_url": "https://api.github.com/users/kernowal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kernowal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kernowal/subscriptions",
      "organizations_url": "https://api.github.com/users/kernowal/orgs",
      "repos_url": "https://api.github.com/users/kernowal/repos",
      "events_url": "https://api.github.com/users/kernowal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kernowal/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2022-01-06T12:19:14Z",
    "updated_at": "2022-02-15T23:33:43Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n- [x] I have searched for duplicate or closed issues and discussions.\r\n- [x] I have read the guide for submitting bug reports.\r\n- [x] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuth, Storage\r\n\r\n### Amplify Categories\r\n\r\nauth, storage\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n System:\r\n    OS: macOS 11.5.2\r\n    CPU: (8) x64 Intel(R) Core(TM) i5-1038NG7 CPU @ 2.00GHz\r\n    Memory: 1.20 GB / 16.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 11.8.0 - ~/.nvm/versions/node/v11.8.0/bin/node\r\n    npm: 6.5.0 - ~/.nvm/versions/node/v11.8.0/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0\r\n    Safari: 14.1.2\r\n  npmPackages:\r\n    @hookform/resolvers: 1.3.0 => 1.3.0 \r\n    @material-ui/core: 4.11.0 => 4.11.0 \r\n    @material-ui/icons: 4.9.1 => 4.9.1 \r\n    @material-ui/lab: 4.0.0-alpha.56 => 4.0.0-alpha.56 \r\n    @sentry/react: ^6.0.4 => 6.0.4 \r\n    @stripe/react-stripe-js: 1.1.2 => 1.1.2 \r\n    @stripe/stripe-js: 1.11.0 => 1.11.0 \r\n    @testing-library/jest-dom: 4.2.4 => 4.2.4 \r\n    @testing-library/react: 9.5.0 => 9.5.0 \r\n    @testing-library/user-event: 7.2.1 => 7.2.1 \r\n    @types/html2canvas: 0.0.36 => 0.0.36 \r\n    @types/jest: 24.9.1 => 24.9.1 \r\n    @types/node: 12.12.67 => 12.12.67 (14.14.7)\r\n    @types/react: 16.9.52 => 16.9.52 (16.9.56)\r\n    @types/react-dom: 16.9.8 => 16.9.8 \r\n    @types/react-pdf: 5.0.1 => 5.0.1 \r\n    @types/react-redux: 7.1.9 => 7.1.9 \r\n    @types/react-router-dom: 5.1.6 => 5.1.6 \r\n    @types/react-router-hash-link: 1.2.1 => 1.2.1 \r\n    @types/recharts: 1.8.16 => 1.8.16 \r\n    @types/uuid: ^8.3.3 => 8.3.3 \r\n    aws-amplify: ^4.3.11 => 4.3.11 \r\n    axios: 0.21.0 => 0.21.0 (0.21.4)\r\n    clsx: 1.1.1 => 1.1.1 \r\n    date-fns: 2.16.1 => 2.16.1 \r\n    eslint-plugin-import: 2.22.1 => 2.22.1 (2.20.1)\r\n    eslint-plugin-react-hooks: 4.1.2 => 4.1.2 (1.7.0)\r\n    html2canvas: 1.0.0-rc.5 => 1.0.0-rc.5 \r\n    husky: 4.3.0 => 4.3.0 \r\n    i18next: 19.8.2 => 19.8.2 \r\n    jest-canvas-mock: 2.3.0 => 2.3.0 \r\n    jspdf: 2.1.1 => 2.1.1 (2.1.0)\r\n    lint-staged: 10.4.0 => 10.4.0 \r\n    lottie-web: 5.7.3 => 5.7.3 \r\n    material-table: 1.69.1 => 1.69.1 \r\n    memo-parser:  0.2.1 \r\n    mutationobserver-shim: 0.3.7 => 0.3.7 \r\n    nanoid: 3.1.16 => 3.1.16 \r\n    prettier: 2.1.2 => 2.1.2 \r\n    rc-field-form: 1.15.1 => 1.15.1 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-dom: 16.13.1 => 16.13.1 \r\n    react-ga: ^3.3.0 => 3.3.0 \r\n    react-hook-form: 6.15.1 => 6.15.1 \r\n    react-i18next: 11.7.3 => 11.7.3 \r\n    react-markdown: 5.0.3 => 5.0.3 \r\n    react-pdf: 5.2.0 => 5.2.0 \r\n    react-redux: 7.2.2 => 7.2.2 \r\n    react-router-dom: 5.2.0 => 5.2.0 \r\n    react-router-hash-link: 2.3.1 => 2.3.1 \r\n    react-scripts: 3.4.3 => 3.4.3 \r\n    react-spring: 8.0.27 => 8.0.27 \r\n    recharts: 1.8.5 => 1.8.5 \r\n    redux: 4.0.5 => 4.0.5 \r\n    redux-saga: 1.1.3 => 1.1.3 \r\n    redux-saga-test-plan: 4.0.1 => 4.0.1 \r\n    redux-saga/effects:  undefined ()\r\n    typescript: 3.9.7 => 3.9.7 \r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2)\r\n    yup: 0.32.8 => 0.32.8 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 4.32.1\r\n    expo-cli: 3.21.0\r\n    npm: 6.5.0\r\n\r\n```\r\n\r\n</details>\r\n\r\n### Issue\r\n\r\nI am sharing authentication across subdomains by using Amplify's built-in cookieStorage. When logging in and out with different Users, the `deviceKey`, `deviceGroupKey`, `randomPasswordKey` cookies are persisting. This is making the RequestHeader increase in size with time, resulting in a `RequestHeaderSectionTooLarge` error, which prevents the page from loading until the cookies are removed manually.\r\n\r\n### Cause\r\n\r\nWhen using cookieStorage, Amplify stores the `accessToken`, `refreshToken` and `idToken`, which are all sizeable and pose a potential security risk as outlined in #3436. The size of these, coupled with the persisting cookies for multiple Users is causing the request header to exceed the maximum allwed size.\r\n\r\nOther solutions to this security issue involve using local Storage to store the tokens, but as I understand this will not allow the authentication to be shared between subDomains.\r\n\r\n**Why are these cookies persisting after logout?**\r\n\r\n### Attempts to resolve\r\n\r\nI have attempted to programatically remove all cookies on logout, but this causes the following browser warning:\r\n\r\n`Some cookies are misusing the recommended \"SameSite\" attribute`\r\n`Cookie \"CognitoIdentityServiceProvider.xxxx.user.deviceKey\" will be soon rejected because it has the \"SameSite\" attribute set to \"None\" or an invalid value, without the \"secure\" attribute`\r\n\r\nAs you can see from the config below, `SameSite` is set to `\"lax\"` and `secure` is set to `True`, as long as we are not running on `localhost`. \r\n\r\nNB: When testing the programmatic removal of the cookies on `localhost` there are no issues, it is only failing to remove the cookies once deployed. However the cookies persist locally without programmatically removing them.\r\n\r\n### Configuration\r\n\r\nAmplify config:\r\n```\r\nAmplify.configure({\r\n  ...\r\n  cookieStorage: {\r\n    domain: getEnv().DOMAIN,\r\n    path: \"/\",\r\n    expires: 30,\r\n    sameSite: \"lax\",\r\n    secure: getEnv().DOMAIN !== \"localhost\",\r\n  },\r\n  ...\r\n});\r\n```\r\n\r\n### Code snippet\r\n\r\n**deleteCookies** function to programmatically remove cookies (called on login and logout):\r\n```\r\nconst deleteCookies = () => {\r\n  var cookies = document.cookie.split(\";\");\r\n  for (var i = 0; i < cookies.length; i++) {\r\n    var cookie = cookies[i];\r\n    var eqPos = cookie.indexOf(\"=\");\r\n    var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\r\n    document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\r\n  }\r\n};\r\n```\r\n\r\n### Expected behavior\r\n\r\nBe able to log in and out endless times with different Users without exceeding the RequestHeader size limit\r\n\r\n### Reproduction steps\r\n\r\n1. Run webapp\r\n2. Login with User A\r\n3. Logout\r\n4. Login with User B\r\n5. Logout\r\n6. Login with User C\r\n7. Logout\r\n8. Login with User D\r\n9. Logout\r\n10. Login with User E\r\n11. Page crashes\r\n\r\n### Manual configuration\r\n\r\n```\r\nAmplify.configure({\r\n  aws_project_region: \"eu-west-2\",\r\n  aws_cognito_identity_pool_id: \"eu-west-2:xxxx\",\r\n  aws_cognito_region: \"eu-west-2\",\r\n  aws_user_pools_id: \"eu-west-2:xxxx\",\r\n  aws_user_pools_web_client_id: \"xxxx\",\r\n  cookieStorage: {\r\n    domain: getEnv().DOMAIN,\r\n    path: \"/\",\r\n    expires: 30,\r\n    sameSite: \"lax\",\r\n    secure: getEnv().DOMAIN !== \"localhost\",\r\n  },\r\n  Auth: {\r\n    identityPoolId: \"eu-west-2:xxxx\",\r\n    region: \"eu-west-2\",\r\n  },\r\n});\r\n```\r\n\r\n### Additional information and screenshots\r\n\r\n![image](https://user-images.githubusercontent.com/30602325/148379502-bbe10c5a-0960-4d76-b6f8-75d0cd9de244.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9435/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9434",
    "id": 1094657103,
    "node_id": "PR_kwDOBkswNc4wk2vZ",
    "number": 9434,
    "title": "fix: Import React/RCTUtils to address build error with RCTMakeError",
    "user": {
      "login": "blainekasten",
      "id": 2916023,
      "node_id": "MDQ6VXNlcjI5MTYwMjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2916023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blainekasten",
      "html_url": "https://github.com/blainekasten",
      "followers_url": "https://api.github.com/users/blainekasten/followers",
      "following_url": "https://api.github.com/users/blainekasten/following{/other_user}",
      "gists_url": "https://api.github.com/users/blainekasten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blainekasten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blainekasten/subscriptions",
      "organizations_url": "https://api.github.com/users/blainekasten/orgs",
      "repos_url": "https://api.github.com/users/blainekasten/repos",
      "events_url": "https://api.github.com/users/blainekasten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blainekasten/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3123921129,
        "node_id": "MDU6TGFiZWwzMTIzOTIxMTI5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/first-time-contributor",
        "name": "first-time-contributor",
        "color": "7a828c",
        "default": false,
        "description": "The contribution is the first for this user in the repo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2022-01-05T19:01:25Z",
    "updated_at": "2022-01-28T18:49:48Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9434",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9434",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9434.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9434.patch",
      "merged_at": null
    },
    "body": "I tried including this library with the latest version of Expo and when building the ios app, xcode would crash on RCTMakeError not being imported and by utilizing `patch-package` to add this import it fixed the problem and allowed me to build.",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9434/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9433",
    "id": 1094571504,
    "node_id": "PR_kwDOBkswNc4wkk68",
    "number": 9433,
    "title": "DRAFT: Webpack upgrade poc",
    "user": {
      "login": "katiegoines",
      "id": 30757403,
      "node_id": "MDQ6VXNlcjMwNzU3NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/30757403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/katiegoines",
      "html_url": "https://github.com/katiegoines",
      "followers_url": "https://api.github.com/users/katiegoines/followers",
      "following_url": "https://api.github.com/users/katiegoines/following{/other_user}",
      "gists_url": "https://api.github.com/users/katiegoines/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/katiegoines/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/katiegoines/subscriptions",
      "organizations_url": "https://api.github.com/users/katiegoines/orgs",
      "repos_url": "https://api.github.com/users/katiegoines/repos",
      "events_url": "https://api.github.com/users/katiegoines/events{/privacy}",
      "received_events_url": "https://api.github.com/users/katiegoines/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-05T17:15:00Z",
    "updated_at": "2022-01-05T17:30:14Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9433",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9433",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9433.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9433.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ ] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9433/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9432",
    "id": 1094542972,
    "node_id": "PR_kwDOBkswNc4wke-Y",
    "number": 9432,
    "title": "feat(datastore): custom pk support",
    "user": {
      "login": "iartemiev",
      "id": 29709626,
      "node_id": "MDQ6VXNlcjI5NzA5NjI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/29709626?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iartemiev",
      "html_url": "https://github.com/iartemiev",
      "followers_url": "https://api.github.com/users/iartemiev/followers",
      "following_url": "https://api.github.com/users/iartemiev/following{/other_user}",
      "gists_url": "https://api.github.com/users/iartemiev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iartemiev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iartemiev/subscriptions",
      "organizations_url": "https://api.github.com/users/iartemiev/orgs",
      "repos_url": "https://api.github.com/users/iartemiev/repos",
      "events_url": "https://api.github.com/users/iartemiev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iartemiev/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-05T16:41:58Z",
    "updated_at": "2022-02-16T19:00:07Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9432",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9432",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9432.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9432.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ ] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9432/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9430",
    "id": 1093956490,
    "node_id": "I_kwDOBkswNc5BNHOK",
    "number": 9430,
    "title": "Storage library does not work with access point node",
    "user": {
      "login": "lyzhang27",
      "id": 32373117,
      "node_id": "MDQ6VXNlcjMyMzczMTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/32373117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lyzhang27",
      "html_url": "https://github.com/lyzhang27",
      "followers_url": "https://api.github.com/users/lyzhang27/followers",
      "following_url": "https://api.github.com/users/lyzhang27/following{/other_user}",
      "gists_url": "https://api.github.com/users/lyzhang27/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lyzhang27/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lyzhang27/subscriptions",
      "organizations_url": "https://api.github.com/users/lyzhang27/orgs",
      "repos_url": "https://api.github.com/users/lyzhang27/repos",
      "events_url": "https://api.github.com/users/lyzhang27/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lyzhang27/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2022-01-05T04:00:58Z",
    "updated_at": "2022-01-07T17:51:40Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nStorage\n\n### Amplify Categories\n\nstorage\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 225.28 MB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.4.2 - /usr/local/bin/node\r\n    Yarn: 1.22.15 - /usr/local/bin/yarn\r\n    npm: 8.0.0 - /usr/local/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 70.0.1\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @aws-amplify/ui-react: ^2.1.6 => 2.1.6 \r\n    @aws-amplify/ui-react-internal:  undefined ()\r\n    @aws-amplify/ui-react-legacy:  undefined ()\r\n    @aws-sdk/client-s3: ^3.45.0 => 3.45.0 (3.6.1)\r\n    @testing-library/jest-dom: ^5.11.4 => 5.16.1 \r\n    @testing-library/react: ^11.1.0 => 11.2.7 \r\n    @testing-library/user-event: ^12.1.10 => 12.8.3 \r\n    aws-amplify: ^4.3.6 => 4.3.10 \r\n    history: ^5.1.0 => 5.1.0 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-bootstrap: ^2.0.3 => 2.0.3 \r\n    react-bootstrap/AbstractModalHeader:  undefined ()\r\n    react-bootstrap/Accordion:  undefined ()\r\n    react-bootstrap/AccordionBody:  undefined ()\r\n    react-bootstrap/AccordionButton:  undefined ()\r\n    react-bootstrap/AccordionCollapse:  undefined ()\r\n    react-bootstrap/AccordionContext:  undefined ()\r\n    react-bootstrap/AccordionHeader:  undefined ()\r\n    react-bootstrap/AccordionItem:  undefined ()\r\n    react-bootstrap/AccordionItemContext:  undefined ()\r\n    react-bootstrap/Alert:  undefined ()\r\n    react-bootstrap/Anchor:  undefined ()\r\n    react-bootstrap/Badge:  undefined ()\r\n    react-bootstrap/BootstrapModalManager:  undefined ()\r\n    react-bootstrap/Breadcrumb:  undefined ()\r\n    react-bootstrap/BreadcrumbItem:  undefined ()\r\n    react-bootstrap/Button:  undefined ()\r\n    react-bootstrap/ButtonGroup:  undefined ()\r\n    react-bootstrap/ButtonToolbar:  undefined ()\r\n    react-bootstrap/Card:  undefined ()\r\n    react-bootstrap/CardGroup:  undefined ()\r\n    react-bootstrap/CardHeader:  undefined ()\r\n    react-bootstrap/CardHeaderContext:  undefined ()\r\n    react-bootstrap/CardImg:  undefined ()\r\n    react-bootstrap/Carousel:  undefined ()\r\n    react-bootstrap/CarouselCaption:  undefined ()\r\n    react-bootstrap/CarouselItem:  undefined ()\r\n    react-bootstrap/CloseButton:  undefined ()\r\n    react-bootstrap/Col:  undefined ()\r\n    react-bootstrap/Collapse:  undefined ()\r\n    react-bootstrap/Container:  undefined ()\r\n    react-bootstrap/Dropdown:  undefined ()\r\n    react-bootstrap/DropdownButton:  undefined ()\r\n    react-bootstrap/DropdownContext:  undefined ()\r\n    react-bootstrap/DropdownItem:  undefined ()\r\n    react-bootstrap/DropdownMenu:  undefined ()\r\n    react-bootstrap/DropdownToggle:  undefined ()\r\n    react-bootstrap/ElementChildren:  undefined ()\r\n    react-bootstrap/Fade:  undefined ()\r\n    react-bootstrap/Feedback:  undefined ()\r\n    react-bootstrap/Figure:  undefined ()\r\n    react-bootstrap/FigureCaption:  undefined ()\r\n    react-bootstrap/FigureImage:  undefined ()\r\n    react-bootstrap/FloatingLabel:  undefined ()\r\n    react-bootstrap/Form:  undefined ()\r\n    react-bootstrap/FormCheck:  undefined ()\r\n    react-bootstrap/FormCheckInput:  undefined ()\r\n    react-bootstrap/FormCheckLabel:  undefined ()\r\n    react-bootstrap/FormContext:  undefined ()\r\n    react-bootstrap/FormControl:  undefined ()\r\n    react-bootstrap/FormFloating:  undefined ()\r\n    react-bootstrap/FormGroup:  undefined ()\r\n    react-bootstrap/FormLabel:  undefined ()\r\n    react-bootstrap/FormRange:  undefined ()\r\n    react-bootstrap/FormSelect:  undefined ()\r\n    react-bootstrap/FormText:  undefined ()\r\n    react-bootstrap/Image:  undefined ()\r\n    react-bootstrap/InputGroup:  undefined ()\r\n    react-bootstrap/InputGroupContext:  undefined ()\r\n    react-bootstrap/ListGroup:  undefined ()\r\n    react-bootstrap/ListGroupItem:  undefined ()\r\n    react-bootstrap/Modal:  undefined ()\r\n    react-bootstrap/ModalBody:  undefined ()\r\n    react-bootstrap/ModalContext:  undefined ()\r\n    react-bootstrap/ModalDialog:  undefined ()\r\n    react-bootstrap/ModalFooter:  undefined ()\r\n    react-bootstrap/ModalHeader:  undefined ()\r\n    react-bootstrap/ModalTitle:  undefined ()\r\n    react-bootstrap/Nav:  undefined ()\r\n    react-bootstrap/NavContext:  undefined ()\r\n    react-bootstrap/NavDropdown:  undefined ()\r\n    react-bootstrap/NavItem:  undefined ()\r\n    react-bootstrap/NavLink:  undefined ()\r\n    react-bootstrap/Navbar:  undefined ()\r\n    react-bootstrap/NavbarBrand:  undefined ()\r\n    react-bootstrap/NavbarCollapse:  undefined ()\r\n    react-bootstrap/NavbarContext:  undefined ()\r\n    react-bootstrap/NavbarOffcanvas:  undefined ()\r\n    react-bootstrap/NavbarToggle:  undefined ()\r\n    react-bootstrap/Offcanvas:  undefined ()\r\n    react-bootstrap/OffcanvasBody:  undefined ()\r\n    react-bootstrap/OffcanvasHeader:  undefined ()\r\n    react-bootstrap/OffcanvasTitle:  undefined ()\r\n    react-bootstrap/OffcanvasToggling:  undefined ()\r\n    react-bootstrap/Overlay:  undefined ()\r\n    react-bootstrap/OverlayTrigger:  undefined ()\r\n    react-bootstrap/PageItem:  undefined ()\r\n    react-bootstrap/Pagination:  undefined ()\r\n    react-bootstrap/Placeholder:  undefined ()\r\n    react-bootstrap/PlaceholderButton:  undefined ()\r\n    react-bootstrap/Popover:  undefined ()\r\n    react-bootstrap/PopoverBody:  undefined ()\r\n    react-bootstrap/PopoverHeader:  undefined ()\r\n    react-bootstrap/ProgressBar:  undefined ()\r\n    react-bootstrap/Ratio:  undefined ()\r\n    react-bootstrap/Row:  undefined ()\r\n    react-bootstrap/SSRProvider:  undefined ()\r\n    react-bootstrap/Spinner:  undefined ()\r\n    react-bootstrap/SplitButton:  undefined ()\r\n    react-bootstrap/Stack:  undefined ()\r\n    react-bootstrap/Switch:  undefined ()\r\n    react-bootstrap/Tab:  undefined ()\r\n    react-bootstrap/TabContainer:  undefined ()\r\n    react-bootstrap/TabContent:  undefined ()\r\n    react-bootstrap/TabPane:  undefined ()\r\n    react-bootstrap/Table:  undefined ()\r\n    react-bootstrap/Tabs:  undefined ()\r\n    react-bootstrap/ThemeProvider:  undefined ()\r\n    react-bootstrap/Toast:  undefined ()\r\n    react-bootstrap/ToastBody:  undefined ()\r\n    react-bootstrap/ToastContainer:  undefined ()\r\n    react-bootstrap/ToastContext:  undefined ()\r\n    react-bootstrap/ToastFade:  undefined ()\r\n    react-bootstrap/ToastHeader:  undefined ()\r\n    react-bootstrap/ToggleButton:  undefined ()\r\n    react-bootstrap/ToggleButtonGroup:  undefined ()\r\n    react-bootstrap/Tooltip:  undefined ()\r\n    react-bootstrap/TransitionWrapper:  undefined ()\r\n    react-bootstrap/createChainedFunction:  undefined ()\r\n    react-bootstrap/createUtilityClasses:  undefined ()\r\n    react-bootstrap/createWithBsPrefix:  undefined ()\r\n    react-bootstrap/divWithClassName:  undefined ()\r\n    react-bootstrap/getTabTransitionComponent:  undefined ()\r\n    react-bootstrap/helpers:  undefined ()\r\n    react-bootstrap/safeFindDOMNode:  undefined ()\r\n    react-bootstrap/transitionEndListener:  undefined ()\r\n    react-bootstrap/triggerBrowserReflow:  undefined ()\r\n    react-bootstrap/types:  undefined ()\r\n    react-bootstrap/useOverlayOffset:  undefined ()\r\n    react-bootstrap/usePlaceholder:  undefined ()\r\n    react-bootstrap/useWrappedRefWithWarning:  undefined ()\r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-router-bootstrap: ^0.25.0 => 0.25.0 \r\n    react-router-dom: ^6.1.1 => 6.1.1 \r\n    react-scripts: 4.0.3 => 4.0.3 \r\n    reactstrap: ^9.0.1 => 9.0.1 \r\n    web-vitals: ^1.0.1 => 1.1.2 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.4\r\n    bower: 1.8.8\r\n    copyfiles: 2.0.0\r\n    dargs: 7.0.0\r\n    generator-angular: 0.16.0\r\n    generator-karma: 2.0.1\r\n    grunt-cli: 1.2.0\r\n    gulp-cli: 2.0.1\r\n    gulp: 4.0.2\r\n    imagemin-cli: 3.0.0\r\n    json-server: 0.17.0\r\n    less: 2.7.2\r\n    mocha: 6.2.0\r\n    nodemon: 2.0.13\r\n    npm: 8.0.0\r\n    react-native-cli: 2.0.1\r\n    sass: 1.38.1\r\n    serverless: 2.66.1\r\n    to: 0.2.9\r\n    update: 0.7.4\r\n    yarn: 1.22.15\r\n    yo: 3.1.1\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nStorage library does not work with access point node. I reached out to the AWS support regarding the bug and they confirmed. I can see that amplify uses s3client library 3.6.1; when I used the @aws-sdk/client-s3 v.3.45.0 I was successful in calling getObject directly using the sdk. This was the error received when I used the ampilfy storage.get with the older @aws-sdk/client-s3: \r\n\r\nbucketHostnameUtils.ts:91 Uncaught (in promise) Error: Expect 's3' or 's3-outposts' in ARN service component\n\n### Expected behavior\n\nSuccessfully make a Storage.get() call to the access point as the bucket name in the initialization of the amplify.config. \n\n### Reproduction steps\n\n1. Install \"aws-amplify\": \"^4.3.11\",\r\n2. Initialize Storage \r\n3. Call Storage.get: const result = await Storage.get(`tutorial.txt`, { download: true }\r\n\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nAmplify.configure({\r\n  Auth: {\r\n    identityPoolId: '<region>:4xxxxb-b7xxxxxxx46', //REQUIRED - Amazon Cognito Identity Pool ID\r\n    region: '<region>', // REQUIRED - Amazon Cognito Region\r\n    userPoolId: '<region>xxxxxxCxJ', //OPTIONAL - Amazon Cognito User Pool ID\r\n    userPoolWebClientId: '7mxxxxxxs5'\r\n  },\r\n  Storage: {\r\n    AWSS3: {\r\n      bucket: 'arn:aws:s3-object-lambda:us-west-2:<accountid>:accesspoint/lambda-access-point-name', //REQUIRED -  Amazon S3 bucket name\r\n      region: '<region>', //OPTIONAL -  Amazon service region\r\n    }\r\n  }\r\n});\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9430/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9419",
    "id": 1092017206,
    "node_id": "PR_kwDOBkswNc4wcUlp",
    "number": 9419,
    "title": "fix: added type declaration to associate secret code for MFA",
    "user": {
      "login": "lousybear",
      "id": 24609061,
      "node_id": "MDQ6VXNlcjI0NjA5MDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/24609061?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lousybear",
      "html_url": "https://github.com/lousybear",
      "followers_url": "https://api.github.com/users/lousybear/followers",
      "following_url": "https://api.github.com/users/lousybear/following{/other_user}",
      "gists_url": "https://api.github.com/users/lousybear/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lousybear/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lousybear/subscriptions",
      "organizations_url": "https://api.github.com/users/lousybear/orgs",
      "repos_url": "https://api.github.com/users/lousybear/repos",
      "events_url": "https://api.github.com/users/lousybear/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lousybear/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 3123921129,
        "node_id": "MDU6TGFiZWwzMTIzOTIxMTI5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/first-time-contributor",
        "name": "first-time-contributor",
        "color": "7a828c",
        "default": false,
        "description": "The contribution is the first for this user in the repo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2022-01-02T13:07:41Z",
    "updated_at": "2022-01-11T01:49:24Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9419",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9419",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9419.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9419.patch",
      "merged_at": null
    },
    "body": "required for authenticating with MFA option enabled\r\n\r\n<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n\r\n\r\n\r\n#### Description of how you validated changes\r\n\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [ ] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9419/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9418",
    "id": 1091641820,
    "node_id": "I_kwDOBkswNc5BESHc",
    "number": 9418,
    "title": "Using public s3 URL from Storage.get",
    "user": {
      "login": "Dongw1126",
      "id": 48395704,
      "node_id": "MDQ6VXNlcjQ4Mzk1NzA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/48395704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dongw1126",
      "html_url": "https://github.com/Dongw1126",
      "followers_url": "https://api.github.com/users/Dongw1126/followers",
      "following_url": "https://api.github.com/users/Dongw1126/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dongw1126/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dongw1126/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dongw1126/subscriptions",
      "organizations_url": "https://api.github.com/users/Dongw1126/orgs",
      "repos_url": "https://api.github.com/users/Dongw1126/repos",
      "events_url": "https://api.github.com/users/Dongw1126/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dongw1126/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-31T18:13:53Z",
    "updated_at": "2022-01-12T16:59:40Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\n_No response_\n\n### Is this related to a new or existing API?\n\nStorage\n\n### Is this related to another service?\n\nS3\n\n### Describe the feature you'd like to request\n\nI want to get only public object URL when I use Storage.get.\r\nCurrently, I receive only signed URL.\r\n\r\nI'm going to use S3 as an image storage that all users can write and read.\r\nHowever, because of the signed URL, the URL changes every time users refresh, so image caching doesn't work and resources are wasted.\n\n### Describe the solution you'd like\n\nI'd like to get a public object URL without signature from Storage.get.\r\nI wish amplify would provide an option for public objects.\n\n### Describe alternatives you've considered\n\nIt would be nice if the signed URL doesn't change on every refresh.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9418/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9416",
    "id": 1091365675,
    "node_id": "I_kwDOBkswNc5BDOsr",
    "number": 9416,
    "title": "AWSS3Provider - get signed url error TypeError",
    "user": {
      "login": "SolokiAbbas",
      "id": 28235643,
      "node_id": "MDQ6VXNlcjI4MjM1NjQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/28235643?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SolokiAbbas",
      "html_url": "https://github.com/SolokiAbbas",
      "followers_url": "https://api.github.com/users/SolokiAbbas/followers",
      "following_url": "https://api.github.com/users/SolokiAbbas/following{/other_user}",
      "gists_url": "https://api.github.com/users/SolokiAbbas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SolokiAbbas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SolokiAbbas/subscriptions",
      "organizations_url": "https://api.github.com/users/SolokiAbbas/orgs",
      "repos_url": "https://api.github.com/users/SolokiAbbas/repos",
      "events_url": "https://api.github.com/users/SolokiAbbas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SolokiAbbas/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-31T01:05:05Z",
    "updated_at": "2022-01-04T18:14:26Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNext.js\n\n### Amplify APIs\n\nGraphQL API\n\n### Amplify Categories\n\nstorage\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n npmPackages:\r\n    @ampproject/toolbox-optimizer:  undefined ()\r\n    @babel/core:  undefined ()\r\n    @peculiar/webcrypto:  undefined ()\r\n    @types/node: 16.11.6 => 16.11.6 (16.11.12)\r\n    @types/react: 17.0.33 => 17.0.33 (17.0.37)\r\n    @typescript-eslint/eslint-plugin: ^5.4.0 => 5.6.0\r\n    @vercel/nft:  undefined ()\r\n    @zeit/next-sass: ^1.0.1 => 1.0.1\r\n    amphtml-validator:  undefined ()\r\n    antd: 4.17.0 => 4.17.0\r\n    arg:  undefined ()\r\n    async-retry:  undefined ()\r\n    async-sema:  undefined ()\r\n    aws-amplify: ^4.3.8 => 4.3.10\r\n    aws-amplify-react: ^5.1.9 => 5.1.9\r\n    babel-packages:  undefined ()\r\n    ci-info:  undefined ()\r\n    cli-select:  undefined ()\r\n    comment-json:  undefined ()\r\n    compression:  undefined ()\r\n    conf:  undefined ()\r\n    content-type:  undefined ()\r\n    cookie:  undefined ()\r\n    cross-spawn:  undefined ()\r\n    debug:  undefined ()\r\n    devalue:  undefined ()\r\n    escape-string-regexp:  undefined ()\r\n    eslint: 7 => 7.32.0\r\n    eslint-config-next: 12.0.2 => 12.0.2\r\n    find-cache-dir:  undefined ()\r\n    find-up:  undefined ()\r\n    formdata-node:  undefined ()\r\n    fresh:  undefined ()\r\n    glob:  undefined ()\r\n    gzip-size:  undefined ()\r\n    http-proxy:  undefined ()\r\n    husky: ^4.2.1 => 4.3.8\r\n    icss-utils:  undefined ()\r\n    ignore-loader:  undefined ()\r\n    is-animated:  undefined ()\r\n    is-docker:  undefined ()\r\n    is-wsl:  undefined ()\r\n    json5:  undefined ()\r\n    jsonwebtoken:  undefined ()\r\n    lint-staged: ^12.0.3 => 12.1.2\r\n    loader-utils:  undefined ()\r\n    lodash.curry:  undefined ()\r\n    lru-cache:  undefined ()\r\n    micromatch:  undefined ()\r\n    mini-css-extract-plugin:  undefined ()\r\n    nanoid:  undefined ()\r\n    native-url:  undefined ()\r\n    neo-async:  undefined ()\r\n    next: 12.0.2 => 12.0.2\r\n    next-purgecss: ^4.0.0 => 4.0.0\r\n    next-redux-wrapper: ^7.0.5 => 7.0.5\r\n    nextjs-progressbar: ^0.0.13 => 0.0.13\r\n    node-libs-browser:  undefined ()\r\n    node-sass: ^6.0.1 => 6.0.1\r\n    ora:  undefined ()\r\n    postcss-flexbugs-fixes:  undefined ()\r\n    postcss-modules-extract-imports:  undefined ()\r\n    postcss-modules-local-by-default:  undefined ()\r\n    postcss-modules-scope:  undefined ()\r\n    postcss-modules-values:  undefined ()\r\n    postcss-preset-env:  undefined ()\r\n    postcss-safe-parser:  undefined ()\r\n    postcss-scss:  undefined ()\r\n    postcss-value-parser:  undefined ()\r\n    prettier: ^2.4.1 => 2.5.1\r\n    pretty-quick: ^3.1.2 => 3.1.2\r\n    quill-image-uploader: ^1.2.2 => 1.2.2\r\n    react: 17.0.2 => 17.0.2\r\n    react-dom: 17.0.2 => 17.0.2\r\n    react-indiana-drag-scroll: ^2.1.0 => 2.1.0\r\n    react-quill: ^1.3.5 => 1.3.5\r\n    react-redux: ^7.2.6 => 7.2.6\r\n    react-server-dom-webpack:  undefined ()\r\n    redux: ^4.1.2 => 4.1.2\r\n    redux-devtools-extension: ^2.13.9 => 2.13.9\r\n    redux-thunk: ^2.4.1 => 2.4.1\r\n    resolve-url-loader:  undefined ()\r\n    sass: ^1.43.4 => 1.44.0\r\n    sass-loader:  undefined ()\r\n    schema-utils:  undefined ()\r\n    semver:  undefined ()\r\n    send:  undefined ()\r\n    source-map:  undefined ()\r\n    string-hash:  undefined ()\r\n    strip-ansi:  undefined ()\r\n    swr: ^1.0.1 => 1.1.0\r\n    swr-immutable:  0.0.1\r\n    swr-infinite:  0.0.1\r\n    terser:  undefined ()\r\n    text-table:  undefined ()\r\n    typescript: 4.4.4 => 4.4.4\r\n    ua-parser-js:  undefined ()\r\n    unistore:  undefined ()\r\n    uuid:  undefined ()\r\n    web-streams-polyfill:  undefined ()\r\n    web-vitals:  undefined ()\r\n    webpack:  undefined ()\r\n    webpack-sources:  undefined ()\r\n    ws:  undefined ()\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.5\r\n    parcel-bundler: 1.12.5\r\n    yarn: 1.22.17\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\n`AWSS3Provider - get signed url error TypeError: Cannot read properties of undefined (reading 'byteLength')`\r\n\r\nI am trying to do a get `const res = await Storage.get(\"test.json\");`\r\n\r\nThe rest .list or .put do not work either and give the same results.\r\n\r\nIt is giving me that error. I made sure authroles have permissions, made sure i have the latest amplify, made sure the config has correct info, yet no luck. I even removed node_modules and reinstalled. \r\n\r\n`    at Object.fromArrayBuffer (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\node_modules\\@aws-sdk\\util-buffer-from\\dist\\cjs\\index.js:6:60)\r\n    at castSourceData (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\dist\\cjs\\index.js:29:31)\r\n    at Hash.update (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\dist\\cjs\\index.js:12:26)\r\n    at hmac (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\credentialDerivation.js:60:10)\r\n    at Object.getSigningKey (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\credentialDerivation.js:32:29)\r\n    at SignatureV4.getSigningKey (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\SignatureV4.js:139:39)\r\n    at SignatureV4.presign (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\SignatureV4.js:43:106)`\r\n\n\n### Expected behavior\n\nI should just be able to get the test.json in my S3\n\n### Reproduction steps\n\n1. install next.js \r\n2. install typescript\r\n3. install aws-amplify\r\n4. add auth\r\n5. add api\r\n6. add storage\r\n7. write code to .get\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\r\n\r\n  // const res2 = await Storage.put(\"test.txt\", \"hello\");\r\n  // console.log(res2);\r\n  const res = await Storage.get(\"test.json\");\r\n  console.log(res);\r\n  return {\r\n    props: {\r\n      data: res,\r\n      params: params?.subclass as string,\r\n    },\r\n  };\r\n};\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\nat Object.fromArrayBuffer (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\node_modules\\@aws-sdk\\util-buffer-from\\dist\\cjs\\index.js:6:60)\r\n    at castSourceData (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\dist\\cjs\\index.js:29:31)\r\n    at Hash.update (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\hash-node\\dist\\cjs\\index.js:12:26)\r\n    at hmac (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\credentialDerivation.js:60:10)\r\n    at Object.getSigningKey (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\credentialDerivation.js:32:29)\r\n    at SignatureV4.getSigningKey (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\SignatureV4.js:139:39)\r\n    at SignatureV4.presign (C:\\Users\\asolo\\Desktop\\Coding\\project\\rates-web\\node_modules\\@aws-sdk\\s3-request-presigner\\node_modules\\@aws-sdk\\signature-v4\\dist\\cjs\\SignatureV4.js:43:106)\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\nconst awsmobile = {\r\n    \"aws_project_region\": \"us-east-1\",\r\n    \"aws_cognito_identity_pool_id\": \"us-east-1:xxx\",\r\n    \"aws_cognito_region\": \"us-east-1\",\r\n    \"aws_user_pools_id\": \"us-east-1_xxx\",\r\n    \"aws_user_pools_web_client_id\": \"xxx\",\r\n    \"oauth\": {},\r\n    \"aws_cognito_username_attributes\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_cognito_social_providers\": [],\r\n    \"aws_cognito_signup_attributes\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_cognito_mfa_configuration\": \"OFF\",\r\n    \"aws_cognito_mfa_types\": [\r\n        \"SMS\"\r\n    ],\r\n    \"aws_cognito_password_protection_settings\": {\r\n        \"passwordPolicyMinLength\": 8,\r\n        \"passwordPolicyCharacters\": []\r\n    },\r\n    \"aws_cognito_verification_mechanisms\": [\r\n        \"EMAIL\"\r\n    ],\r\n    \"aws_appsync_graphqlEndpoint\": \"https://xxx.appsync-api.us-east-1.amazonaws.com/graphql\",\r\n    \"aws_appsync_region\": \"us-east-1\",\r\n    \"aws_appsync_authenticationType\": \"AMAZON_COGNITO_USER_POOLS\",\r\n    \"aws_appsync_apiKey\": \"xxx\",\r\n    \"aws_user_files_s3_bucket\": \"xxx-dev\",\r\n    \"aws_user_files_s3_bucket_region\": \"us-east-1\"\r\n};\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9416/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9413",
    "id": 1090875682,
    "node_id": "I_kwDOBkswNc5BBXEi",
    "number": 9413,
    "title": "DataStore Subscriptions by Argument",
    "user": {
      "login": "thomasyim02",
      "id": 30122971,
      "node_id": "MDQ6VXNlcjMwMTIyOTcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/30122971?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thomasyim02",
      "html_url": "https://github.com/thomasyim02",
      "followers_url": "https://api.github.com/users/thomasyim02/followers",
      "following_url": "https://api.github.com/users/thomasyim02/following{/other_user}",
      "gists_url": "https://api.github.com/users/thomasyim02/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thomasyim02/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thomasyim02/subscriptions",
      "organizations_url": "https://api.github.com/users/thomasyim02/orgs",
      "repos_url": "https://api.github.com/users/thomasyim02/repos",
      "events_url": "https://api.github.com/users/thomasyim02/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thomasyim02/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-30T04:48:43Z",
    "updated_at": "2021-12-30T17:00:18Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\r\n\r\nReact Native\r\n\r\n### Is this related to a new or existing API?\r\n\r\nDataStore\r\n\r\n### Is this related to another service?\r\n\r\nAppSync\r\n\r\n### Describe the feature you'd like to request\r\n\r\nWas looking at Subscriptions by Argument used in Amplify API GraphQL \r\n([https://docs.amplify.aws/guides/api-graphql/subscriptions-by-id/q/platform/js/](https://docs.amplify.aws/guides/api-graphql/subscriptions-by-id/q/platform/js/)). \r\n\r\nDidn't find a way to do it using DataStore, and the underlying observeQuery API ([https://docs.amplify.aws/lib/datastore/real-time/q/platform/js/#observe-query-results-in-real-time](https://docs.amplify.aws/lib/datastore/real-time/q/platform/js/#observe-query-results-in-real-time)).\r\n```\r\ntype Comment @model {\r\n  id: ID!\r\n  content: String\r\n  postCommentsId: ID!\r\n}\r\n\r\ntype Subscription {\r\n  onCommentByPostId(postCommentsId: ID!): Comment\r\n    @aws_subscribe(mutations: [\"createComment\"])\r\n}\r\n```\r\n```\r\nimport { API } from 'aws-amplify';\r\nimport { onCommentByPostId } from './graphql/subscriptions';\r\n\r\nAPI.graphql({\r\n  query: onCommentByPostId,\r\n  variables: {\r\n    postCommentsId: \"12345\"\r\n  }\r\n})\r\n.subscribe({\r\n  next: data => {\r\n    console.log('data: ', data)\r\n  }\r\n})\r\n```\r\n\r\n### Describe the solution you'd like\r\n\r\nI am hoping to see if developers are able to send argument (such as user_id) to the subscription so I can have fine grained auth control for GraphQL subscription as mentioned in the Amplify API GraphQL (Subscription by id guide above).\r\n\r\nand with AppSync Lambda Authorizer, I can do the following request mapping for subscription:\r\n```\r\n## [Start] Subscription Request template. **\r\n#if(${ctx.identity.resolverContext.uid} == ${context.args.uid})\r\n  $util.toJson({\r\n    \"version\": \"2018-05-29\",\r\n    \"payload\": {}\r\n  })\r\n#else\r\n  $utils.unauthorized()\r\n#end\r\n## [End] Subscription Request template. **\r\n```\r\n\r\n### Describe alternatives you've considered\r\n\r\nI do consider predicates, but it does not apply to auth scenario at subscription\r\n[https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates](https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates)\r\n\r\nI also consider using the Amplify GraphQL API (Subscription by id guide), but then I will need to build my own datastore, which cannot leverage the Amplify DataStore.\r\n\r\nI think if Amplify GraphQL API can do this, DataStore feature request should have a chance :)\r\n\r\n### Additional context\r\n\r\n_No response_\r\n\r\n### Is this something that you'd be interested in working on?\r\n\r\n- [ ]  I may be able to implement this feature request\r\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9413/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9410",
    "id": 1090072143,
    "node_id": "I_kwDOBkswNc5A-S5P",
    "number": 9410,
    "title": "amazon-cognito-identity-js  issues unnessesary prefligh(options) request",
    "user": {
      "login": "clfsoft",
      "id": 1608414,
      "node_id": "MDQ6VXNlcjE2MDg0MTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1608414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clfsoft",
      "html_url": "https://github.com/clfsoft",
      "followers_url": "https://api.github.com/users/clfsoft/followers",
      "following_url": "https://api.github.com/users/clfsoft/following{/other_user}",
      "gists_url": "https://api.github.com/users/clfsoft/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clfsoft/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clfsoft/subscriptions",
      "organizations_url": "https://api.github.com/users/clfsoft/orgs",
      "repos_url": "https://api.github.com/users/clfsoft/repos",
      "events_url": "https://api.github.com/users/clfsoft/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clfsoft/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 2354111949,
        "node_id": "MDU6TGFiZWwyMzU0MTExOTQ5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/amazon-cognito-identity-js",
        "name": "amazon-cognito-identity-js",
        "color": "d39417",
        "default": false,
        "description": "Used for issues related to this specific package within the monorepo"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-28T18:54:21Z",
    "updated_at": "2022-01-03T21:01:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n System:\r\n    OS: Windows 10 10.0.19044\r\n    CPU: (8) x64 Intel(R) Xeon(R) CPU E3-1505M v5 @ 2.80GHz\r\n    Memory: 26.85 GB / 39.85 GB\r\n  Binaries:\r\n    Node: 12.22.8 - C:\\ToolsNoSync\\Nodejs\\node.EXE\r\n    Yarn: 1.22.5 - C:\\Tools\\50.Runtime\\50.Javascript\\yarn\\bin\\yarn.CMD\r\n    npm: 6.14.15 - C:\\ToolsNoSync\\Nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.62)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @aws-amplify/ui-react: ^1.2.24 => 1.2.24\r\n    @material-ui/core: ^4.11.3 => 4.11.3\r\n    @material-ui/icons: ^4.9.1 => 4.11.2\r\n    @testing-library/jest-dom: ^5.11.10 => 5.11.10\r\n    @testing-library/react: ^11.2.5 => 11.2.5\r\n    @testing-library/user-event: ^13.0.16 => 13.0.16\r\n    aws-amplify: ^3.3.26 => 3.3.26\r\n    axios: ^0.21.1 => 0.21.1\r\n    jwt-decode: ^3.1.2 => 3.1.2\r\n    qrcode.react: ^1.0.1 => 1.0.1\r\n    react: ^17.0.2 => 17.0.2\r\n    react-app-rewired: ^2.1.6 => 2.1.8\r\n    react-dom: ^17.0.2 => 17.0.2\r\n    react-redux: ^7.2.3 => 7.2.3\r\n    react-responsive: ^8.1.1 => 8.2.0\r\n    react-router-dom: ^5.2.0 => 5.2.0\r\n    react-scripts: 4.0.3 => 4.0.3\r\n    redux: ^4.0.5 => 4.0.5\r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 4.50.2\r\n    @openapitools/openapi-generator-cli: 2.4.17\r\n    cfn-lint: 1.9.7\r\n    convert-csv-to-json: 1.3.1\r\n    node-gyp: 8.4.1\r\n    npm: 6.14.15\r\n    redoc-cli: 0.13.0\r\n    redoc: 2.0.0-rc.57\r\n    serve: 13.0.2\r\n    widdershins: 4.0.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\n\r\n chrome send every fetch request with a preflight request\r\n\r\n\n\n### Expected behavior\n\nchrome should cache options preflight \n\n### Reproduction steps\n\n1.install\r\n2.configure auth\r\n3. use the default login\r\n4. hit the login button ,there will be two options request.(USER_SRP_AUTH)\r\n\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\nhttps://github.com/aws-amplify/amplify-js/blob/6c4d4b5fc737652f88dcdfa26bdb02a1defdfa2e/packages/amazon-cognito-identity-js/src/Client.js#L84\r\n\r\nremove cache: 'no-cache', chrome will not send extra preflight request.\r\n POST request not cached by default,  we don't need the 'no-cache'\r\n```\r\n\t\tconst options = Object.assign({}, this.fetchOptions, {\r\n\t\t\theaders,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t\tcache: 'no-cache',\r\n\t\t\tbody: JSON.stringify(params),\r\n\t\t});\r\n\r\n\t\tlet response;\r\n\t\tlet responseJsonData;\r\n\r\n\t\tfetch(this.endpoint, options)\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9410/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9409",
    "id": 1089837763,
    "node_id": "I_kwDOBkswNc5A9ZrD",
    "number": 9409,
    "title": "Invalid login token. Issuer doesn't match providerName",
    "user": {
      "login": "tro9999",
      "id": 6676235,
      "node_id": "MDQ6VXNlcjY2NzYyMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6676235?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tro9999",
      "html_url": "https://github.com/tro9999",
      "followers_url": "https://api.github.com/users/tro9999/followers",
      "following_url": "https://api.github.com/users/tro9999/following{/other_user}",
      "gists_url": "https://api.github.com/users/tro9999/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tro9999/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tro9999/subscriptions",
      "organizations_url": "https://api.github.com/users/tro9999/orgs",
      "repos_url": "https://api.github.com/users/tro9999/repos",
      "events_url": "https://api.github.com/users/tro9999/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tro9999/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "ashika01",
      "id": 35131273,
      "node_id": "MDQ6VXNlcjM1MTMxMjcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35131273?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ashika01",
      "html_url": "https://github.com/ashika01",
      "followers_url": "https://api.github.com/users/ashika01/followers",
      "following_url": "https://api.github.com/users/ashika01/following{/other_user}",
      "gists_url": "https://api.github.com/users/ashika01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ashika01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ashika01/subscriptions",
      "organizations_url": "https://api.github.com/users/ashika01/orgs",
      "repos_url": "https://api.github.com/users/ashika01/repos",
      "events_url": "https://api.github.com/users/ashika01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ashika01/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "ashika01",
        "id": 35131273,
        "node_id": "MDQ6VXNlcjM1MTMxMjcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/35131273?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ashika01",
        "html_url": "https://github.com/ashika01",
        "followers_url": "https://api.github.com/users/ashika01/followers",
        "following_url": "https://api.github.com/users/ashika01/following{/other_user}",
        "gists_url": "https://api.github.com/users/ashika01/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ashika01/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ashika01/subscriptions",
        "organizations_url": "https://api.github.com/users/ashika01/orgs",
        "repos_url": "https://api.github.com/users/ashika01/repos",
        "events_url": "https://api.github.com/users/ashika01/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ashika01/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-12-28T11:48:49Z",
    "updated_at": "2022-01-17T23:00:07Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuthentication\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n System:\r\n    OS: macOS 12.0.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 511.11 MB / 16.00 GB\r\n    Shell: 3.2.57 - /bin/bash\r\n  Binaries:\r\n    Node: 14.18.2 - /usr/local/bin/node\r\n    Yarn: 1.22.17 - /usr/local/bin/yarn\r\n    npm: 6.14.15 - /usr/local/bin/npm\r\n    Watchman: 2021.11.15.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 94.0.2\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @reach/auto-id: ^0.16.0 => 0.16.0 \r\n    uuid: ^8.3.2 => 8.3.2 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 4.18.1\r\n    @storybook/cli: 6.1.14\r\n    api-spec-converter: 2.6.0\r\n    babel-eslint: 10.0.2\r\n    bower: 1.8.4\r\n    contentful-cli: 0.34.1\r\n    cordova: 6.5.0\r\n    create-react-app: 2.1.1\r\n    dotenv: 8.0.0\r\n    eslint-config-airbnb: 16.1.0\r\n    eslint-restricted-globals: 0.1.1\r\n    eslint: 6.8.0\r\n    expo-cli: 2.21.2\r\n    ganache-cli: 6.1.5\r\n    get-graphql-schema: 2.1.2\r\n    gulp-cli: 2.2.0\r\n    ionic: 4.12.0\r\n    lerna: 4.0.0\r\n    n: 4.1.0\r\n    newman: 4.5.4\r\n    npm: 6.14.15\r\n    npx: 10.2.0\r\n    react-native-cli: 2.0.1\r\n    remix-ide: 0.8.5\r\n    scrypt: 6.0.3\r\n    serverless-pseudo-parameters: 2.5.0\r\n    serverless-step-functions: 2.12.0\r\n    serverless: 1.83.3\r\n    truffle: 4.1.13\r\n    wscat: 2.2.1\r\n    yarn: 1.22.17\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nSeems this is very close to this old issue https://github.com/aws-amplify/amplify-js/issues/6462\r\n\r\nAlso the proposed fix works in my case too, but for some reason it is not approved. \r\n\r\nIf Amplify Auth config identityPoolRegion is different than userpool region, Auth.signIn() doesn't work as expected. Authentication is correct with userpool, proper tokens are returned, but Identitypool identity is unauthenticated. Browser console show request error  \"Invalid login token. Issuer doesn't match providerName\" and seems the provider name has incorrect region. Correct region should be identitypool region. \r\n\r\n### Expected behavior\r\n\r\nAuth Identitypool region should be used with cognito identity provider name\r\n\r\n### Reproduction steps\r\n\r\nSimply configure Amplify Auth with different userpool region and identitypool region. \r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9409/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9406",
    "id": 1089328264,
    "node_id": "I_kwDOBkswNc5A7dSI",
    "number": 9406,
    "title": "Bundle-size impact on react-native",
    "user": {
      "login": "ACHP",
      "id": 9294168,
      "node_id": "MDQ6VXNlcjkyOTQxNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9294168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ACHP",
      "html_url": "https://github.com/ACHP",
      "followers_url": "https://api.github.com/users/ACHP/followers",
      "following_url": "https://api.github.com/users/ACHP/following{/other_user}",
      "gists_url": "https://api.github.com/users/ACHP/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ACHP/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ACHP/subscriptions",
      "organizations_url": "https://api.github.com/users/ACHP/orgs",
      "repos_url": "https://api.github.com/users/ACHP/repos",
      "events_url": "https://api.github.com/users/ACHP/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ACHP/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 900891664,
        "node_id": "MDU6TGFiZWw5MDA4OTE2NjQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Build",
        "name": "Build",
        "color": "e99695",
        "default": false,
        "description": "Related to build issues"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-27T15:56:39Z",
    "updated_at": "2022-01-03T21:44:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAnalytics\n\n### Amplify Categories\n\nanalytics\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 11.4\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 79.50 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.2.0 - ~/.nvm/versions/node/v16.2.0/bin/node\r\n    npm: 7.13.0 - ~/.nvm/versions/node/v16.2.0/bin/npm\r\n    Watchman: 2021.06.07.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0.2\r\n    Safari: 14.1.1\r\n  npmPackages:\r\n    @aws-amplify/analytics: ^5.1.9 => 5.1.9\r\n    @aws-amplify/core: ^4.3.11 => 4.3.11\r\n    @babel/core: ^7.12.9 => 7.16.5\r\n    @babel/runtime: ^7.12.5 => 7.16.5\r\n    @callstack/repack: ^2.5.1 => 2.5.1\r\n    @react-native-async-storage/async-storage: ^1.15.14 => 1.15.14\r\n    @react-native-community/eslint-config: ^2.0.0 => 2.0.0\r\n    @react-native-community/netinfo: ^7.1.7 => 7.1.7\r\n    @rnx-kit/cli: ^0.9.58 => 0.9.58\r\n    @rnx-kit/metro-config: ^1.2.26 => 1.2.26\r\n    @rnx-kit/metro-serializer-esbuild: ^0.0.23 => 0.0.23\r\n    HelloWorld:  0.0.1\r\n    babel-jest: ^26.6.3 => 26.6.3\r\n    babel-loader: ^8.2.3 => 8.2.3\r\n    esbuild: ^0.12.29 => 0.12.29 (0.13.15)\r\n    eslint: 7.14.0 => 7.14.0\r\n    hermes-inspector-msggen:  1.0.0\r\n    jest: ^26.6.3 => 26.6.3\r\n    metro-minify-esbuild: ^0.1.0 => 0.1.0\r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2\r\n    patch-package: ^6.4.7 => 6.4.7\r\n    react: 17.0.2 => 17.0.2\r\n    react-native: 0.67.0-rc.6 => 0.67.0-rc.6 (0.66.4)\r\n    react-test-renderer: 17.0.2 => 17.0.2\r\n    terser-webpack-plugin: ^5.3.0 => 5.3.0\r\n    webpack: ^5.65.0 => 5.65.0\r\n  npmGlobalPackages:\r\n    @gdc/localiser: 1.5.0\r\n    @swc-node/core: 1.8.2\r\n    @types/node: 16.7.8\r\n    expo-cli: 4.13.0\r\n    gsts: 3.0.6\r\n    npm: 7.13.0\r\n    patch-package: 6.4.7\r\n    pod-install: 0.1.27\r\n    release: 6.3.0\r\n    source-map-explorer: 2.5.2\r\n    ts-node: 10.2.1\r\n    tsm: 2.1.2\r\n    typescript: 4.5.2\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nHi !\r\n\r\nWhen trying to reduce our ReactNative app size I noticed that *amplify-js* and *aws-sdk-v3* had a HUGE impact on the js bundle size. Even when using modular import.\r\nThese libs are 3 times bigger than react native itself ( js code only of course, but still ... )\r\n\r\nI know there are some open issue about this, mainly related to nextJS. But I create a new one because ReactNative is very different as it does not use esbuild nor webpack and AFAIK metro bundler does not implement any kind of tree-shaking.\r\n\r\nI was wondering if there was any solution to \"fix\" this ? We use aws-amplify only for the `analytics` part, and include this much code (especially the `Aws_restJson1.js` of 500ko) just to do this is kind of \"_annoying_\" :/ :) \r\n\r\nI'm not looking for a perfect easy solution here, I don't think there is a simple config line to apply to solve the problem, but more for suggestion. How would you recommand to solve this issue with this lib ?\r\n\r\nFor now I tried using `repack bundler`  instead of metro but it failed. I also tried `@rnx-kit/cli` with different configuration but it did not improve the output bundle...\r\n\n\n### Expected behavior\n\nThe library should not be that uge ... :(\n\n### Reproduction steps\n\nI've created a ReactNative project so everyone can inspect the bundle and maybe play with configuration:\r\nhttps://github.com/ACHP/aws-amplify-bundle-size-demo\r\n\r\n```\r\ngit clone https://github.com/ACHP/aws-amplify-bundle-size-demo.git\r\n```\r\n\r\ninspection is simple:\r\n\r\n```\r\nnpm ci && npm run inspect\r\n```\n\n### Code Snippet\n\n_No response_\n\n### Log output\n\n_No response_\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n![image](https://user-images.githubusercontent.com/9294168/147484843-bdcd1a7d-cbe6-4392-885d-80808fd65777.png)",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9406/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9398",
    "id": 1087660690,
    "node_id": "I_kwDOBkswNc5A1GKS",
    "number": 9398,
    "title": "withAuthenticator props not being passed to Authenticator in React Native",
    "user": {
      "login": "paulsjohnson91",
      "id": 28013436,
      "node_id": "MDQ6VXNlcjI4MDEzNDM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/28013436?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulsjohnson91",
      "html_url": "https://github.com/paulsjohnson91",
      "followers_url": "https://api.github.com/users/paulsjohnson91/followers",
      "following_url": "https://api.github.com/users/paulsjohnson91/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulsjohnson91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulsjohnson91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulsjohnson91/subscriptions",
      "organizations_url": "https://api.github.com/users/paulsjohnson91/orgs",
      "repos_url": "https://api.github.com/users/paulsjohnson91/repos",
      "events_url": "https://api.github.com/users/paulsjohnson91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulsjohnson91/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 1050826022,
        "node_id": "MDU6TGFiZWwxMDUwODI2MDIy",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/UI",
        "name": "UI",
        "color": "efed5b",
        "default": false,
        "description": "Related to UI Components"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "calebpollman",
      "id": 15002885,
      "node_id": "MDQ6VXNlcjE1MDAyODg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/calebpollman",
      "html_url": "https://github.com/calebpollman",
      "followers_url": "https://api.github.com/users/calebpollman/followers",
      "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
      "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
      "organizations_url": "https://api.github.com/users/calebpollman/orgs",
      "repos_url": "https://api.github.com/users/calebpollman/repos",
      "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/calebpollman/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "calebpollman",
        "id": 15002885,
        "node_id": "MDQ6VXNlcjE1MDAyODg1",
        "avatar_url": "https://avatars.githubusercontent.com/u/15002885?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/calebpollman",
        "html_url": "https://github.com/calebpollman",
        "followers_url": "https://api.github.com/users/calebpollman/followers",
        "following_url": "https://api.github.com/users/calebpollman/following{/other_user}",
        "gists_url": "https://api.github.com/users/calebpollman/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/calebpollman/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/calebpollman/subscriptions",
        "organizations_url": "https://api.github.com/users/calebpollman/orgs",
        "repos_url": "https://api.github.com/users/calebpollman/repos",
        "events_url": "https://api.github.com/users/calebpollman/events{/privacy}",
        "received_events_url": "https://api.github.com/users/calebpollman/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-23T12:11:37Z",
    "updated_at": "2022-01-11T15:07:34Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n    Memory: 86.80 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 17.0.1 - /opt/homebrew/bin/node\r\n    Yarn: 1.22.17 - /opt/homebrew/bin/yarn\r\n    npm: 8.1.0 - /opt/homebrew/bin/npm\r\n    Watchman: 2021.11.15.00 - /opt/homebrew/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 95.0.1\r\n    Safari: 15.2\r\n  npmPackages:\r\n    @aws-amplify/analytics: ^5.1.8 => 5.1.8 \r\n    @aws-amplify/api: ^4.0.28 => 4.0.28 \r\n    @aws-amplify/auth: ^4.3.18 => 4.3.18 \r\n    @aws-amplify/ui-components: ^1.9.6 => 1.9.6 \r\n    @babel/core: ^7.12.9 => 7.16.5 \r\n    @babel/runtime: ^7.12.5 => 7.16.5 \r\n    @react-native-async-storage/async-storage: ^1.15.13 => 1.15.14 \r\n    @react-native-community/checkbox: ^0.5.9 => 0.5.9 \r\n    @react-native-community/datetimepicker: ^4.0.1 => 4.0.1 \r\n    @react-native-community/eslint-config: ^2.0.0 => 2.0.0 \r\n    @react-native-community/google-signin: ^4.0.3 => 4.0.3 \r\n    @react-native-community/masked-view: ^0.1.10 => 0.1.11 \r\n    @react-native-community/netinfo: ^7.1.2 => 7.1.6 \r\n    @react-native-community/push-notification-ios: ^1.8.0 => 1.10.1 \r\n    @react-native-community/toolbar-android: ^0.2.1 => 0.2.1 \r\n    @react-native-firebase/analytics: ^13.1.0 => 13.1.0 \r\n    @react-native-firebase/app: 13.1.0 => 13.1.0 \r\n    @react-native-firebase/messaging: 13.1.0 => 13.1.0 \r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1 \r\n    @react-navigation/bottom-tabs: 5.11.11 => 5.11.11 \r\n    @react-navigation/native: 5.9.4 => 5.9.4 \r\n    @react-navigation/stack: 5.14.5 => 5.14.5 \r\n    @sentry/react-native: ^3.1.1 => 3.2.8 \r\n    HelloWorld:  0.0.1 \r\n    amazon-cognito-identity-js: ^5.2.3 => 5.2.3 \r\n    amplify-ui-components-loader:  undefined ()\r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    aws-amplify-react-native: ^5.0.5 => 5.0.5 \r\n    babel-jest: ^26.6.3 => 26.6.3 \r\n    crypto-js: 3.3.0 => 3.3.0 \r\n    eslint: 7.14.0 => 7.14.0 \r\n    fuse.js: ^6.4.0 => 6.4.6 \r\n    fuzzy: ^0.1.3 => 0.1.3 \r\n    fuzzy-search: ^3.2.1 => 3.2.1 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    jest: ^26.6.3 => 26.6.3 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 \r\n    moment: ^2.24.0 => 2.29.1 \r\n    prop-types: ^15.7.2 => 15.7.2 \r\n    react: 17.0.2 => 17.0.2 \r\n    react-hook-form: ^7.22.1 => 7.22.1 \r\n    react-native: 0.66.4 => 0.66.4 \r\n    react-native-app-intro-slider: ^4.0.4 => 4.0.4 \r\n    react-native-background-timer: 2.2.0 => 2.2.0 \r\n    react-native-calendars: ^1.1129.0 => 1.1272.0 \r\n    react-native-collapsible: ^1.6.0 => 1.6.0 \r\n    react-native-config: ^1.2.0 => 1.4.5 \r\n    react-native-deep-linking: ^2.2.0 => 2.2.0 \r\n    react-native-device-info: ^8.4.1 => 8.4.8 \r\n    react-native-dialog: ^5.6.0 => 5.6.0 \r\n    react-native-elements: ^2.0.0 => 2.3.2 \r\n    react-native-fast-image: ^8.1.5 => 8.5.11 \r\n    react-native-fbsdk-next: ^6.2.0 => 6.2.0 \r\n    react-native-floating-action: https://github.com/ramonvermeulen/react-native-floating-action.git#fixForNativeDriverWarning => 1.20.0 \r\n    react-native-floating-label: ^0.2.3 => 0.2.3 \r\n    react-native-gesture-handler: ^1.6.1 => 1.10.3 \r\n    react-native-inappbrowser-reborn: ^3.6.3 => 3.6.3 \r\n    react-native-iphone-x-helper: ^1.3.1 => 1.3.1 \r\n    react-native-keychain: ^8.0.0 => 8.0.0 \r\n    react-native-linear-gradient: ^2.5.6 => 2.5.6 \r\n    react-native-markdown-display: ^7.0.0-alpha.2 => 7.0.0-alpha.2 \r\n    react-native-modal-datetime-picker: ^10.2.0 => 10.2.0 \r\n    react-native-modest-checkbox: ^3.3.0 => 3.3.0 \r\n    react-native-popup-menu: ^0.15.7 => 0.15.12 \r\n    react-native-push-notification: ^7.4.0 => 7.4.0 \r\n    react-native-reanimated: ^1.9.0 => 1.13.3 \r\n    react-native-safe-area-context: ^3.2.0 => 3.3.2 \r\n    react-native-screens: ^2.8.0 => 2.18.1 \r\n    react-native-share: ^3.3.2 => 3.8.5 \r\n    react-native-side-drawer: ^1.2.6 => 1.2.9 \r\n    react-native-simple-toast: ^1.1.2 => 1.1.3 \r\n    react-native-size-matters: ^0.4.0 => 0.4.0 \r\n    react-native-snap-carousel: 3.9.1 => 3.9.1 \r\n    react-native-spinkit: ^1.5.0 => 1.5.1 \r\n    react-native-svg: ^12.1.0 => 12.1.1 \r\n    react-native-svg-transformer: ^0.14.3 => 0.14.3 \r\n    react-native-tab-view: ^2.14.2 => 2.16.0 \r\n    react-native-vector-icons: ^9.0.0 => 9.0.0 \r\n    react-native-view-shot: ^3.1.2 => 3.1.2 \r\n    react-native-walkthrough-tooltip: ^1.1.9 => 1.3.0 \r\n    react-redux: ^7.2.0 => 7.2.6 \r\n    react-test-renderer: 17.0.2 => 17.0.2 \r\n    redux: ^4.0.5 => 4.1.2 \r\n    redux-persist: ^6.0.0 => 6.0.0 \r\n    redux-persist/integration/react:  undefined ()\r\n    redux-saga: ^1.1.3 => 1.1.3 \r\n    redux-saga/effects:  undefined ()\r\n    redux-thunk: ^2.3.0 => 2.4.1 \r\n    url-parse: ^1.4.7 => 1.5.3 \r\n  npmGlobalPackages:\r\n    npm: 8.1.0\r\n\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nThe withAuthenticator wrapper class from [here](https://docs.amplify.aws/ui/auth/authenticator/q/framework/react-native/#using-withauthenticator-hoc) does not pass the authState prop to the Authenticator Component so you cannot set the initial auth state using this wrapper. \r\n\r\nThe code for the [wrapper](https://github.com/aws-amplify/amplify-js/blob/6c4d4b5fc737652f88dcdfa26bdb02a1defdfa2e/packages/aws-amplify-react-native/src/Auth/index.tsx#L137) is \r\n```\r\n      return (\r\n          <Authenticator\r\n              {...this.props} <- seems to be empty\r\n              hideDefault={\r\n                this.authConfig.authenticatorComponents &&\r\n                this.authConfig.authenticatorComponents.length > 0\r\n              }\r\n              signUpConfig={this.authConfig.signUpConfig}\r\n              onStateChange={this.handleAuthStateChange}\r\n              children={this.authConfig.authenticatorComponents}\r\n              usernameAttributes={this.authConfig.usernameAttributes}\r\n              theme={theme}\r\n          />\r\n      );\r\n```\r\nTo enable setting the initial auth state would be a one liner change of either adding\r\n`{...this.authConfig}` after `{...this.props}` and before hideDefault\r\nor something like\r\n`authState={this.authConfig.authState ? this.authConfig.authState : 'signIn'}`\r\n\n\n### Expected behavior\n\nCan pass authState to the withAuthenticator wrapper to enable setting of initial auth state\n\n### Reproduction steps\n\nDescribed above\n\n### Code Snippet\n\n_No response_\n\n### Log output\n\n_No response_\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9398/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9397",
    "id": 1087419089,
    "node_id": "PR_kwDOBkswNc4wNvHN",
    "number": 9397,
    "title": "chore: Remove deprecated jcenter repo",
    "user": {
      "login": "MatrixFrog",
      "id": 244381,
      "node_id": "MDQ6VXNlcjI0NDM4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatrixFrog",
      "html_url": "https://github.com/MatrixFrog",
      "followers_url": "https://api.github.com/users/MatrixFrog/followers",
      "following_url": "https://api.github.com/users/MatrixFrog/following{/other_user}",
      "gists_url": "https://api.github.com/users/MatrixFrog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MatrixFrog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MatrixFrog/subscriptions",
      "organizations_url": "https://api.github.com/users/MatrixFrog/orgs",
      "repos_url": "https://api.github.com/users/MatrixFrog/repos",
      "events_url": "https://api.github.com/users/MatrixFrog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MatrixFrog/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-12-23T06:28:02Z",
    "updated_at": "2022-01-12T22:03:20Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9397",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9397",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9397.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9397.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\n\r\nJust trying to eliminate warnings about this repo being deprecated. https://developer.android.com/studio/build/jcenter-migration\r\n\r\n#### Description of how you validated changes\r\n\r\nBrought this new version of build.gradle into my own project's node_modules/amazon-cognito-identity-js folder and checked that it still builds correctly.\r\n\r\n#### Checklist\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9397/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9391",
    "id": 1086094481,
    "node_id": "I_kwDOBkswNc5AvHyR",
    "number": 9391,
    "title": "Add Trigger for when User changes User Attributes",
    "user": {
      "login": "henryhuangh",
      "id": 86007667,
      "node_id": "MDQ6VXNlcjg2MDA3NjY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/86007667?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/henryhuangh",
      "html_url": "https://github.com/henryhuangh",
      "followers_url": "https://api.github.com/users/henryhuangh/followers",
      "following_url": "https://api.github.com/users/henryhuangh/following{/other_user}",
      "gists_url": "https://api.github.com/users/henryhuangh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/henryhuangh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/henryhuangh/subscriptions",
      "organizations_url": "https://api.github.com/users/henryhuangh/orgs",
      "repos_url": "https://api.github.com/users/henryhuangh/repos",
      "events_url": "https://api.github.com/users/henryhuangh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/henryhuangh/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 881545386,
        "node_id": "MDU6TGFiZWw4ODE1NDUzODY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Cognito",
        "name": "Cognito",
        "color": "006b75",
        "default": false,
        "description": "Related to cognito issues"
      },
      {
        "id": 1270272334,
        "node_id": "MDU6TGFiZWwxMjcwMjcyMzM0",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Service%20Team",
        "name": "Service Team",
        "color": "bfdadc",
        "default": false,
        "description": "Issues asked to the Service Team"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-21T18:17:42Z",
    "updated_at": "2021-12-28T22:02:46Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\n_No response_\n\n### Is this related to a new or existing API?\n\nAuthentication\n\n### Is this related to another service?\n\nLambda\n\n### Describe the feature you'd like to request\n\nNot sure if this feature is available but I want a way to trigger a lambda function once a user changes user attributes through `Auth.updateUserAttributes` method.\n\n### Describe the solution you'd like\n\nTo add an option in the CLI for creating a trigger in Auth when a user modifies their attributes and also add a option in the cognito userpool triggers\n\n### Describe alternatives you've considered\n\nCurrently, the solution I can think of is to create a lambda function connected to graphql that takes in the modified parameters. The lambda function then send the request to update user attributes along with the actions I want the lambda function to perform.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9391/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9383",
    "id": 1083761760,
    "node_id": "I_kwDOBkswNc5AmORg",
    "number": 9383,
    "title": "amazon-cognito-identity-js - Allow signUp to accept Group that user should be added to upon user creation",
    "user": {
      "login": "jashsayani",
      "id": 18684,
      "node_id": "MDQ6VXNlcjE4Njg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/18684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jashsayani",
      "html_url": "https://github.com/jashsayani",
      "followers_url": "https://api.github.com/users/jashsayani/followers",
      "following_url": "https://api.github.com/users/jashsayani/following{/other_user}",
      "gists_url": "https://api.github.com/users/jashsayani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jashsayani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jashsayani/subscriptions",
      "organizations_url": "https://api.github.com/users/jashsayani/orgs",
      "repos_url": "https://api.github.com/users/jashsayani/repos",
      "events_url": "https://api.github.com/users/jashsayani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jashsayani/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1108924763,
        "node_id": "MDU6TGFiZWwxMTA4OTI0NzYz",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-close-response-required",
        "name": "pending-close-response-required",
        "color": "d93f0b",
        "default": false,
        "description": "A response is required for this issue to remain open, it will be closed within the next 7 days."
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-18T06:33:35Z",
    "updated_at": "2021-12-31T07:16:00Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing API?\r\n\r\nAuthentication\r\n\r\n### Describe the feature you'd like to request\r\n\r\nUsers must be added to groups for access to AWS resources like DynamoDB. The current practice is to have a post-creation event fire a Lambda that calls `adminAddUserToGroup`. This adds a lot of overhead to common boilerplate task. Would be nice to have `signUp` take in Group info that user should be added to upon creation.\r\n\r\n### Describe the solution you'd like\r\n\r\nSomething like:\r\n```\r\nsignUp(username, password, userAttributes, validationData, callback, clientMetadata, groups)\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9383/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9381",
    "id": 1083736266,
    "node_id": "I_kwDOBkswNc5AmIDK",
    "number": 9381,
    "title": "amazon-cognito-identity-js - Changing email leads to successful login for non-verified email",
    "user": {
      "login": "jashsayani",
      "id": 18684,
      "node_id": "MDQ6VXNlcjE4Njg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/18684?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jashsayani",
      "html_url": "https://github.com/jashsayani",
      "followers_url": "https://api.github.com/users/jashsayani/followers",
      "following_url": "https://api.github.com/users/jashsayani/following{/other_user}",
      "gists_url": "https://api.github.com/users/jashsayani/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jashsayani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jashsayani/subscriptions",
      "organizations_url": "https://api.github.com/users/jashsayani/orgs",
      "repos_url": "https://api.github.com/users/jashsayani/repos",
      "events_url": "https://api.github.com/users/jashsayani/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jashsayani/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 2354111949,
        "node_id": "MDU6TGFiZWwyMzU0MTExOTQ5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/amazon-cognito-identity-js",
        "name": "amazon-cognito-identity-js",
        "color": "d39417",
        "default": false,
        "description": "Used for issues related to this specific package within the monorepo"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-18T03:37:33Z",
    "updated_at": "2021-12-20T16:51:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuthentication\r\n\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 12.1\r\n    CPU: (8) arm64 Apple M1 Pro\r\n    Memory: 7.37 GB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.0 - /usr/local/bin/node\r\n    npm: 8.1.0 - /usr/local/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Safari: 15.2\r\n  npmGlobalPackages:\r\n    corepack: 0.10.0\r\n    npm: 8.1.0\r\n```\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nAWS Cognito dashboard shows `Email verified: false` for a user but auth is successful (no error about unverified email).\r\n\r\n### Expected behavior\r\n\r\nShould error with `UserNotConfirmedException`\r\n\r\n### Reproduction steps\r\n\r\n1. Create user\r\n2. Verify email\r\n3. Update user (email change)\r\n4. Login with new email (login successful even if email is unconfirmed)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9381/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9375",
    "id": 1083427016,
    "node_id": "I_kwDOBkswNc5Ak8jI",
    "number": 9375,
    "title": "Amplify React Native breaks when using Apollo 3.5.x with CJS",
    "user": {
      "login": "wbroek",
      "id": 73628,
      "node_id": "MDQ6VXNlcjczNjI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/73628?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbroek",
      "html_url": "https://github.com/wbroek",
      "followers_url": "https://api.github.com/users/wbroek/followers",
      "following_url": "https://api.github.com/users/wbroek/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbroek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbroek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbroek/subscriptions",
      "organizations_url": "https://api.github.com/users/wbroek/orgs",
      "repos_url": "https://api.github.com/users/wbroek/repos",
      "events_url": "https://api.github.com/users/wbroek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbroek/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-17T16:31:59Z",
    "updated_at": "2021-12-17T18:11:47Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nAuthentication, Storage\n\n### Amplify Categories\n\nauth, storage\n\n### Environment information\n\n<details>\r\n\r\n  System:\r\n    OS: macOS 11.6.2\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-8750H CPU @ 2.20GHz\r\n    Memory: 74.54 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - /usr/local/opt/node@14/bin/node\r\n    Yarn: 1.22.17 - /usr/local/bin/yarn\r\n    npm: 6.14.15 - /usr/local/opt/node@14/bin/npm\r\n    Watchman: 2021.12.06.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.110\r\n    Firefox: 73.0.1\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @apollo/client: ^3.5.6 => 3.5.6 \r\n    @apollo/client/cache:  undefined ()\r\n    @apollo/client/core:  undefined ()\r\n    @apollo/client/errors:  undefined ()\r\n    @apollo/client/link/batch:  undefined ()\r\n    @apollo/client/link/batch-http:  undefined ()\r\n    @apollo/client/link/context:  undefined ()\r\n    @apollo/client/link/core:  undefined ()\r\n    @apollo/client/link/error:  undefined ()\r\n    @apollo/client/link/http:  undefined ()\r\n    @apollo/client/link/persisted-queries:  undefined ()\r\n    @apollo/client/link/retry:  undefined ()\r\n    @apollo/client/link/schema:  undefined ()\r\n    @apollo/client/link/utils:  undefined ()\r\n    @apollo/client/link/ws:  undefined ()\r\n    @apollo/client/react:  undefined ()\r\n    @apollo/client/react/components:  undefined ()\r\n    @apollo/client/react/context:  undefined ()\r\n    @apollo/client/react/hoc:  undefined ()\r\n    @apollo/client/react/hooks:  undefined ()\r\n    @apollo/client/react/parser:  undefined ()\r\n    @apollo/client/react/ssr:  undefined ()\r\n    @apollo/client/testing:  undefined ()\r\n    @apollo/client/testing/core:  undefined ()\r\n    @apollo/client/utilities:  undefined ()\r\n    @apollo/client/utilities/globals:  undefined ()\r\n    @babel/core: ^7.16.5 => 7.16.5 (7.9.0)\r\n    @babel/runtime: ^7.16.5 => 7.16.5 \r\n    @davidcmeier/string-to-color: ^2.0.0 => 2.0.0 \r\n    @expo/react-native-action-sheet: ^3.12.0 => 3.12.0 \r\n    @gregfrench/react-native-wheel-picker: ^1.2.18 => 1.2.18 \r\n    @react-native-async-storage/async-storage: ^1.15.14 => 1.15.14 \r\n    @react-native-community/datetimepicker: ^5.0.1 => 5.0.1 \r\n    @react-native-community/eslint-config: ^3.0.1 => 3.0.1 \r\n    @react-native-community/masked-view: ^0.1.11 => 0.1.11 \r\n    @react-native-community/netinfo: ^7.1.6 => 7.1.6 \r\n    @react-native-picker/picker: ^2.2.1 => 2.2.1 (1.16.8)\r\n    @react-navigation/bottom-tabs: ^5.11.15 => 5.11.15 \r\n    @react-navigation/native: ^5.9.8 => 5.9.8 \r\n    @react-navigation/stack: ^5.14.9 => 5.14.9 \r\n    @sentry/react-native: ^3.2.8 => 3.2.8 \r\n    amazon-cognito-identity-js: ^5.2.3 => 5.2.3 \r\n    apollo3-cache-persist: ^0.13.0 => 0.13.0 \r\n    appcenter: 4.3.0 => 4.3.0 \r\n    appcenter-analytics: 4.3.0 => 4.3.0 \r\n    appcenter-crashes: 4.3.0 => 4.3.0 \r\n    aws-amplify: ^4.3.11 => 4.3.11 \r\n    aws-amplify-react-native: ^6.0.2 => 6.0.2 \r\n    aws-appsync-auth-link: ^3.0.7 => 3.0.7 \r\n    aws-appsync-subscription-link: ^3.0.9 => 3.0.9 \r\n    babel-jest: ^27.3.1 => 27.3.1 (27.4.5)\r\n    babel-plugin-module-resolver: ^4.1.0 => 4.1.0 \r\n    babel-plugin-transform-remove-console: ^6.9.4 => 6.9.4 \r\n    eslint: ^7.32.0 => 7.32.0 \r\n    eslint-config-airbnb: ^18.2.1 => 18.2.1 \r\n    eslint-plugin-import: ^2.25.3 => 2.25.3 \r\n    eslint-plugin-jsx-a11y: ^6.5.1 => 6.5.1 \r\n    eslint-plugin-prettier: ^4.0.0 => 4.0.0 (3.1.2)\r\n    eslint-plugin-react: ^7.27.1 => 7.27.1 \r\n    eslint-plugin-react-hooks: ^4.3.0 => 4.3.0 \r\n    eslint-plugin-react-native: ^4.0.0 => 4.0.0 (3.11.0)\r\n    graphql: ^15.6.1 => 15.6.1 (15.8.0)\r\n    hermes-inspector-msggen:  1.0.0 \r\n    i18n-js: ^3.8.0 => 3.8.0 \r\n    jest: ^27.4.5 => 27.4.5 \r\n    lodash: ^4.17.21 => 4.17.21 \r\n    lottie-ios: 3.2.3 => 3.2.3 \r\n    lottie-react-native: ^4.1.3 => 4.1.3 \r\n    metro-minify-terser: ^0.66.2 => 0.66.2 \r\n    metro-react-native-babel-preset: ^0.66.2 => 0.66.2 \r\n    moment: ^2.29.1 => 2.29.1 \r\n    prettier: ^2.5.1 => 2.5.1 \r\n    prettier-eslint: ^13.0.0 => 13.0.0 \r\n    prop-types: ^15.7.2 => 15.7.2 (15.5.8)\r\n    react: 17.0.2 => 17.0.2 \r\n    react-native: ^0.66.4 => 0.66.4 \r\n    react-native-bluetooth-status: 1.5.1 => 1.5.1 \r\n    react-native-calendar-strip: ^2.2.5 => 2.2.5 \r\n    react-native-calendars: ^1.1274.0 => 1.1274.0 \r\n    react-native-camera: ^4.2.1 => 4.2.1 \r\n    react-native-codegen: 0.0.12 => 0.0.12 (0.0.7)\r\n    react-native-config: ^1.4.5 => 1.4.5 \r\n    react-native-confirmation-code-input: ^1.0.4 => 1.0.4 \r\n    react-native-flash-message: ^0.2.0 => 0.2.0 \r\n    react-native-gesture-handler: ^1.10.3 => 1.10.3 \r\n    react-native-google-fit: ^0.18.2 => 0.18.2 \r\n    react-native-image-mapper: ^0.1.11 => 0.1.11 \r\n    react-native-inappbrowser-reborn: ^3.6.3 => 3.6.3 \r\n    react-native-maps: ^0.29.4 => 0.29.4 \r\n    react-native-modal-datetime-picker: ^13.0.0 => 13.0.0 \r\n    react-native-permissions: 3.2.0 => 3.2.0 \r\n    react-native-progress-bar-animated: ^1.0.6 => 1.0.6 \r\n    react-native-reanimated: 1.13.2 => 1.13.2 \r\n    react-native-reanimated-slider: 1.0.6 => 1.0.6 \r\n    react-native-render-html: ^6.3.1 => 6.3.1 \r\n    react-native-safe-area-context: 3.3.2 => 3.3.2 \r\n    react-native-screens: 3.10.1 => 3.10.1 \r\n    react-native-signature-capture: ^0.4.12 => 0.4.12 \r\n    react-native-simple-dialogs: ^1.4.0 => 1.4.0 \r\n    react-native-svg: ^12.1.1 => 12.1.1 \r\n    react-native-swipeout: ^2.3.6 => 2.3.6 \r\n    react-native-swiper: ^1.6.0 => 1.6.0 \r\n    react-native-touch-id: ^4.4.1 => 4.4.1 \r\n    react-native-version-number: ^0.3.6 => 0.3.6 \r\n    react-native-video: ^5.2.0 => 5.2.0 \r\n    react-native-youtube: ^2.0.2 => 2.0.2 \r\n    react-redux: ^7.2.6 => 7.2.6 \r\n    react-test-renderer: 17.0.2 => 17.0.2 \r\n    redux: ^4.1.2 => 4.1.2 \r\n    redux-persist: 6.0.0 => 6.0.0 \r\n    redux-persist-expo-filesystem: ^2.0.0 => 2.0.0 \r\n    redux-persist-sensitive-storage: ^1.0.0 => 1.0.0 \r\n    redux-persist/integration/react:  undefined ()\r\n    reselect: ^4.1.5 => 4.1.5 \r\n    victory-native: ^36.2.0 => 36.2.0 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.3\r\n    @bugsnag/react-native-cli: 7.14.0\r\n    @sentry/cli: 1.71.0\r\n    @vue/cli-service-global: 4.5.15\r\n    @vue/cli: 4.5.15\r\n    @zeit/ncc: 0.22.3\r\n    undefined: 0.1.0\r\n    appcenter-cli: 1.2.2\r\n    create-react-native-module: 0.19.0\r\n    create-rx-app: 0.4.16\r\n    detox-cli: 17.11.0\r\n    eas-cli: 0.37.0\r\n    es5-ext: 0.10.51\r\n    es6-iterator: 2.0.3\r\n    es6-symbol: 3.1.2\r\n    expo-cli: 4.13.0\r\n    favicons-generate: 0.0.15\r\n    firebase-tools: 9.22.0\r\n    grunt-cli: 1.4.3\r\n    ios-deploy: 1.11.4\r\n    jest-cli: 23.6.0\r\n    jsdoc: 3.6.7\r\n    json: 10.0.0\r\n    lerna: 4.0.0\r\n    next-tick: 1.0.0\r\n    npm: 8.1.4\r\n    orval: 5.5.10\r\n    react-devtools: 4.22.1\r\n    react-native-create-library: 3.1.2\r\n    react-native-macos-cli: 2.0.1\r\n    react-native-rename: 2.9.0\r\n    serverless: 1.83.3\r\n    sharp-cli: 1.15.0\r\n    type: 1.2.0\r\n    whackage: 1.3.0\r\n    wml: 0.0.83\r\n</details>\r\n\n\n### Describe the bug\n\nWhen using Apollo Client 3.5.x (with Appsync Link) the user is not kept logged in after restart of the app, all storage calls do not work anymore so cannot fetch images etc.\r\n\r\nAfter some investigation we noticed that we changed the `metro.config.js` because Apollo said so in there [release notes](https://github.com/apollographql/apollo-client/blob/main/CHANGELOG.md#apollo-client-354-2021-11-19) \r\nApollo is now distributed as a `.cjs` file and metro bundler cannot handle this so you need to change the `metro.config.js`: \r\n```\r\nconst { getDefaultConfig } = require(\"metro-config\");\r\nconst { resolver: defaultResolver } = getDefaultConfig.getDefaultValues();\r\nexports.resolver = {\r\n  ...defaultResolver,\r\n  sourceExts: [\r\n    ...defaultResolver.sourceExts,\r\n    \"cjs\",\r\n  ],\r\n};\r\n```\r\n\r\nWhen we downgrade Apollo Client (to 3.4.x) and removed changed the `metro.config.js` back everything worked fine again\n\n### Expected behavior\n\nDo all the normal things with Amplify; user is kept logged in until logout is called, can fetch images from storage to show to the user, etc\n\n### Reproduction steps\n\n1. Create React Native project\r\n2. Install Amplify libraries\r\n3. Configure Amplify Auth and use HOC/UI for fast login\r\n4. Install Apollo 3.5.x\r\n5. Adjust metro.config.js\r\n6. Login; restart/refresh\r\n7. Nog logged in anymore\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\nLOG  Running \"Clinicards\" with {\"rootTag\":1,\"initialProps\":{}}\r\n LOG  [DEBUG] 28:14.440 AuthClass - getting current authenticated user\r\n LOG  [DEBUG] 28:14.453 AuthClass - cannot load federated user from auth storage\r\n LOG  [DEBUG] 28:14.453 AuthClass - get current authenticated userpool user\r\n LOG  [DEBUG] 28:14.454 AuthClass - Failed to get user from user pool\r\n LOG  [DEBUG] 28:14.454 AuthClass - The user is not authenticated by the error No current user\r\n LOG  [DEBUG] 28:14.455 Authenticator - The user is not authenticated\r\n LOG  [DEBUG] 28:14.456 Credentials - removing aws-amplify-federatedInfo from storage\r\n LOG  [DEBUG] 28:14.456 AuthClass - no current Cognito user\r\n LOG  [DEBUG] 28:14.456 Hub - Dispatching to auth with  {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [DEBUG] 28:14.457 Hub - Dispatching to auth with  {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [DEBUG] 28:14.457 AnalyticsClass - on hub capsule auth {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [DEBUG] 28:14.457 Hub - Dispatching to auth with  {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [DEBUG] 28:14.458 Hub - Dispatching to auth with  {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [DEBUG] 28:14.458 Hub - Dispatching to auth with  {\"data\": null, \"event\": \"signOut\", \"message\": \"A user has been signed out\"}\r\n LOG  [INFO] 28:14.458 Authenticator - Inside handleStateChange method current authState: loading\r\n LOG  [INFO] 28:14.488 Authenticator - Auth Data was set: null\r\n LOG  [INFO] 28:14.488 Authenticator - authState has been updated to signIn\r\n LOG  [INFO] 28:14.513 Authenticator - Inside handleStateChange method current authState: signIn\r\n LOG  [INFO] 28:14.521 Authenticator - Auth Data was set: null\r\n LOG  [INFO] 28:14.521 Authenticator - authState has been updated to signIn\r\n LOG  [DEBUG] 28:28.771 AuthClass {\"accessToken\": {\"jwtToken\": \"M2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwLCJqdGkiOiIxNDEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": {\"auth_time\": 1639758510, \"client_id\": \"157fubr20pneas4ciajn916867\", \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"jti\": \"1410b842-b920-4a6c-bc28-b015c4828a2d\", \"scope\": \"aws.cognito.signin.user.admin\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"access\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"eyJraWQiOiJYWE0zVDJ2TzhTUkp2dEpkeElQK3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": {\"aud\": \"157fubr20pneas4ciajn916867\", \"auth_time\": 1639758510, \"cognito:username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"email\": \"wouter\", \"email_verified\": true, \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"id\"}}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}\r\n LOG  [DEBUG] 28:28.772 Credentials - removing aws-amplify-federatedInfo from storage\r\n LOG  [DEBUG] 28:28.773 Credentials - set credentials from session\r\n LOG  [DEBUG] 28:28.798 Credentials - Failed to load credentials {\"_U\": 1, \"_V\": 3, \"_W\": {\"_1\": 1, \"_U\": 0, \"_V\": 2, \"_W\": [Error: URL.hostname is not implemented], \"_X\": null}, \"_X\": null}\r\n LOG  [DEBUG] 28:28.799 Credentials - Error loading credentials [Error: URL.hostname is not implemented]\r\n LOG  [DEBUG] 28:28.799 AuthClass - cannot get cognito credentials [Error: URL.hostname is not implemented]\r\n LOG  [DEBUG] 28:28.868 Hub - Dispatching to auth with  {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.869 Hub - Dispatching to auth with  {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.870 AnalyticsClass - on hub capsule auth {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.872 Hub - Dispatching to auth with  {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.873 Hub - Dispatching to auth with  {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.874 Hub - Dispatching to auth with  {\"data\": {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": [Client], \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": [CognitoAccessToken], \"clockDrift\": -2, \"idToken\": [CognitoIdToken], \"refreshToken\": [CognitoRefreshToken]}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"event\": \"signIn\", \"message\": \"A user 4f68621e-c190-4730-8fef-6ee9adbae160 has been signed in\"}\r\n LOG  [DEBUG] 28:28.875 AuthClass - Getting the session from this user: {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": {}}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": {\"jwtToken\": \"eyJraWQiOiJya3d0ZFpOVjZCNXdCZmF6T3hjYWl4RFFEWm9qM2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwLCJqdGkiOiIxNDEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": [Object]}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": [Object]}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}\r\n LOG  [DEBUG] 28:28.876 AuthClass - Succeed to get the user session {\"accessToken\": {\"jwtToken\": \"9qM2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwLCJqdGkiOiIxNDEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": {\"auth_time\": 1639758510, \"client_id\": \"157fubr20pneas4ciajn916867\", \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"jti\": \"1410b842-b920-4a6c-bc28-b015c4828a2d\", \"scope\": \"aws.cognito.signin.user.admin\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"access\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"eyJraWQiOiJYWE0zVDJ2TzhTUkp2dEpkeElQK3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": {\"aud\": \"157fubr20pneas4ciajn916867\", \"auth_time\": 1639758510, \"cognito:username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"email\": \"wouter\", \"email_verified\": true, \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"id\"}}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}\r\n LOG  [DEBUG] 28:28.887 AuthClass - Getting the session from this user: {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": {}}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": {\"jwtToken\": \"eyJraWQiOiJya3d0ZFpOVjZCNXdCZmF6T3hjYWl4RFFEWm9qM2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": [Object]}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"keElQK3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": [Object]}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}\r\n LOG  [DEBUG] 28:28.889 AuthClass - Succeed to get the user session {\"accessToken\": {\"jwtToken\": \"9qM2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwLCJqdGkiOiIxNDEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": {\"auth_time\": 1639758510, \"client_id\": \"157fubr20pneas4ciajn916867\", \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"jti\": \"1410b842-b920-4a6c-bc28-b015c4828a2d\", \"scope\": \"aws.cognito.signin.user.admin\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"access\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"eyJraWQiOiJYWE0zVDJ2TzhTUkp2dEpkeElQK3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": {\"aud\": \"157fubr20pneas4ciajn916867\", \"auth_time\": 1639758510, \"cognito:username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"email\": \"wouter\", \"email_verified\": true, \"event_id\": \"963627d0-161b-459e-8cf0-f0f0aa03d3f7\", \"exp\": 1639762110, \"iat\": 1639758510, \"iss\": \"https://cognito-idp.eu-west-1.amazonaws.com/eu-west-1_ZiFqO9JQO\", \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\", \"token_use\": \"id\"}}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}\r\n LOG  [DEBUG] 28:28.954 Authenticator - verified user attributes {\"unverified\": {}, \"verified\": {\"email\": \"wouter\"}}\r\n LOG  [INFO] 28:28.955 Authenticator - Inside handleStateChange method current authState: signIn\r\n LOG  [DEBUG] 28:28.956 VerifyContact - no unverified contact\r\n LOG  [INFO] 28:28.958 Authenticator - Auth Data was set: {\"Session\": null, \"attributes\": {\"email\": \"wouter\", \"email_verified\": true, \"sub\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}, \"authenticationFlowType\": \"USER_SRP_AUTH\", \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": {}}, \"keyPrefix\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867\", \"pool\": {\"advancedSecurityDataCollectionFlag\": true, \"client\": {\"endpoint\": \"https://cognito-idp.eu-west-1.amazonaws.com/\", \"fetchOptions\": [Object]}, \"clientId\": \"157fubr20pneas4ciajn916867\", \"storage\": [Function MemoryStorage], \"userPoolId\": \"eu-west-1_ZiFqO9JQO\", \"wrapRefreshSessionCallback\": [Function anonymous]}, \"preferredMFA\": \"NOMFA\", \"signInUserSession\": {\"accessToken\": {\"jwtToken\": \"eyJraWQiOiJya3d0ZFpOVjZCNXdCZmF6T3hjYWl4RFFEWm9qM2hTeFwvOGV4Umw1QTIrMD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2Mzk3NTg1MTAsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX1ppRnFPOUpRTyIsImV4cCI6MTYzOTc2MjExMCwiaWF0IjoxNjM5NzU4NTEwLCJqdGkiOiIxNDEwYjg0Mi1iOTIwLTRhNmMtYmMyOC1iMDE1YzQ4MjhhMmQiLCJjbGllbnRfaWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsInVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIn0.NIcV88SsVdXhp1SLuMHpTLNLfRV5ouJJyj8JhOrTWafOzyhrYAbid6ta_MlYV4-FZSq4drTZIuXlb8chuAcOcewicum-iCcs8LJaIsldST8sw0ULs-04TdJZG5JX623S4meM-x-LUAsNsHU6odW4SH6SXm4JmTZMC6PyxUbj4PVLO0_w5R9IliPmdM2vx8jhWQ2SNlV1OxfEQph7l7i6Ca2LWonvFIBnDTrdc48KOGTTKdxVBB7FPtS0YaVKBuUm6vQXeKcYkPpf6-tag6Z9Y2q1wcVa3w86L7mMCxYOf2Lcj7UbmjXLKw5wKFXQNlEuTWKAq1cj_7IrzNqAkUOPRw\", \"payload\": [Object]}, \"clockDrift\": -2, \"idToken\": {\"jwtToken\": \"eyJraWQiOiJYWE0zVDJ2TzhTUkp2dEpkeElQK3p4VGJ0OHBvQVNrNTl4bXVGcGtEWlFvPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI0ZjY4NjIxZS1jMTkwLTQ3MzAtOGZlZi02ZWU5YWRiYWUxNjAiLCJhdWQiOiIxNTdmdWJyMjBwbmVhczRjaWFqbjkxNjg2NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6Ijk2MzYyN2QwLTE2MWItNDU5ZS04Y2YwLWYwZjBhYTAzZDNmNyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjM5NzU4NTEwLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9aaUZxTzlKUU8iLCJjb2duaXRvOnVzZXJuYW1lIjoiNGY2ODYyMWUtYzE5MC00NzMwLThmZWYtNmVlOWFkYmFlMTYwIiwiZXhwIjoxNjM5NzYyMTEwLCJpYXQiOjE2Mzk3NTg1MTAsImVtYWlsIjoid291dGVyK29sdmdAc3luYXBwei5ubCJ9.AgX6UclUiEKWgyQb8ewvATXzr0Z40TwjkXvb3ZATV5xOHGR-GiAG61BBhdJR_uw5M0wGREJ-b4xF-55tA-PmwFwkPgSOFKN7xG632alTgnoui626hI4G59kdLWv0wD66eynTW1mbd9_kGAPW7DdD9ZXcGwPylLatjNPb6cY3EqQN0NJ4yhZNKf9Tig8jQRfGS_UHnMhijjLRVwoAST1dFPIvsodSngBY7aSsffVJKVUKhTsMyICeBXpnHFjeyEIax2oZ4kD1PxJe_ffa3MWh9G4xiCwWBHBmTKDzSMORsWjhaaqCop3R-efIr3Jo-GLbC22jmMAsKreJ8EvwuX7UQw\", \"payload\": [Object]}, \"refreshToken\": {\"token\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.nplNqmcslqdY5r7PUMqAEOqTofZGECE-Kk24jIIf-C4lW-TIBW9P9pQwO1IVqW7Kxnr9Mp5xF-rNYzK4wanWv7gvtSi5xU-GptCGqtQ1iwVU5u-ECNdsZBpaM_7ieq1tZLdWtezHHTAsoTAWVLkMqcIkxDOrk1BThoEhd54Ld8Uw4XKixqHoivtWBLSlrzIIMUpxpleSNkEQ_TzzRa5z2ZZOdOEU-IEw-vbx0-0uDxxOny0PVxuBNxfLOXoMIfUdyV4DoGctY2M3hg8A5OgBtoYFSGBhjHh391bmtS_nVSMADidGhM-poFu-juOhiF92NlsXaa3ssa9_5rx0v8jxuw.rh0ew3wprJUthgP-.AiZLpxVg_3Czk-layr1qOcWTVKvsx4y9abPgsFK3Hhwb0RpRDQPgp6Gc6wSDYBydj-LHsbssvO3-PvaP4RQp1NTJNvqFyDqNVVqMIuzhtmox-twCWJb6QLP_DAgn_DuMhsFUwloqz2iWXo2cVsm_C9SoQpUrw6SDfnBpVwgOiDaY9TJfhRjMHYASvbClyXynu0lBPd_Z_mxud1f4g_jYfoDnEm3bFEphzR8mu05sZmpmO9J0VMc5wNBn9mL9hHqWDgSw-JxBo0XOcHrxhGb7ppIocRYW8YlhI74mT0iQj1gauPVnvqRNO9LnH5wskU-yNLexC6QNrRO18jHbk_iL5MOzNhFJqLNAAFLoXngjNXcRqwAHdcEIRCFOvA1vk1cExa55DGBpETrv1YcfhGPf8J6z1t9gXj_isIuHyPMm1n4vH05gpKSVGBE-oDz3l8W3aNjNBTIXL6KegoYKj_WYyn4NsYPqDyIkO7PoHp5FjZ4eit9q2UaioB6w1qKAStCpUlKX4Y69w0KeTGz9ofrT5EeLv--h7TS_kAJ1cOR6tEzhgawqmfLkAtKaSBWett-RaW1TCRhQ308q5C-4SO48BjLdoEJrD6bH2CBd513FingOaRNdyYIDhQJMwu5qqjAydcz2M3DNTBXQn7Cam9CQesn0MinS3x4WGNsYYWIyL3zcBD8SXdhYzVBvVvRpIvkL4WA8556bONl71YSmAbTlS10-26sCKsnHx1Bb86h8DTnUI6y8WxXga9HdkMB27A5-_ub-p8sFkkSBBfMMS1gZi3_D8U9BQdFPuuiUSIrVXgIidGfbuLBPHMIhhT0WL205g1PU7tBSNLZGrpHHLpFyMdaizeUIPWl7v4GVPffGgyihtLoiWZZhqpcpZzr94LodqjSZ0oZv_e1XOYUnpaL_XVUlLFl4fnUTY4_SyQ_zZdezKZj_a3ZJT5qJ08iEx65V92J8VBOkT6D_EQkGTGn8hIiWhZMuQcLlarnyG4mLUgXvavgpB-OCdhcAxZEQhZeMf7m69Fu0hyXVE7vhcWdIEG0ew4rzQ3YNG5BePccMPA2_TdpBOUYMCBEnuz3l9xWCnD9lt0isMll7sUJWCJBFqIEsYm9UVS6WzUarD1Ps6Z37m7AQf8J4d7da42z60RQ7OK_dpJgdKTSgtKSHmWIWPTXdh8EWDCneh8bEocQUM2Iew-fwreMDmLC7snYwRs9Qo9ZUBtpZ47fdETQfwdk2lTzbl-jDrL90jNAAnPgTbVx7bP57BbQPoXfHazko3NP7QnGt8MSv9ANZctZStvnEn5Kq03NRBvHTqag9dyhGPHMHZBeBtLOSJKbBphA.ts3KZ3Yz-bS9FuX7j-XH0Q\"}}, \"storage\": [Function MemoryStorage], \"userDataKey\": \"CognitoIdentityServiceProvider.157fubr20pneas4ciajn916867.4f68621e-c190-4730-8fef-6ee9adbae160.userData\", \"username\": \"4f68621e-c190-4730-8fef-6ee9adbae160\"}\r\n LOG  [INFO] 28:28.960 Authenticator - authState has been updated to signedIn\r\n LOG  [DEBUG] 28:28.965 AnalyticsClass - Analytics has been disabled\r\n LOG  [INFO] 28:28.967 Authenticator - Inside handleStateChange method current authState: signedIn\r\n LOG  [DEBUG] 28:28.969 AnalyticsClass - Analytics has been disabled\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\niPhone 11\n\n### Mobile Operating System\n\niOS 15\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9375/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9373",
    "id": 1083286832,
    "node_id": "I_kwDOBkswNc5AkaUw",
    "number": 9373,
    "title": "Gitlab license scanning incompatible with license entry for amazon-cognito-identity-js",
    "user": {
      "login": "peternedap",
      "id": 46710612,
      "node_id": "MDQ6VXNlcjQ2NzEwNjEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/46710612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peternedap",
      "html_url": "https://github.com/peternedap",
      "followers_url": "https://api.github.com/users/peternedap/followers",
      "following_url": "https://api.github.com/users/peternedap/following{/other_user}",
      "gists_url": "https://api.github.com/users/peternedap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peternedap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peternedap/subscriptions",
      "organizations_url": "https://api.github.com/users/peternedap/orgs",
      "repos_url": "https://api.github.com/users/peternedap/repos",
      "events_url": "https://api.github.com/users/peternedap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peternedap/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 2354111949,
        "node_id": "MDU6TGFiZWwyMzU0MTExOTQ5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/amazon-cognito-identity-js",
        "name": "amazon-cognito-identity-js",
        "color": "d39417",
        "default": false,
        "description": "Used for issues related to this specific package within the monorepo"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-17T13:57:41Z",
    "updated_at": "2021-12-17T18:10:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nNot applicable\n\n### Amplify Categories\n\nNot applicable\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Linux 5.4 Ubuntu 20.04.3 LTS (Focal Fossa)\r\n    CPU: (8) x64 Intel(R) Core(TM) i5-8350U CPU @ 1.70GHz\r\n    Memory: 275.23 MB / 15.49 GB\r\n    Container: Yes\r\n    Shell: 5.0.17 - /bin/bash\r\n  Binaries:\r\n    Node: 16.13.1 - /usr/bin/node\r\n    Yarn: 1.22.5 - /usr/bin/yarn\r\n    npm: 8.1.2 - /usr/bin/npm\r\n  Browsers:\r\n    Chromium: 96.0.4664.110\r\n    Firefox: 95.0\r\n  npmPackages:\r\n    aws-amplify: ^4.3.0 => 4.3.4 \r\n  npmGlobalPackages:\r\n    corepack: 0.10.0\r\n    npm: 8.1.2\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nGitLab offers a [dependency scanning service](https://docs.gitlab.com/ee/user/compliance/license_compliance/) which offers the option to allow/deny dependencies with specific licenses.  \r\n\r\nHowever, this service uses the `license` field in the `package.json`. Since amazon-cognito-identity-js does not contain the name of the license, but rather a description of where it can be found `SEE LICENSE IN LICENSE.txt`, it is not possible for us to add this license to our list of allowed licenses. \n\n### Expected behavior\n\nThis problem could be solved by replacing \r\n\r\n```\r\n \"license\": \"SEE LICENSE IN LICENSE.txt\",\r\n```\r\n\r\nwith\r\n\r\n```\r\n \"license\": \"Amazon Software License\",\r\n```\r\n\r\nin https://github.com/aws-amplify/amplify-js/blob/main/packages/amazon-cognito-identity-js/package.json#L29\r\n\r\nOr by removing this line, which will make it fall back on the `licenses` field instead.\n\n### Reproduction steps\n\n1. Add  `aws-amplify` to your project using `yarn add aws-amplify` \r\n2. Enable GitLab license scanning by adding the following line in your `.gitlab-ci.yml`:\r\n\r\n```yml\r\ninclude:\r\n  - template: Security/License-Scanning.gitlab-ci.yml\r\n  \r\nvariables:\r\n  LICENSE_FINDER_CLI_OPTS: '--recursive'\r\n```\r\n3. Open a MR to trigger the License scanner, which creates a report that contains `SEE LICENSE IN LICENSE.txt` as the found license for `amazon-cognito-identity-js`\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9373/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9371",
    "id": 1082731880,
    "node_id": "I_kwDOBkswNc5AiS1o",
    "number": 9371,
    "title": "Amplify Sign In HandleSubmit doesn't fire onAuthUIStateChange when a password challenge occurs",
    "user": {
      "login": "yojake42",
      "id": 32025156,
      "node_id": "MDQ6VXNlcjMyMDI1MTU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32025156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yojake42",
      "html_url": "https://github.com/yojake42",
      "followers_url": "https://api.github.com/users/yojake42/followers",
      "following_url": "https://api.github.com/users/yojake42/following{/other_user}",
      "gists_url": "https://api.github.com/users/yojake42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yojake42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yojake42/subscriptions",
      "organizations_url": "https://api.github.com/users/yojake42/orgs",
      "repos_url": "https://api.github.com/users/yojake42/repos",
      "events_url": "https://api.github.com/users/yojake42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yojake42/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-12-16T23:33:14Z",
    "updated_at": "2021-12-17T17:45:27Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuthentication\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n  System:\r\n    OS: macOS 11.6.1\r\n    CPU: (8) x64 Intel(R) Core(TM) i5-1038NG7 CPU @ 2.00GHz\r\n    Memory: 694.13 MB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.1.0 - ~/.asdf/installs/nodejs/16.1.0/bin/node\r\n    npm: 7.11.2 - ~/.asdf/plugins/nodejs/shims/npm\r\n  Browsers:\r\n    Chrome: 92.0.4515.131\r\n    Safari: 14.1.2\r\n  npmPackages:\r\n    @aws-amplify/ui-components: ^1.7.3 => 1.7.3 \r\n    @aws-amplify/ui-react: ^1.2.10 => 1.2.10 \r\n    @aws-sdk/client-cognito-identity: ^1.0.0-gamma.2 => 1.0.0-rc.10 (3.6.1)\r\n    @aws-sdk/client-s3: ^1.0.0-gamma.2 => 1.0.0-rc.10 (3.6.1)\r\n    @aws-sdk/credential-provider-cognito-identity: ^1.0.0-gamma.2 => 1.0.0-rc.10 (3.6.1)\r\n    @bryntum/demo-resources: 1.0.1 => 1.0.1 \r\n    @bryntum/gantt: 4.3.2 => 4.3.2 \r\n    @bryntum/gantt-react: 4.3.2 => 4.3.2 \r\n    @emotion/react: ^11.6.0 => 11.6.0 \r\n    @emotion/styled: ^11.6.0 => 11.6.0 \r\n    @material-ui/core: ^4.12.3 => 4.12.3 \r\n    @material-ui/icons: ^4.11.2 => 4.11.2 \r\n    @mui/icons-material: ^5.1.1 => 5.1.1 \r\n    @mui/material: ^5.1.1 => 5.1.1 \r\n    @primer/octicons-react: ^10.0.0 => 10.1.0 \r\n    @rehooks/local-storage: ^2.4.1 => 2.4.1 \r\n    @scope/sample:  1.0.0 \r\n    @testing-library/jest-dom: ^4.2.4 => 4.2.4 \r\n    @testing-library/react: ^9.5.0 => 9.5.0 \r\n    @testing-library/user-event: ^7.2.1 => 7.2.1 \r\n    ag-grid-base-icons:  1.0.0 \r\n    ag-grid-community: 26.0.0 => 26.0.0 \r\n    ag-grid-enterprise: 26.0.0 => 26.0.0 \r\n    ag-grid-react: 26.0.0 => 26.0.0 \r\n    amplify-ui-components-loader:  undefined ()\r\n    aws-amplify: ^4.2.4 => 4.2.4 \r\n    aws-sdk: ^2.958.0 => 2.974.0 \r\n    bootstrap: ^4.6.0 => 4.6.0 \r\n    dep-dep-file:  undefined ()\r\n    dep-file:  0.0.1 \r\n    dep-wildcard:  undefined ()\r\n    eslint: ^6.8.0 => 6.8.0 \r\n    eslint-config-airbnb: ^18.2.1 => 18.2.1 \r\n    eslint-plugin-import: ^2.24.2 => 2.24.2 (2.20.1)\r\n    eslint-plugin-jsx-a11y: ^6.4.1 => 6.4.1 (6.2.3)\r\n    eslint-plugin-react: ^7.24.0 => 7.24.0 (7.19.0)\r\n    eslint-plugin-react-hooks: ^1.7.0 => 1.7.0 \r\n    ignore-scripts:  undefined ()\r\n    jsonc: ^2.0.0 => 2.0.0 \r\n    jsonpack: ^1.1.5 => 1.1.5 \r\n    local-file:  undefined ()\r\n    lzwcompress: ^1.1.0 => 1.1.0 \r\n    md5: ^2.3.0 => 2.3.0 \r\n    memo-parser:  undefined (0.2.1)\r\n    moment: ^2.29.1 => 2.29.1 \r\n    plotly.js: ^1.54.6 => 1.58.5 \r\n    plotly.js-dist: ^1.54.6 => 1.58.5 \r\n    postinstall: ~0.7.0 => 0.7.3 \r\n    react: ^16.13.1 => 16.14.0 \r\n    react-bootstrap: ^1.5.2 => 1.6.1 \r\n    react-bootstrap-icons: ^1.5.0 => 1.5.0 \r\n    react-bootstrap/AbstractNav:  undefined ()\r\n    react-bootstrap/AbstractNavItem:  undefined ()\r\n    react-bootstrap/Accordion:  undefined ()\r\n    react-bootstrap/AccordionCollapse:  undefined ()\r\n    react-bootstrap/AccordionContext:  undefined ()\r\n    react-bootstrap/AccordionToggle:  undefined ()\r\n    react-bootstrap/Alert:  undefined ()\r\n    react-bootstrap/Badge:  undefined ()\r\n    react-bootstrap/BootstrapModalManager:  undefined ()\r\n    react-bootstrap/Breadcrumb:  undefined ()\r\n    react-bootstrap/BreadcrumbItem:  undefined ()\r\n    react-bootstrap/Button:  undefined ()\r\n    react-bootstrap/ButtonGroup:  undefined ()\r\n    react-bootstrap/ButtonToolbar:  undefined ()\r\n    react-bootstrap/Card:  undefined ()\r\n    react-bootstrap/CardColumns:  undefined ()\r\n    react-bootstrap/CardContext:  undefined ()\r\n    react-bootstrap/CardDeck:  undefined ()\r\n    react-bootstrap/CardGroup:  undefined ()\r\n    react-bootstrap/CardImg:  undefined ()\r\n    react-bootstrap/Carousel:  undefined ()\r\n    react-bootstrap/CarouselCaption:  undefined ()\r\n    react-bootstrap/CarouselItem:  undefined ()\r\n    react-bootstrap/CloseButton:  undefined ()\r\n    react-bootstrap/Col:  undefined ()\r\n    react-bootstrap/Collapse:  undefined ()\r\n    react-bootstrap/Container:  undefined ()\r\n    react-bootstrap/Dropdown:  undefined ()\r\n    react-bootstrap/DropdownButton:  undefined ()\r\n    react-bootstrap/DropdownItem:  undefined ()\r\n    react-bootstrap/DropdownMenu:  undefined ()\r\n    react-bootstrap/DropdownToggle:  undefined ()\r\n    react-bootstrap/ElementChildren:  undefined ()\r\n    react-bootstrap/Fade:  undefined ()\r\n    react-bootstrap/Feedback:  undefined ()\r\n    react-bootstrap/Figure:  undefined ()\r\n    react-bootstrap/FigureCaption:  undefined ()\r\n    react-bootstrap/FigureImage:  undefined ()\r\n    react-bootstrap/Form:  undefined ()\r\n    react-bootstrap/FormCheck:  undefined ()\r\n    react-bootstrap/FormCheckInput:  undefined ()\r\n    react-bootstrap/FormCheckLabel:  undefined ()\r\n    react-bootstrap/FormContext:  undefined ()\r\n    react-bootstrap/FormControl:  undefined ()\r\n    react-bootstrap/FormFile:  undefined ()\r\n    react-bootstrap/FormFileInput:  undefined ()\r\n    react-bootstrap/FormFileLabel:  undefined ()\r\n    react-bootstrap/FormGroup:  undefined ()\r\n    react-bootstrap/FormLabel:  undefined ()\r\n    react-bootstrap/FormText:  undefined ()\r\n    react-bootstrap/Image:  undefined ()\r\n    react-bootstrap/InputGroup:  undefined ()\r\n    react-bootstrap/Jumbotron:  undefined ()\r\n    react-bootstrap/ListGroup:  undefined ()\r\n    react-bootstrap/ListGroupItem:  undefined ()\r\n    react-bootstrap/Media:  undefined ()\r\n    react-bootstrap/Modal:  undefined ()\r\n    react-bootstrap/ModalBody:  undefined ()\r\n    react-bootstrap/ModalContext:  undefined ()\r\n    react-bootstrap/ModalDialog:  undefined ()\r\n    react-bootstrap/ModalFooter:  undefined ()\r\n    react-bootstrap/ModalHeader:  undefined ()\r\n    react-bootstrap/ModalTitle:  undefined ()\r\n    react-bootstrap/Nav:  undefined ()\r\n    react-bootstrap/NavContext:  undefined ()\r\n    react-bootstrap/NavDropdown:  undefined ()\r\n    react-bootstrap/NavItem:  undefined ()\r\n    react-bootstrap/NavLink:  undefined ()\r\n    react-bootstrap/Navbar:  undefined ()\r\n    react-bootstrap/NavbarBrand:  undefined ()\r\n    react-bootstrap/NavbarCollapse:  undefined ()\r\n    react-bootstrap/NavbarContext:  undefined ()\r\n    react-bootstrap/NavbarToggle:  undefined ()\r\n    react-bootstrap/Overlay:  undefined ()\r\n    react-bootstrap/OverlayTrigger:  undefined ()\r\n    react-bootstrap/PageItem:  undefined ()\r\n    react-bootstrap/Pagination:  undefined ()\r\n    react-bootstrap/Popover:  undefined ()\r\n    react-bootstrap/PopoverContent:  undefined ()\r\n    react-bootstrap/PopoverTitle:  undefined ()\r\n    react-bootstrap/ProgressBar:  undefined ()\r\n    react-bootstrap/ResponsiveEmbed:  undefined ()\r\n    react-bootstrap/Row:  undefined ()\r\n    react-bootstrap/SafeAnchor:  undefined ()\r\n    react-bootstrap/SelectableContext:  undefined ()\r\n    react-bootstrap/Spinner:  undefined ()\r\n    react-bootstrap/SplitButton:  undefined ()\r\n    react-bootstrap/Switch:  undefined ()\r\n    react-bootstrap/Tab:  undefined ()\r\n    react-bootstrap/TabContainer:  undefined ()\r\n    react-bootstrap/TabContent:  undefined ()\r\n    react-bootstrap/TabContext:  undefined ()\r\n    react-bootstrap/TabPane:  undefined ()\r\n    react-bootstrap/Table:  undefined ()\r\n    react-bootstrap/Tabs:  undefined ()\r\n    react-bootstrap/ThemeProvider:  undefined ()\r\n    react-bootstrap/Toast:  undefined ()\r\n    react-bootstrap/ToastBody:  undefined ()\r\n    react-bootstrap/ToastContext:  undefined ()\r\n    react-bootstrap/ToastHeader:  undefined ()\r\n    react-bootstrap/ToggleButton:  undefined ()\r\n    react-bootstrap/ToggleButtonGroup:  undefined ()\r\n    react-bootstrap/Tooltip:  undefined ()\r\n    react-bootstrap/createChainedFunction:  undefined ()\r\n    react-bootstrap/createWithBsPrefix:  undefined ()\r\n    react-bootstrap/divWithClassName:  undefined ()\r\n    react-bootstrap/helpers:  undefined ()\r\n    react-bootstrap/transitionEndListener:  undefined ()\r\n    react-bootstrap/triggerBrowserReflow:  undefined ()\r\n    react-bootstrap/types:  undefined ()\r\n    react-bootstrap/usePopperMarginModifiers:  undefined ()\r\n    react-bootstrap/useWrappedRefWithWarning:  undefined ()\r\n    react-dom: ^16.13.1 => 16.14.0 \r\n    react-dropzone: ^11.3.4 => 11.3.4 \r\n    react-dropzone-uploader: ^2.11.0 => 2.11.0 \r\n    react-export-excel: github:danlherman/react-export-excel#master => 0.5.3 \r\n    react-icons: ^4.2.0 => 4.2.0 \r\n    react-idle-timer: ^4.6.4 => 4.6.4 \r\n    react-local-store: ^3.0.2 => 3.0.2 \r\n    react-phone-number-input: ^3.1.35 => 3.1.35 \r\n    react-phone-number-input-core:  1.0.0 \r\n    react-phone-number-input-flags:  1.0.0 \r\n    react-phone-number-input-input-core:  1.0.0 \r\n    react-phone-number-input-input-max:  1.0.0 \r\n    react-phone-number-input-input-min:  1.0.0 \r\n    react-phone-number-input-input-mobile:  1.0.0 \r\n    react-phone-number-input-max:  1.0.0 \r\n    react-phone-number-input-min:  1.0.0 \r\n    react-phone-number-input-mobile:  1.0.0 \r\n    react-phone-number-input/react-hook-form:  1.0.0 \r\n    react-phone-number-input/react-hook-form-core:  1.0.0 \r\n    react-phone-number-input/react-hook-form-input:  1.0.0 \r\n    react-phone-number-input/react-hook-form-input-core:  1.0.0 \r\n    react-phone-number-input/react-native-input:  1.0.0 \r\n    react-plotly.js: ^2.5.1 => 2.5.1 \r\n    react-router-bootstrap: ^0.25.0 => 0.25.0 \r\n    react-router-dom: ^5.1.2 => 5.2.0 \r\n    react-scripts: 3.4.1 => 3.4.1 \r\n    react-simple-tooltip: ^2.6.1 => 2.6.3 \r\n    react-sticky-footer: 0.1.0-rc3 => 0.1.0-rc3 \r\n    react-use-localstorage: ^3.5.3 => 3.5.3 \r\n    reactjs-localstorage: ^1.0.1 => 1.0.1 \r\n    sample:  1.0.0 \r\n    sass: ~1.32.0 => 1.32.13 \r\n    scoped-dep-file:  undefined ()\r\n    throw:  undefined ()\r\n    uuid: ^3.4.0 => 3.4.0 (3.3.2, 8.3.2)\r\n    whitelist:  undefined ()\r\n  npmGlobalPackages:\r\n    license-checker: 25.0.1\r\n    playwright: 1.15.0\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nThis bug has been crushing me for days before I felt the need to post this, but I've exhausted everything I can imagine.\r\n\r\nI'm using all the default UI components for sign in/signup etc and using cognito for users. \r\nI need to determine when a sign in occurs via submitting the login form rather than refreshing the session. onAuthUIStateChange fires indistinguishably for both, and the only way I've been able to differentiate is from the handleSubmit override on the AmplifySignIn component. That said, if I **create a new user in cognito, it requires a password change on first login. Calling Auth.signin does not trigger the state change in this case. With no handlesubmit override provided, it does fire the state change with a state of resettingpassword, and the UI changes to reflect that**. It also works as expected when no challenges are present. I believe this to be a bug, but also highly appreciate any workarounds in the mean time. \r\n\r\n\r\n### Expected behavior\r\n\r\nI expect that Auth.signIn would trigger the UI component's state change the same way that the default sign in does (no handleSubmit property), regardless of the presence of password/email challenges. \r\n\r\n### Reproduction steps\r\n\r\n1. Create a cognito user, or set an existing one to force_change_password\r\n2. Implement a handleSubmit function using Auth.signIn\r\n3. Attempt to login with that user using out of the box Amplify components with handleSubmit function set\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n<AmplifyAuthContainer>\r\n      <AmplifyAuthenticator initialAuthState={AuthState.SignIn}>\r\n        <AmplifySignIn\r\n          hideSignUp\r\n          slot=\"sign-in\"\r\n          usernameAlias=\"email\"\r\n          handleSubmit={async(e)=> {\r\n            e.preventDefault();\r\n            const formData = new FormData(e.target);\r\n            const formValues = Object.fromEntries(formData);\r\n            const res = await Auth.signIn(formValues.email, formValues.password).catch((err) => console.log(err))\r\n            console.log(res);\r\n            if(res) {\r\n              setHasLoggedIn(true);\r\n            }\r\n            return res\r\n          }}\r\n        />\r\n      </AmplifyAuthenticator>\r\n    </AmplifyAuthContainer>\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\nwithout handleSubmit, onAuthUIStateChange logs\r\n\r\nnextAuthState: resettingpassword, AuthData: CognitoUser{...}\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\nThe network response when there is a challenge:\r\n```{ChallengeName:NEW_PASSWORD_REQUIRED,ChallengeParameters:{requiredAttributes:[],userAttributes:{\\email_verified\\:\\true\\,\\email\\:\\xxx@xxx.xxx\\}},Session:AYABeOhNfgLuKmA9I5R-MZtT97sAHQABAAdTZXJ2aWNlABBDb2duaXRvVXNlclBvb2xzAAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLWVhc3QtMTo3NDU2MjM0Njc1NTU6a2V5L2IxNTVhZmNhLWJmMjktNGVlZC1hZmQ4LWE5ZTA5MzY1M2RiZQC4AQIBAHiAcAt7Ei832QLLvv5tnR-fAKEzaf-OMDg-j1aLh6qMVAHwKEp9Gc9aBjKEBJzi1PddAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMZ5C6nYpWwi8fJzalAgEQgDuuIeGJnGR9-wpSq98vEZ_ueLRQTE6ixpfijT8nSl_wJcKOQm6Mg1_3cXGjElwGVtHx_2rsrEUxnXHCHwIAAAAADAAAEAAAAAAAAAAAAAAAAACzsA-XvcIN8nrqLyuFR2qp_____wAAAAEAAAAAAAAAAAAAAAEAAADVA8wd7hZRb_0uexs_EZp3o-3khaIZ1p6G9VTlFrzTT6iT_vOkbD3Rbms2rLEKy5PU_9pvfozL9a8AoMYV1lwbmjvvQUVXmdzEqGLcGEKPw7vl4j24z5DHQJlzciDrM5o3zT-I_nKnxeHJZYij8mmgQXSV1oHbLbA-0DQ4576GDYa9oq2Yo-MBuUs-jwMgyKg3vS_Pl5xNOamtQ_l1buZQmk5s73nCXHE9ORzmlAsrrGjFLucAsDe2LcG5lFDkDzEeSSBKf2bloqBAj_qY2by5SDYthc5PA7YK-58AbGC1Nx5cDjIeMQ}```",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9371/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9370",
    "id": 1082690034,
    "node_id": "PR_kwDOBkswNc4v-XkP",
    "number": 9370,
    "title": "fix(@aws-amplify/api-auth): prevent redirect if Oauth callback is unregistered",
    "user": {
      "login": "hkjpotato",
      "id": 9324418,
      "node_id": "MDQ6VXNlcjkzMjQ0MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9324418?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hkjpotato",
      "html_url": "https://github.com/hkjpotato",
      "followers_url": "https://api.github.com/users/hkjpotato/followers",
      "following_url": "https://api.github.com/users/hkjpotato/following{/other_user}",
      "gists_url": "https://api.github.com/users/hkjpotato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hkjpotato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hkjpotato/subscriptions",
      "organizations_url": "https://api.github.com/users/hkjpotato/orgs",
      "repos_url": "https://api.github.com/users/hkjpotato/repos",
      "events_url": "https://api.github.com/users/hkjpotato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hkjpotato/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-12-16T22:17:06Z",
    "updated_at": "2022-01-11T02:06:19Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9370",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9370",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9370.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9370.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\nhttps://github.com/aws-amplify/amplify-js/issues/9208 describes a situation when a third party `code` parameter is passed back to the web app, under a sub route different than the \"redirect URL\" registered in Cognito. In this case, we should not consume the code and redirect back to root url blindly. \r\n\r\nInstead, we should allow the customer to consume that third party code by him/herself.\r\n\r\nAlthough this issue is introduced after the change in https://github.com/aws-amplify/amplify-js/pull/8166 (the change is to always redirect back to root, even an error occurs), A careful look reveals that:\r\n1. Instead of reverting it, we should detect if the error is caused by an unregistered callback, if so, avoid redirecting.\r\n2. The current solution expects such a \"contract\" from the `_handleCodeFlow` function:\r\n   - If the input `code` is empty, return silently (this remains the same as the current behavior, to avoid unexpected effects).\r\n   - Yet if the input URL is not the registered one, throw an explicit error.\r\n\r\nThrowing an error at `_handleCodeFlow` function is essential, as it can help skip https://github.com/aws-amplify/amplify-js/blob/main/packages/auth/src/Auth.ts#L2062-L2078. If it is not skipped, it will attempt to set a session with the return tokens (even they are empty), and thus makes a failure call to the identity pool to fetch credentials:\r\n\r\n![Screen Shot 2021-12-16 at 5 05 26 PM](https://user-images.githubusercontent.com/9324418/146455932-ba10951f-a917-4cb4-8bff-9d6fc8dfe349.png)\r\n![Screen Shot 2021-12-16 at 5 05 50 PM](https://user-images.githubusercontent.com/9324418/146455939-dd687db5-0d3e-4bd0-ae94-f32d6c5c70ad.png)\r\n\r\nNone of the above steps should happen if the `code` parameter is attached to an unregistered callback path. Even eventually it will fail (with a network error), it is failing too late. The invalid url should be captured (by throwing error) at an earlier stage.\r\n\r\nI will do more test on React Native, due to related issues\r\nhttps://github.com/aws-amplify/amplify-js/issues/7468\r\nhttps://github.com/aws-amplify/amplify-js/pull/8198\r\n\r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\n9208\r\n\r\n\r\n#### Description of how you validated changes\r\nTBD\r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [ ] `yarn test` passes\r\n- [ ] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9370/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9366",
    "id": 1082417989,
    "node_id": "I_kwDOBkswNc5AhGNF",
    "number": 9366,
    "title": "Impossibility to sign-in when RamdomKeyPassword missing",
    "user": {
      "login": "LeJ84",
      "id": 60582912,
      "node_id": "MDQ6VXNlcjYwNTgyOTEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/60582912?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LeJ84",
      "html_url": "https://github.com/LeJ84",
      "followers_url": "https://api.github.com/users/LeJ84/followers",
      "following_url": "https://api.github.com/users/LeJ84/following{/other_user}",
      "gists_url": "https://api.github.com/users/LeJ84/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LeJ84/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LeJ84/subscriptions",
      "organizations_url": "https://api.github.com/users/LeJ84/orgs",
      "repos_url": "https://api.github.com/users/LeJ84/repos",
      "events_url": "https://api.github.com/users/LeJ84/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LeJ84/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188232669,
        "node_id": "MDU6TGFiZWwzMTg4MjMyNjY5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-response",
        "name": "pending-response",
        "color": "f477a5",
        "default": false,
        "description": "Issue is pending response from the issue requestor"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2021-12-16T16:39:05Z",
    "updated_at": "2021-12-23T18:55:00Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### JavaScript Framework\r\n\r\nNot applicable\r\n\r\n### Amplify APIs\r\n\r\nAuthentication\r\n\r\n### Amplify Categories\r\n\r\nauth\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\nSystem:\r\n    OS: Linux 5.13 Pop!_OS 21.04\r\n    CPU: (8) x64 11th Gen Intel(R) Core(TM) i7-1165G7 @ 2.80GHz\r\n    Memory: 429.96 MB / 15.36 GB\r\n    Container: Yes\r\n    Shell: 5.1.4 - /bin/bash\r\n  Binaries:\r\n    Node: 14.17.6 - /usr/bin/node\r\n    npm: 6.14.11 - ~/.local/bin/npm\r\n  Browsers:\r\n    Chrome: 94.0.4606.54\r\n    Firefox: 94.0\r\n  npmPackages:\r\n    @aws-amplify/ui-react: ^1.2.2 => 1.2.4 \r\n    @testing-library/jest-dom: ^5.14.1 => 5.14.1 \r\n    @testing-library/react: ^11.2.7 => 11.2.7 \r\n    @testing-library/user-event: ^12.8.3 => 12.8.3 \r\n    aws-amplify: ^4.1.0 => 4.1.2 \r\n    buffer: ^6.0.3 => 6.0.3 (4.9.2, 5.7.1)\r\n    classnames: ^2.3.1 => 2.3.1 \r\n    i18next: ^20.3.2 => 20.3.2 \r\n    i18next-browser-languagedetector: ^6.1.2 => 6.1.2 \r\n    jsonwebtoken: ^8.5.1 => 8.5.1 \r\n    node-sass: ^6.0.0 => 6.0.1 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-i18next: ^11.11.0 => 11.11.0 \r\n    react-router-dom: ^5.2.0 => 5.2.0 \r\n    react-scripts: 4.0.3 => 4.0.3 \r\n    web-vitals: ^1.1.2 => 1.1.2 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    amplify: 0.0.11\r\n    geckodriver: 2.0.2\r\n    npm: 6.14.11\r\n    selenium-side-runner: 3.17.0\r\n    serve: 12.0.0\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nImpossibility to sign in using amplify authenticator...Sign in method throwing and error.\r\n\r\n### Expected behavior\r\n\r\nWhen i sign-in with correct information to be logged without problem\r\n\r\n### Reproduction steps\r\n\r\n1 - Log in your application with amplify authenticator\r\n2 - Logout\r\n3 - Delete only the RamdomPasswordKey from the localStorage\r\n4 - You can't sign-in anymore   \r\n\r\n### Additional information and screenshots\r\n\r\nThis case looks pretty weird and rare but quite annoying to encounter. Perhaps, some little condition can fix it without too much trouble.  ",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9366/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9362",
    "id": 1080918178,
    "node_id": "I_kwDOBkswNc5AbYCi",
    "number": 9362,
    "title": "Support for remix.run",
    "user": {
      "login": "gertjvr",
      "id": 1691062,
      "node_id": "MDQ6VXNlcjE2OTEwNjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1691062?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gertjvr",
      "html_url": "https://github.com/gertjvr",
      "followers_url": "https://api.github.com/users/gertjvr/followers",
      "following_url": "https://api.github.com/users/gertjvr/following{/other_user}",
      "gists_url": "https://api.github.com/users/gertjvr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gertjvr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gertjvr/subscriptions",
      "organizations_url": "https://api.github.com/users/gertjvr/orgs",
      "repos_url": "https://api.github.com/users/gertjvr/repos",
      "events_url": "https://api.github.com/users/gertjvr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gertjvr/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993530,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MzA=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/good%20first%20issue",
        "name": "good first issue",
        "color": "7057ff",
        "default": true,
        "description": "Good for newcomers"
      },
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 3188230713,
        "node_id": "MDU6TGFiZWwzMTg4MjMwNzEz",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/open-for-contribution",
        "name": "open-for-contribution",
        "color": "a6449f",
        "default": false,
        "description": "Good for contributors"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 8,
    "created_at": "2021-12-15T11:22:04Z",
    "updated_at": "2022-02-11T09:03:56Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\r\n\r\nNew framework - [remix.run](https://remix.run/)\r\n\r\n### Is this related to a new or existing API?\r\n\r\nStorage\r\n\r\n### Is this related to another service?\r\n\r\nS3\r\n\r\n### Describe the feature you'd like to request\r\n\r\nWas able to integrate the Auth section with no issue, but was trying to integrate Storage in remix data loaders, but because amplify does not work in a simple node process as described in [#5504](https://github.com/aws-amplify/amplify-js/issues/5504) this isn't possible. I see there is lots of support for nextjs, this will give your end users another choice in regards to ssr frameworks. \r\n\r\n### Describe the solution you'd like\r\n\r\nBe able to use the Storage service in a node process.\r\n\r\n### Describe alternatives you've considered\r\n\r\nThe only alternative is re-implement amplify into my own lib to use the same techniques of isolating user data in s3 buckets and folders.\r\n\r\n### Additional context\r\n\r\n_No response_\r\n\r\n### Is this something that you'd be interested in working on?\r\n\r\n- [ ]  I may be able to implement this feature request\r\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362/reactions",
      "total_count": 16,
      "+1": 16,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9362/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9361",
    "id": 1080857289,
    "node_id": "I_kwDOBkswNc5AbJLJ",
    "number": 9361,
    "title": "AWS cognito Auth, state parameter to very long so it exceed maximum limit of Get request. Can we reduce size of state parameter",
    "user": {
      "login": "irfanbabar15",
      "id": 61784338,
      "node_id": "MDQ6VXNlcjYxNzg0MzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/61784338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/irfanbabar15",
      "html_url": "https://github.com/irfanbabar15",
      "followers_url": "https://api.github.com/users/irfanbabar15/followers",
      "following_url": "https://api.github.com/users/irfanbabar15/following{/other_user}",
      "gists_url": "https://api.github.com/users/irfanbabar15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/irfanbabar15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/irfanbabar15/subscriptions",
      "organizations_url": "https://api.github.com/users/irfanbabar15/orgs",
      "repos_url": "https://api.github.com/users/irfanbabar15/repos",
      "events_url": "https://api.github.com/users/irfanbabar15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/irfanbabar15/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 881545386,
        "node_id": "MDU6TGFiZWw4ODE1NDUzODY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Cognito",
        "name": "Cognito",
        "color": "006b75",
        "default": false,
        "description": "Related to cognito issues"
      },
      {
        "id": 1270272334,
        "node_id": "MDU6TGFiZWwxMjcwMjcyMzM0",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Service%20Team",
        "name": "Service Team",
        "color": "bfdadc",
        "default": false,
        "description": "Issues asked to the Service Team"
      },
      {
        "id": 1510383398,
        "node_id": "MDU6TGFiZWwxNTEwMzgzMzk4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/OAuth",
        "name": "OAuth",
        "color": "1d76db",
        "default": false,
        "description": "For issues related to OAuth"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 6,
    "created_at": "2021-12-15T10:25:39Z",
    "updated_at": "2022-02-10T15:38:35Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nAngular\n\n### Amplify APIs\n\nAuthentication, GraphQL API\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\nnpx: installed 1 in 2.595s\r\n\r\n  System:\r\n    OS: Windows 10 10.0.19042\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n    Memory: 2.64 GB / 15.84 GB\r\n  Binaries:\r\n    Node: 14.15.4 - C:\\Program Files\\nodejs\\node.EXE\r\n    npm: 6.14.10 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.53)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmPackages:\r\n    @angular-devkit/build-angular: ~0.1100.1 => 0.1100.7\r\n    @angular-eslint/builder: 0.8.0-beta.0 => 0.8.0-beta.0\r\n    @angular-eslint/eslint-plugin: 0.8.0-beta.0 => 0.8.0-beta.0\r\n    @angular-eslint/eslint-plugin-template: 0.8.0-beta.0 => 0.8.0-beta.0\r\n    @angular-eslint/template-parser: 0.8.0-beta.0 => 0.8.0-beta.0\r\n    @angular/animations: 11.2.14 => 11.2.14\r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cdk: ^11.0.0 => 11.2.13\r\n    @angular/cdk/a11y:  undefined ()\r\n    @angular/cdk/accordion:  undefined ()\r\n    @angular/cdk/bidi:  undefined ()\r\n    @angular/cdk/clipboard:  undefined ()\r\n    @angular/cdk/coercion:  undefined ()\r\n    @angular/cdk/collections:  undefined ()\r\n    @angular/cdk/drag-drop:  undefined ()\r\n    @angular/cdk/keycodes:  undefined ()\r\n    @angular/cdk/layout:  undefined ()\r\n    @angular/cdk/observers:  undefined ()\r\n    @angular/cdk/overlay:  undefined ()\r\n    @angular/cdk/platform:  undefined ()\r\n    @angular/cdk/portal:  undefined ()\r\n    @angular/cdk/scrolling:  undefined ()\r\n    @angular/cdk/stepper:  undefined ()\r\n    @angular/cdk/table:  undefined ()\r\n    @angular/cdk/testing:  undefined ()\r\n    @angular/cdk/testing/protractor:  undefined ()\r\n    @angular/cdk/testing/testbed:  undefined ()\r\n    @angular/cdk/text-field:  undefined ()\r\n    @angular/cdk/tree:  undefined ()\r\n    @angular/cli: ^11.1.1 => 11.2.14\r\n    @angular/common: 11.2.14 => 11.2.14\r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: 11.2.14 => 11.2.14 (9.0.0)\r\n    @angular/compiler-cli: ^11.0.0 => 11.2.14\r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: 11.2.14 => 11.2.14 (9.0.0)\r\n    @angular/core/testing:  undefined ()\r\n    @angular/forms: 11.2.14 => 11.2.14\r\n    @angular/language-service: ^11.0.0 => 11.2.14\r\n    @angular/localize: ^11.0.0 => 11.2.14\r\n    @angular/localize/init:  undefined ()\r\n    @angular/platform-browser: 11.2.14 => 11.2.14\r\n    @angular/platform-browser-dynamic: 11.2.14 => 11.2.14\r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: 11.2.14 => 11.2.14\r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @ng-bootstrap/ng-bootstrap: ^8.0.0 => 8.0.4\r\n    @ng-select/ng-select: ^5.0.8 => 5.1.0\r\n    @types/d3: ^6.1.0 => 6.7.0 (3.5.38)\r\n    @types/file-saver: ^2.0.1 => 2.0.2\r\n    @types/jasmine: ^3.6.1 => 3.7.7\r\n    @types/jasminewd2: ^2.0.8 => 2.0.9\r\n    @types/node: ^14.14.7 => 14.17.3\r\n    @types/papaparse: ^5.2.4 => 5.2.5\r\n    @types/uuid: ^8.3.0 => 8.3.0\r\n    @types/xml2js: ^0.4.6 => 0.4.8\r\n    @typescript-eslint/eslint-plugin: ^4.7.0 => 4.26.1\r\n    @typescript-eslint/eslint-plugin-tslint: ^4.7.0 => 4.26.1\r\n    @typescript-eslint/parser: ^4.7.0 => 4.26.1\r\n    acorn: ^8.0.4 => 8.3.0 (6.4.2, 7.4.1)\r\n    aws-amplify: ^4.2.9 => 4.2.9\r\n    aws-sdk: ^2.832.0 => 2.925.0\r\n    bootstrap: ^4.5.3 => 4.6.0\r\n    buffer: ^6.0.3 => 6.0.3 (4.9.2, 5.7.1)\r\n    cache: ^2.3.1 => 2.3.1 (1.1.2)\r\n    clean: ^4.0.2 => 4.0.2\r\n    codelyzer: ^6.0.1 => 6.0.2\r\n    core-js: ^3.8.0 => 3.14.0 (3.6.5, 2.6.12)\r\n    css-loader: ^5.0.1 => 5.2.6 (4.3.0)\r\n    d3: ^7.0.0 => 3.2.2 (7.0.0, 3.5.17)\r\n    datamaps: ^0.5.9 => 0.5.9\r\n    dotenv: ^8.2.0 => 8.6.0\r\n    eslint: ^7.13.0 => 7.28.0\r\n    eslint-config-prettier: ^6.15.0 => 6.15.0\r\n    eslint-plugin-prettier: ^3.1.4 => 3.4.0\r\n    example-typescript:  1.0.0\r\n    exceljs: ^4.2.1 => 4.2.1\r\n    extract-loader: ^5.1.0 => 5.1.0\r\n    file-saver: ^2.0.5 => 2.0.5\r\n    generate-password: ^1.5.1 => 1.6.0\r\n    gremlin: ^3.4.8 => 3.5.0\r\n    html-webpack-inline-source-plugin: 0.0.10 => 0.0.10\r\n    html-webpack-plugin: ^4.5.0 => 4.5.2\r\n    jasmine-core: ~3.6.0 => 3.6.0 (2.8.0)\r\n    jasmine-spec-reporter: ~6.0.0 => 6.0.0\r\n    jstat: ^1.9.5 => 1.9.5\r\n    jszip: ^3.7.0 => 3.7.0\r\n    lib:  0.0.1\r\n    mini-css-extract-plugin: ^1.3.1 => 1.6.0 (1.2.1)\r\n    moment: ^2.29.1 => 2.29.1\r\n    ng-recaptcha: ^6.0.2 => 6.1.0\r\n    ng2-file-upload: ^1.4.0 => 1.4.0\r\n    ng2-search-filter: ^0.5.1 => 0.5.1\r\n    ngx-logger: ^4.1.9 => 4.2.2\r\n    ngx-logger/testing:  undefined ()\r\n    ngx-pagination: ^5.0.0 => 5.1.1\r\n    ngx-toastr: ^14.0.0 => 14.0.0\r\n    ngx-ui-loader: ^10.0.0 => 10.0.0\r\n    ngx-virtual-scroller: ^4.0.3 => 4.0.3\r\n    node-example:  1.0.0\r\n    nodemailer: ^6.4.16 => 6.6.1\r\n    npm-force-resolutions: 0.0.3 => 0.0.3\r\n    papaparse: ^5.3.0 => 5.3.1\r\n    parse-domain: ^3.0.3 => 3.0.3\r\n    pluralize: ^8.0.0 => 8.0.0\r\n    postcss: ^8.2.10 => 8.3.1 (7.0.32, 7.0.36, 7.0.21)\r\n    prettier: ^2.1.2 => 2.3.1\r\n    protractor: ^7.0.0 => 7.0.0\r\n    protractor-example:  1.0.0\r\n    rxjs: ^6.6.3 => 6.6.7 (6.6.3)\r\n    rxjs-compat: ^6.6.3 => 6.6.7\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    stream: 0.0.2 => 0.0.2\r\n    timers: ^0.1.1 => 0.1.1\r\n    topojson:  1.1.3\r\n    tslib: ^2.0.3 => 2.2.0 (1.14.1, 2.0.3, 2.3.1)\r\n    typescript: 4.0.7 => 4.0.7 (4.0.5)\r\n    typescript-example:  1.0.0\r\n    uuid: ^8.3.1 => 8.3.2 (3.4.0, 3.3.2)\r\n    webpack: ^4.0.0 => 4.46.0 (4.44.2)\r\n    xlsx: ^0.17.0 => 0.17.0\r\n    xml2js: ^0.4.23 => 0.4.23 (0.4.19)\r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.3 => 0.11.4 (0.10.3)\r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    @angular/cli: 12.2.1\r\n    @aws-amplify/cli: 7.4.0\r\n    express-generator: 4.16.1\r\n    shelljs: 0.8.4\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI have configure aws cognito with azure active directory (SSO) using openId, when I login to azure portal with user (@outlook.com/@gmail.com), and then try to login into my application, it success login my user into my app.\r\nBut if I logout from azure portal, and try to login into my app using SSO. it show me email address field, so I fill email address. After that instead of showing me password field, it shows me 404 error login.live not found.\r\n\r\nFirst I have goto microsoft community, after discussion, they told me I m sending state parameter which is very large and it exceed the GET request limit (2048). that why I getting not found issue. I verify it and indeed we are exceeding and found that aws-amplify pass state parameter when use Auth.federatedSignIn method.\r\n\r\nSo I try to send customState, small one i.e; '123', but I still showing very large State.\r\n\r\nIs there any way to reduce the size of state encoding ?\r\nI have been stuck for 4 days now.\r\nNeed help\n\n### Expected behavior\n\nUser should login into my app without first login into azure portal manually.\n\n### Reproduction steps\n\nCreate amplify project, setup azure with openId cognito. You can follow this link, there are alot of articles you can pick any.\r\n\r\nhttps://www.terminalbytes.com/azure-ad-integration-as-an-idp-with-aws-cognito/\r\n\r\n- You need to create guest user in azure and in your app with same email. then try to login into your application\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\nawait Auth.federatedSignIn({ provider: CognitoHostedUIIdentityProvider.Cognito, customState: '123' });\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n![not found issue](https://user-images.githubusercontent.com/61784338/146169372-41152b03-41c7-47e2-9db8-ace2927f061a.PNG)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9361/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9355",
    "id": 1078927075,
    "node_id": "I_kwDOBkswNc5ATx7j",
    "number": 9355,
    "title": "DataStore fails to update new records when using auth rules",
    "user": {
      "login": "josephskeller",
      "id": 1899408,
      "node_id": "MDQ6VXNlcjE4OTk0MDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1899408?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josephskeller",
      "html_url": "https://github.com/josephskeller",
      "followers_url": "https://api.github.com/users/josephskeller/followers",
      "following_url": "https://api.github.com/users/josephskeller/following{/other_user}",
      "gists_url": "https://api.github.com/users/josephskeller/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/josephskeller/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/josephskeller/subscriptions",
      "organizations_url": "https://api.github.com/users/josephskeller/orgs",
      "repos_url": "https://api.github.com/users/josephskeller/repos",
      "events_url": "https://api.github.com/users/josephskeller/events{/privacy}",
      "received_events_url": "https://api.github.com/users/josephskeller/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "iartemiev",
        "id": 29709626,
        "node_id": "MDQ6VXNlcjI5NzA5NjI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/29709626?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/iartemiev",
        "html_url": "https://github.com/iartemiev",
        "followers_url": "https://api.github.com/users/iartemiev/followers",
        "following_url": "https://api.github.com/users/iartemiev/following{/other_user}",
        "gists_url": "https://api.github.com/users/iartemiev/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/iartemiev/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/iartemiev/subscriptions",
        "organizations_url": "https://api.github.com/users/iartemiev/orgs",
        "repos_url": "https://api.github.com/users/iartemiev/repos",
        "events_url": "https://api.github.com/users/iartemiev/events{/privacy}",
        "received_events_url": "https://api.github.com/users/iartemiev/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 7,
    "created_at": "2021-12-13T19:50:22Z",
    "updated_at": "2022-01-20T15:36:57Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact\r\n\r\n### Amplify APIs\r\n\r\nAuthentication, DataStore\r\n\r\n### Amplify Categories\r\n\r\nauth, storage, api\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n  System:\r\n    OS: macOS 11.6.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 350.59 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 16.13.0 - ~/.nvm/versions/node/v16.13.0/bin/node\r\n    npm: 8.1.0 - ~/.nvm/versions/node/v16.13.0/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.93\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @aws-amplify/datastore: ^3.7.2 => 3.7.2 \r\n    @aws-amplify/ui-react: ^2.1.4 => 2.1.4 \r\n    @aws-amplify/ui-react-internal:  undefined ()\r\n    @aws-amplify/ui-react-legacy:  undefined ()\r\n    @testing-library/jest-dom: ^5.16.1 => 5.16.1 \r\n    @testing-library/react: ^11.2.7 => 11.2.7 \r\n    @testing-library/user-event: ^12.8.3 => 12.8.3 \r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    react: ^17.0.2 => 17.0.2 \r\n    react-dom: ^17.0.2 => 17.0.2 \r\n    react-scripts: 4.0.3 => 4.0.3 \r\n    web-vitals: ^1.1.2 => 1.1.2 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.3\r\n    corepack: 0.10.0\r\n    npm: 8.1.0\r\n```\r\n</details>\r\n\r\n### Describe the bug\r\n\r\nTrying to update a newly created record using **DataStore** fails when using a `@model` that has an `@auth` rule on it. \r\n\r\nThe `_version` and `_lastChangedAt` fields are `undefined` when an update is invoked immediately after creating a record (See **Reproduction steps** for an example.) As a result, **DataStore** emits the following warning when trying to update the `Todo` record and change it's name to `test`:\r\n```\r\n...\r\nerrorType: \"MappingTemplate\"\r\nlocalModel: Model {id: '42e47af8-54fc-4e78-9801-61c8bcbc2b0b', name: 'Test', _version: undefined, _lastChangedAt: undefined, _deleted: undefined}\r\nmessage: \"Value for field '$[_version]' must be a number.\"\r\noperation: \"Update\"\r\nremoteModel: null\r\n...\r\n```\r\n\r\nUpon refreshing the page, it becomes clear that the update was unsuccessful.  \r\n\r\n__This error does not occur when I am NOT using the `@auth` rule and `Amazon Cognito User Pool` with the `Todo` model.__\r\n\r\n### Expected behavior\r\n\r\nUpdate a record using `DataStore.save` on a newly created record should work when using `@auth` rules just like it works when not using `@auth` rules. \r\n\r\n### Reproduction steps\r\n\r\n1. Create new react application using `npx create-react-app datastore-example`.\r\n2. Setup local development environment by running `amplify init` and use the defaults.\r\n3. Add authentication with `Default configuration` and configure it to use a `Username` by running `amplify add auth`\r\n4. Add the DataStore\r\n    1. Run `amplify add api`\r\n    2. Select `GraphQL`\r\n    3. Change the `Authorization mode` to `Amazon Cognito User Pool`\r\n    4. Change `Conflict detection` to `Optimistic Concurrency`\r\n    5. Choose `Single object with fields (e.g., Todo with ID, name, description) ` template.\r\n    6. Update the `schema.graphql` file as follows:\r\n       ```graphql\r\n       type Todo @model @auth(rules: [{allow: owner }]) {\r\n       id: ID!\r\n       name: String!\r\n       description: String\r\n       }\r\n       ```\r\n5. Generate models by running `amplify codegen models`\r\n6. Push the changes by running `amplify push`\r\n    1. When asked `Do you want to generate code for your newly created GraphQL API` select `N` since we already\r\n       generated models in the previous step.\r\n7. Next install Amplify libraries by running `npm i aws-amplify @aws-amplify/ui-react @aws-amplify/datastore`\r\n8. Set up frontend by replacing the contents of **src/index.js** with:\r\n   ```jsx\r\n   import React from 'react';\r\n   import ReactDOM from 'react-dom';\r\n   import App from './App';\r\n   import Amplify from \"aws-amplify\";\r\n   import awsExports from \"./aws-exports\";\r\n   import '@aws-amplify/ui-react/styles.css';\r\n\r\n   Amplify.configure(awsExports);\r\n   \r\n   ReactDOM.render(\r\n        <App/>,\r\n        document.getElementById('root')\r\n   );\r\n   ```\r\n9. Also, replace the contents of **src/App.js** with:\r\n    ```jsx\r\n    import React, {useEffect, useState} from 'react';\r\n    import {Todo} from \"./models\";\r\n    import {DataStore} from \"@aws-amplify/datastore\";\r\n    import {withAuthenticator} from '@aws-amplify/ui-react'\r\n    \r\n    function App() {\r\n        const [name, setName] = useState('');\r\n        const [todos, setTodos] = useState([]);\r\n    \r\n        useEffect(() => {\r\n            function fetchData() {\r\n                DataStore.query(Todo).then((persistedTodos) => {\r\n                    setTodos(persistedTodos);\r\n                })\r\n            }\r\n            fetchData();\r\n    \r\n            const subscription = DataStore.observe(Todo).subscribe((value) => {\r\n                fetchData();\r\n            })\r\n            return () => subscription.unsubscribe();\r\n        }, []);\r\n    \r\n        async function addTodo() {\r\n            const initialTodo = await DataStore.save(new Todo({name: ''}));\r\n            console.log(\"initialTodo\", initialTodo);\r\n            let savedTodo = await DataStore.query(Todo, initialTodo.id);\r\n            console.log(\"savedTodo\", savedTodo);\r\n            if (savedTodo != null) {\r\n                let todoWithChanges = Todo.copyOf(savedTodo, draft => {\r\n                    draft.name = name\r\n                });\r\n                const updatedTodo = await DataStore.save(todoWithChanges);\r\n                console.log(\"updatedTodo\", updatedTodo);\r\n            }\r\n        }\r\n    \r\n        return (\r\n            <>\r\n                <ul>\r\n                    {todos.map(todo => (<li key={todo.id}>{todo.name} (id: {todo.id})</li>))}\r\n                </ul>\r\n                <input onChange={(e) => setName(e.target.value)} value={name}/>\r\n                <button onClick={addTodo}>Add</button>\r\n            </>\r\n        );\r\n    }\r\n    \r\n    export default withAuthenticator(App);\r\n    ```\r\n10. Use `npm run start` to run the application.\r\n11. Create an account and complete the signin process.\r\n12. Open the browser development tools and view the console output\r\n13. Attempt to create a new todo\r\n14. Notice the warning message in the console stating that `\"Value for field '$[_version]' must be a number.\"`. If you refresh the page, you'll notice that the update to the name of the todo was not saved.\r\n\r\n\r\n### Code Snippet\r\n\r\n*See **Reproduction steps** for a complete sample.*\r\n\r\nThe following should work when using an `@auth` rule but it doesn't. If an `@auth` rule is not used, it works fine.\r\n\r\n```javascript\r\nconst name = 'Test';\r\nconst initialTodo = await DataStore.save(new Todo({name: ''}));\r\nlet savedTodo = await DataStore.query(Todo, initialTodo.id);\r\nif (savedTodo != null) {\r\n    let todoWithChanges = Todo.copyOf(savedTodo, draft => {\r\n        draft.name = name\r\n    });\r\n    const updatedTodo = await DataStore.save(todoWithChanges);\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9355/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9350",
    "id": 1077835128,
    "node_id": "I_kwDOBkswNc5APnV4",
    "number": 9350,
    "title": "Remove node build-ins.",
    "user": {
      "login": "ivands",
      "id": 1653057,
      "node_id": "MDQ6VXNlcjE2NTMwNTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1653057?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivands",
      "html_url": "https://github.com/ivands",
      "followers_url": "https://api.github.com/users/ivands/followers",
      "following_url": "https://api.github.com/users/ivands/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivands/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivands/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivands/subscriptions",
      "organizations_url": "https://api.github.com/users/ivands/orgs",
      "repos_url": "https://api.github.com/users/ivands/repos",
      "events_url": "https://api.github.com/users/ivands/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivands/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-12-12T15:30:49Z",
    "updated_at": "2022-01-04T04:17:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\r\n\r\nNew framework\r\n\r\n### Is this related to a new or existing API?\r\n\r\nAuthentication\r\n\r\n### Describe the feature you'd like to request\r\n\r\nTrying to use amplify is a pain right now because for some reason it uses node build-in libraries while it is supposed to work in the browser.\r\nThe next generation of build tools (like vite) don't include node's build-in libraries anymore.\r\nAmplify should stop using them and migrate.\r\n\r\n### Describe the solution you'd like\r\n\r\nStop using node build-in libraries\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9350/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9346",
    "id": 1076963806,
    "node_id": "I_kwDOBkswNc5AMSne",
    "number": 9346,
    "title": "Storage.get() url expires earlier than established",
    "user": {
      "login": "pptavozl",
      "id": 7065779,
      "node_id": "MDQ6VXNlcjcwNjU3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7065779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pptavozl",
      "html_url": "https://github.com/pptavozl",
      "followers_url": "https://api.github.com/users/pptavozl/followers",
      "following_url": "https://api.github.com/users/pptavozl/following{/other_user}",
      "gists_url": "https://api.github.com/users/pptavozl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pptavozl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pptavozl/subscriptions",
      "organizations_url": "https://api.github.com/users/pptavozl/orgs",
      "repos_url": "https://api.github.com/users/pptavozl/repos",
      "events_url": "https://api.github.com/users/pptavozl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pptavozl/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993530,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MzA=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/good%20first%20issue",
        "name": "good first issue",
        "color": "7057ff",
        "default": true,
        "description": "Good for newcomers"
      },
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-12-10T15:27:49Z",
    "updated_at": "2021-12-17T05:23:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nStorage\n\n### Amplify Categories\n\nstorage\n\n### Environment information\n\n<details>\r\n\r\n```\r\n\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 158.28 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\r\n    npm: 8.1.1 - ~/.nvm/versions/node/v14.18.1/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.93\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @sveltejs/adapter-static: ^1.0.0-next.21 => 1.0.0-next.21 \r\n    @sveltejs/kit: v1.0.0-next.201 => 1.0.0-next.201 \r\n    aws-amplify: ^4.3.8 => 4.3.8 \r\n    axios: ^0.24.0 => 0.24.0 (0.21.4)\r\n    firebase: ^9.5.0 => 9.5.0 \r\n    firebase/analytics:  undefined ()\r\n    firebase/app:  undefined ()\r\n    firebase/app-check:  undefined ()\r\n    firebase/auth:  undefined ()\r\n    firebase/auth/cordova:  undefined ()\r\n    firebase/auth/react-native:  undefined ()\r\n    firebase/compat:  undefined ()\r\n    firebase/compat/analytics:  undefined ()\r\n    firebase/compat/app:  undefined ()\r\n    firebase/compat/app-check:  undefined ()\r\n    firebase/compat/auth:  undefined ()\r\n    firebase/compat/database:  undefined ()\r\n    firebase/compat/firestore:  undefined ()\r\n    firebase/compat/functions:  undefined ()\r\n    firebase/compat/messaging:  undefined ()\r\n    firebase/compat/performance:  undefined ()\r\n    firebase/compat/remote-config:  undefined ()\r\n    firebase/compat/storage:  undefined ()\r\n    firebase/database:  undefined ()\r\n    firebase/firestore:  undefined ()\r\n    firebase/firestore/lite:  undefined ()\r\n    firebase/functions:  undefined ()\r\n    firebase/messaging:  undefined ()\r\n    firebase/messaging/sw:  undefined ()\r\n    firebase/performance:  undefined ()\r\n    firebase/remote-config:  undefined ()\r\n    firebase/storage:  undefined ()\r\n    svelte: ^3.44.0 => 3.44.2 \r\n    sveltestrap: ^5.6.3 => 5.6.3 \r\n    ~TODO~:  0.0.1 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    aws-cli: 0.0.2\r\n    firebase-tools: 9.23.0\r\n    npm: 8.1.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen i generate url with Storage.get and I established expiration at 680400, url expires earlier, sometimes in hours\r\n\r\nexample signed url obtained:\r\n```\r\nhttps://viozon-storage-d19ugirv7c9inm182828-dev.s3.us-east-1.amazonaws.com/public/usuarios-1d8b6107-e518-498c-bcf3-459064d80dd1?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAVDNEQ3XVMEQSC5DN%2F20211210%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20211210T151410Z&X-Amz-Expires=604800&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBgaCXVzLWVhc3QtMSJHMEUCIQDi3In6cRrIaWhODHc%2FUj4R9FGZKSVnFfXEc9ZGZgHkPAIgZ05waAr3OckW4nUsXz7rYMqpZ2YZJMw7tYtH9%2BdmQL4qzQQI8P%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgwzNTA5MjE3NDM4NTAiDIaCS1ljb06ZcMeE2CqhBHgk5eOfzolDX7hJz4nU8Ddg0ooe%2BMFDB1FrBoOCqhnPv0ITZwyAUQ0QEn2h1Qq9Ic65CHPS2kKWUadXpRmjqjTJz0OgPf7rYjN%2B1pPrISqCLYMyFxTHekhIdNBKMeiT4aAl2cRwhskIOxLLNL%2F89EJ8%2FzcAsC%2FxtMcwSLxA1BBDlgqdkUXYdhZzUYafaBUn33NYZ26yh88Cvzyu3nykM%2F7Bs%2F36GSDjT%2Fu%2F3CGrDzmSHYfdqIkhs%2BQQq9jUHW3u4XPCz2zf%2FqOzek6epFomL4JR8ExTQvP584wQ8SZj8ju6rr4hWkYkx36RoxQcPczw7o9XpY7tu3LPYgeIB4a1hmm9gNocFQ4dIER96%2FiI%2BJwXbg7bpCcHMsD%2Bzx%2BQBQsvXuSIUOhyGkdXMUu3gQdQT%2FvErK0Tc3Arv5d1RPlngF3cJOAlrGLQJdoAcQ%2BmTV%2FVQ4PgClAGZbCW1VV%2FfVAqm1oSc7%2Fzu28nIpK1Dq%2B%2F3uhYUmf4OJjGCM2FhcWWxR6kCr4W9w5cWvC%2BT0Nr7ZC8ep0ijD8pAQkq7jkqux6BzvPbhWdZLFbhOGCEHxF8TXVP%2FApvszd0KcsnPv%2BMjG%2FNyLJU%2F8bWteARwFuPrydfZWLgDGD61nAJ7MeD8jT%2BjeawqYXG9F5BuV%2B43hH5IX%2Bqlu3zpd1S38iUOh2%2FKx9ddQ8cTo7BHuozVfLPLgSehMqwCpHQcKgAupSJxjgCxdmgs4bbMMLdzY0GOoUCcIkfq0OAx0atGe6jnaoSFdWgGtF8i76kA1Zj51CdD1a7AudIPKmsDTA2PegEcwig6EKjRe%2Fp19Ic8Jscb1Lp4E4X%2FW3pQx1od1qMkREVq5pJzlKnIZ034NmbCszXetOk6SkZ8AkddAoxGOIbV1xNkSoBqqUvrFUtJNEIBzRw6Dfl%2F8U9um0fTl%2Fq80T3Q9k5V%2BkWnVuG53d8OV3%2BxH0QJVNoWBAVphIZeGGGI8DvlU8B9XnNdupcNSxZgPFrlki6NqnS3PamlWhaIQ5XU8WuKFu3bat%2BWNx%2F73gwb74SaeoAX47qZ1ZeQjGVM82HM9X%2FdyCqkjQB6GCHwmUVVw72XyZjRssB&X-Amz-Signature=4c467a1da91aa2da513050af0613108b922a3bab086e1ec0cbf999e886a8ade1&X-Amz-SignedHeaders=host&x-amz-user-agent=aws-sdk-js%2F3.6.1%20os%2FmacOS%2F10.15.7%20lang%2Fjs%20md%2Fbrowser%2FChrome_96.0.4664.93%20api%2Fs3%2F3.6.1%20aws-amplify%2F4.3.7_js&x-id=GetObject\r\n```\n\n### Expected behavior\n\nExpected to generate url that expire in 7 days\n\n### Reproduction steps\n\n1.- Storage.get the file\r\n2.- save signed url\r\n3.- url expires earlier than established\n\n### Code Snippet\n\n```javascript\r\n\r\nimgurl = await Storage.get(imagekey, {\r\n        expires: 60 * 60 * 24 * 7,\r\n });\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9346/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9334",
    "id": 1074796599,
    "node_id": "I_kwDOBkswNc5AEBg3",
    "number": 9334,
    "title": "Can't Storage.put acl: 'public-read', erro",
    "user": {
      "login": "pptavozl",
      "id": 7065779,
      "node_id": "MDQ6VXNlcjcwNjU3Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7065779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pptavozl",
      "html_url": "https://github.com/pptavozl",
      "followers_url": "https://api.github.com/users/pptavozl/followers",
      "following_url": "https://api.github.com/users/pptavozl/following{/other_user}",
      "gists_url": "https://api.github.com/users/pptavozl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pptavozl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pptavozl/subscriptions",
      "organizations_url": "https://api.github.com/users/pptavozl/orgs",
      "repos_url": "https://api.github.com/users/pptavozl/repos",
      "events_url": "https://api.github.com/users/pptavozl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pptavozl/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261221,
        "node_id": "MDU6TGFiZWw4NDUyNjEyMjE=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Storage",
        "name": "Storage",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Storage components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "jamesaucode",
        "id": 40404256,
        "node_id": "MDQ6VXNlcjQwNDA0MjU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/40404256?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesaucode",
        "html_url": "https://github.com/jamesaucode",
        "followers_url": "https://api.github.com/users/jamesaucode/followers",
        "following_url": "https://api.github.com/users/jamesaucode/following{/other_user}",
        "gists_url": "https://api.github.com/users/jamesaucode/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jamesaucode/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jamesaucode/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesaucode/orgs",
        "repos_url": "https://api.github.com/users/jamesaucode/repos",
        "events_url": "https://api.github.com/users/jamesaucode/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jamesaucode/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-08T20:20:06Z",
    "updated_at": "2022-01-05T18:09:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nNot applicable\r\n\r\n### Amplify APIs\r\n\r\nStorage\r\n\r\n### Amplify Categories\r\n\r\nstorage\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n\r\n\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\r\n    Memory: 1.21 GB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\r\n    npm: 8.1.1 - ~/.nvm/versions/node/v14.18.1/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.93\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: next => 1.0.0-next.3 \r\n    @sveltejs/kit: next => 1.0.0-next.201 \r\n    aws-amplify: ^4.3.10 => 4.3.10 \r\n    aws-sdk: ^2.1044.0 => 2.1044.0 \r\n    svelte: ^3.44.0 => 3.44.2 \r\n    sveltestrap: ^5.6.3 => 5.6.3 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.6.2\r\n    aws-cli: 0.0.2\r\n    firebase-tools: 9.23.0\r\n    npm: 8.1.1\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nI receive error 403 every time I want to put file (image) with acl 'public-read'\r\n\r\n\r\n* If I Storage.put(\"IMAGE.jpg\", file); I can access to url only with token and i want to access direectly:\r\n https://MY-BUCKET.s3.amazonaws.com/public/IMAGE.jpg\r\n![image](https://user-images.githubusercontent.com/7065779/145277831-8e91946b-2f54-4064-be4a-299e586e519e.png)\r\n\r\n\r\nBucket permissions:\r\n![image](https://user-images.githubusercontent.com/7065779/145278017-b4a38be5-e78d-4af3-b277-86a79c2f95c1.png)\r\n\r\n\r\n### Expected behavior\r\n\r\n* I want to put a file accesible for everyone with url like: \r\nhttps://MY-BUCKET.s3.amazonaws.com/public/IMAGE.jpg\r\n\r\n### Reproduction steps\r\n\r\n1.- Add storage to my app\r\n2.- import Storage from aws-amplify\r\n3.- doing Storage.put()\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n  import Storage from '@aws-amplify/storage';\r\n\r\n  const onFileSelected = async (event) => {\r\n    let file = event.target.files[0];\r\n\r\n    try {\r\n      const { key } = await Storage.put(file.name, file, {\r\n        acl: 'public-read',\r\n      });\r\n\r\n      console.log(key);\r\n    } catch (error) {\r\n      console.log('Error uploading file:', error);\r\n    } finally {\r\n      event.target.value = null;\r\n    }\r\n  };\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\nConsoleLogger.ts:115 [DEBUG] 18:38.450 Credentials - getting credentials\r\nConsoleLogger.ts:115 [DEBUG] 18:38.450 Credentials - picking up credentials\r\nConsoleLogger.ts:115 [DEBUG] 18:38.451 Credentials - getting new cred promise\r\nConsoleLogger.ts:115 [DEBUG] 18:38.451 Credentials - checking if credentials exists and not expired\r\nConsoleLogger.ts:115 [DEBUG] 18:38.451 Credentials - need to get a new credential or refresh the existing one\r\nConsoleLogger.ts:115 [DEBUG] 18:38.452 Credentials - no credentials for expiration check\r\nConsoleLogger.ts:115 [DEBUG] 18:38.452 AuthClass - Getting current user credentials\r\nConsoleLogger.ts:115 [DEBUG] 18:38.453 AuthClass - Getting current session\r\nConsoleLogger.ts:125 [DEBUG] 18:38.454 AuthClass - Getting the session from this user: CognitoUser2{username: '32b7ae9a-a1a4-4203-9da5-d586fc15f65b', pool: CognitoUserPool2, Session: null, client: Client2, signInUserSession: CognitoUserSession2,}\r\nConsoleLogger.ts:125 [DEBUG] 18:38.454 AuthClass - Succeed to get the user session CognitoUserSession2{idToken: CognitoIdToken2, refreshToken: CognitoRefreshToken2, accessToken: CognitoAccessToken2, clockDrift: 0}\r\nConsoleLogger.ts:125 [DEBUG] 18:38.454 AuthClass - getting session success CognitoUserSession2{idToken: CognitoIdToken2, refreshToken: CognitoRefreshToken2, accessToken: CognitoAccessToken2, clockDrift: 0}\r\nConsoleLogger.ts:115 [DEBUG] 18:38.455 Credentials - set credentials from session\r\nConsoleLogger.ts:125 [DEBUG] 18:39.209 Credentials - Load credentials successfully {accessKeyId: 'ttttttt', secretAccessKey: '+dfgMLvq1', sessionToken: 'IQoCG', expiration: Wed Dec 08 2021 15:18:39 GMT-0600 (hora estndar central), identityId: 'us-east-1:0e091sdfsd1638'}\r\nConsoleLogger.ts:115 [DEBUG] 18:39.213 Credentials - getting credentials\r\nConsoleLogger.ts:115 [DEBUG] 18:39.213 Credentials - picking up credentials\r\nConsoleLogger.ts:115 [DEBUG] 18:39.213 Credentials - getting new cred promise\r\nConsoleLogger.ts:115 [DEBUG] 18:39.214 Credentials - checking if credentials exists and not expired\r\nConsoleLogger.ts:125 [DEBUG] 18:39.214 Credentials - are these credentials expired? {accessKeyId: 'gfd', secretAccessKey: '+sdf', sessionToken: 'sdf', expiration: Wed Dec 08 2021 15:18:39 GMT-0600 (hora estndar central), identityId: 'us-easdfsdfsf5e1638',}\r\nConsoleLogger.ts:115 [DEBUG] 18:39.214 Credentials - credentials not changed and not expired, directly return\r\nConsoleLogger.ts:125 [DEBUG] 18:39.214 S3ClientUtils - credentials provider get credentials {accessKeyId: 'fdg', sessionToken: 'IQdfgVhc3QtMSJIMEdfG', secretAccessKey: '+fdfgdfg/f', identityId: 'ugdf', authenticated: true}\r\nConsoleLogger.ts:118 [DEBUG] 18:39.753 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 163840, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:39.955 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 180224, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.157 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 196608, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.258 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 212992, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.359 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 229376, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.561 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 245760, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.662 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 278528, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.763 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 294912, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.863 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 311296, total: 330745, type: 'progress',}\r\nConsoleLogger.ts:118 [DEBUG] 18:40.963 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: true, loaded: 330745, total: 330745, type: 'progress',}\r\nxhr.js:187 PUT https://teststoragedevbuck42016-staging.s3.us-east-1.amazonaws.com/public/dr.jpeg?x-id=PutObject 403 (Forbidden)\r\ndispatchXhrRequest @ xhr.js:187\r\nxhrAdapter @ xhr.js:13\r\ndispatchRequest @ dispatchRequest.js:53\r\nrequest @ Axios.js:108\r\nwrap @ bind.js:9\r\nAxiosHttpHandler2.handle @ axios-http-handler.ts:170\r\n(anonymous) @ PutObjectCommand.ts:144\r\n(anonymous) @ deserializerMiddleware.ts:19\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ deserializerMiddleware.ts:17\r\n(anonymous) @ S3ClientUtils.ts:97\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n__awaiter3 @ StorageUtils.ts:50\r\n(anonymous) @ S3ClientUtils.ts:95\r\n(anonymous) @ middleware.ts:26\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ middleware.ts:23\r\n(anonymous) @ defaultStrategy.ts:125\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nstep @ tslib.es6.js:85\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\nStandardRetryStrategy2.retry @ defaultStrategy.ts:107\r\n(anonymous) @ retryMiddleware.ts:22\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ retryMiddleware.ts:18\r\n(anonymous) @ user-agent-middleware.ts:50\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ user-agent-middleware.ts:32\r\n(anonymous) @ index.ts:32\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:19\r\n(anonymous) @ bucketEndpointMiddleware.ts:85\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ bucketEndpointMiddleware.ts:23\r\n(anonymous) @ index.ts:27\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:18\r\n(anonymous) @ use-regional-endpoint.ts:33\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ use-regional-endpoint.ts:25\r\n(anonymous) @ serializerMiddleware.ts:21\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ serializerMiddleware.ts:18\r\n(anonymous) @ index.ts:51\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:18\r\n(anonymous) @ S3ClientUtils.ts:80\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\nfulfilled @ StorageUtils.ts:50\r\nPromise.then (async)\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n__awaiter3 @ StorageUtils.ts:50\r\n(anonymous) @ S3ClientUtils.ts:68\r\n(anonymous) @ validate-bucket-name.ts:29\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ validate-bucket-name.ts:19\r\n(anonymous) @ loggerMiddleware.ts:21\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ loggerMiddleware.ts:17\r\nClient2.send @ client.ts:60\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:83\r\nstep @ AWSS3ProviderManagedUpload.ts:32\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:32\r\nfulfilled @ AWSS3ProviderManagedUpload.ts:32\r\nPromise.then (async)\r\nstep @ AWSS3ProviderManagedUpload.ts:32\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:32\r\n__awaiter4 @ AWSS3ProviderManagedUpload.ts:32\r\nAWSS3ProviderManagedUpload2.upload @ AWSS3ProviderManagedUpload.ts:76\r\nAWSS3Provider2.put @ AWSS3Provider.ts:607\r\nStorage3.put @ Storage.ts:343\r\nonFileSelected @ archivos.svelte? [sm]:15\r\nchange_handler @ archivos.svelte? [sm]:61\r\nConsoleLogger.ts:118 [DEBUG] 18:41.493 axios-http-handler ProgressEvent{isTrusted: true, lengthComputable: false, loaded: 243, total: 0, type: 'progress',}\r\nConsoleLogger.ts:115 [ERROR] 18:41.494 axios-http-handler - Request failed with status code 403\r\nConsoleLogger2._log @ ConsoleLogger.ts:115\r\nConsoleLogger2.error @ ConsoleLogger.ts:174\r\n(anonymous) @ axios-http-handler.ts:186\r\nPromise.catch (async)\r\nAxiosHttpHandler2.handle @ axios-http-handler.ts:180\r\n(anonymous) @ PutObjectCommand.ts:144\r\n(anonymous) @ deserializerMiddleware.ts:19\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ deserializerMiddleware.ts:17\r\n(anonymous) @ S3ClientUtils.ts:97\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n__awaiter3 @ StorageUtils.ts:50\r\n(anonymous) @ S3ClientUtils.ts:95\r\n(anonymous) @ middleware.ts:26\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ middleware.ts:23\r\n(anonymous) @ defaultStrategy.ts:125\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nstep @ tslib.es6.js:85\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\nStandardRetryStrategy2.retry @ defaultStrategy.ts:107\r\n(anonymous) @ retryMiddleware.ts:22\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ retryMiddleware.ts:18\r\n(anonymous) @ user-agent-middleware.ts:50\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ user-agent-middleware.ts:32\r\n(anonymous) @ index.ts:32\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:19\r\n(anonymous) @ bucketEndpointMiddleware.ts:85\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ bucketEndpointMiddleware.ts:23\r\n(anonymous) @ index.ts:27\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:18\r\n(anonymous) @ use-regional-endpoint.ts:33\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ use-regional-endpoint.ts:25\r\n(anonymous) @ serializerMiddleware.ts:21\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\nfulfilled @ tslib.es6.js:71\r\nPromise.then (async)\r\nstep @ tslib.es6.js:73\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ serializerMiddleware.ts:18\r\n(anonymous) @ index.ts:51\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ index.ts:18\r\n(anonymous) @ S3ClientUtils.ts:80\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\nfulfilled @ StorageUtils.ts:50\r\nPromise.then (async)\r\nstep @ StorageUtils.ts:50\r\n(anonymous) @ StorageUtils.ts:50\r\n__awaiter3 @ StorageUtils.ts:50\r\n(anonymous) @ S3ClientUtils.ts:68\r\n(anonymous) @ validate-bucket-name.ts:29\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ validate-bucket-name.ts:19\r\n(anonymous) @ loggerMiddleware.ts:21\r\nstep @ tslib.es6.js:100\r\n(anonymous) @ tslib.es6.js:81\r\n(anonymous) @ tslib.es6.js:74\r\n__awaiter3 @ tslib.es6.js:70\r\n(anonymous) @ loggerMiddleware.ts:17\r\nClient2.send @ client.ts:60\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:83\r\nstep @ AWSS3ProviderManagedUpload.ts:32\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:32\r\nfulfilled @ AWSS3ProviderManagedUpload.ts:32\r\nPromise.then (async)\r\nstep @ AWSS3ProviderManagedUpload.ts:32\r\n(anonymous) @ AWSS3ProviderManagedUpload.ts:32\r\n__awaiter4 @ AWSS3ProviderManagedUpload.ts:32\r\nAWSS3ProviderManagedUpload2.upload @ AWSS3ProviderManagedUpload.ts:76\r\nAWSS3Provider2.put @ AWSS3Provider.ts:607\r\nStorage3.put @ Storage.ts:343\r\nonFileSelected @ archivos.svelte? [sm]:15\r\nchange_handler @ archivos.svelte? [sm]:61\r\narchivos.svelte? [sm]:21 Error uploading file: AccessDenied: Access Denied\r\n    at http://localhost:3000/node_modules/.vite/chunk-ZNKQBNY7.js?v=4d714e09:14747:51\r\n    at step (http://localhost:3000/node_modules/.vite/chunk-ZNKQBNY7.js?v=4d714e09:2101:19)\r\n    at Object.next (http://localhost:3000/node_modules/.vite/chunk-ZNKQBNY7.js?v=4d714e09:2048:14)\r\n    at fulfilled (http://localhost:3000/node_modules/.vite/chunk-ZNKQBNY7.js?v=4d714e09:2019:24)\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9334/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9325",
    "id": 1073117854,
    "node_id": "I_kwDOBkswNc4_9nqe",
    "number": 9325,
    "title": "observeQuery improvement",
    "user": {
      "login": "maxludovicohofer",
      "id": 75249510,
      "node_id": "MDQ6VXNlcjc1MjQ5NTEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/75249510?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxludovicohofer",
      "html_url": "https://github.com/maxludovicohofer",
      "followers_url": "https://api.github.com/users/maxludovicohofer/followers",
      "following_url": "https://api.github.com/users/maxludovicohofer/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxludovicohofer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxludovicohofer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxludovicohofer/subscriptions",
      "organizations_url": "https://api.github.com/users/maxludovicohofer/orgs",
      "repos_url": "https://api.github.com/users/maxludovicohofer/repos",
      "events_url": "https://api.github.com/users/maxludovicohofer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxludovicohofer/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "nickarocho",
      "id": 16296496,
      "node_id": "MDQ6VXNlcjE2Mjk2NDk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16296496?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nickarocho",
      "html_url": "https://github.com/nickarocho",
      "followers_url": "https://api.github.com/users/nickarocho/followers",
      "following_url": "https://api.github.com/users/nickarocho/following{/other_user}",
      "gists_url": "https://api.github.com/users/nickarocho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nickarocho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nickarocho/subscriptions",
      "organizations_url": "https://api.github.com/users/nickarocho/orgs",
      "repos_url": "https://api.github.com/users/nickarocho/repos",
      "events_url": "https://api.github.com/users/nickarocho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nickarocho/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "nickarocho",
        "id": 16296496,
        "node_id": "MDQ6VXNlcjE2Mjk2NDk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16296496?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/nickarocho",
        "html_url": "https://github.com/nickarocho",
        "followers_url": "https://api.github.com/users/nickarocho/followers",
        "following_url": "https://api.github.com/users/nickarocho/following{/other_user}",
        "gists_url": "https://api.github.com/users/nickarocho/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/nickarocho/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nickarocho/subscriptions",
        "organizations_url": "https://api.github.com/users/nickarocho/orgs",
        "repos_url": "https://api.github.com/users/nickarocho/repos",
        "events_url": "https://api.github.com/users/nickarocho/events{/privacy}",
        "received_events_url": "https://api.github.com/users/nickarocho/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-07T09:27:03Z",
    "updated_at": "2022-02-01T13:24:04Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nAngular, React, React Native, Vue, Web Components, Next.js, New framework\n\n### Is this related to a new or existing API?\n\nDataStore\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nobserveQuery should apply the provided filter predicate on observe also, to check for subsequent results.\r\nAlso, it would be nice if observeQuery had paging support.\n\n### Describe the solution you'd like\n\n```typescript\r\n// Should check if isValid is still true when query items change\r\nDataStore.observeQuery(\r\n    type,\r\n    ({ isValid }) => isValid(\"eq\", true),\r\n    {\r\n        // Should support page and limit\r\n        page,\r\n        limit,\r\n        sort\r\n    }\r\n);\r\n```\n\n### Describe alternatives you've considered\n\nGetting items through `observeQuery` first; when synced, observing the model with `observe`.\r\nIf there is a mutation, running `query` (with the same filter predicate) only on the mutated item, and removing it or adding it or changing it.\r\n\r\nFor paging, I use `query` and then `observe` the model. If there is a mutation, I rerun the `query` on the model.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9325/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9321",
    "id": 1072249779,
    "node_id": "I_kwDOBkswNc4_6Tuz",
    "number": 9321,
    "title": "How to implement redirection to a dynamic route after Auth.signout",
    "user": {
      "login": "jgf5013",
      "id": 5095270,
      "node_id": "MDQ6VXNlcjUwOTUyNzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5095270?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgf5013",
      "html_url": "https://github.com/jgf5013",
      "followers_url": "https://api.github.com/users/jgf5013/followers",
      "following_url": "https://api.github.com/users/jgf5013/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgf5013/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgf5013/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgf5013/subscriptions",
      "organizations_url": "https://api.github.com/users/jgf5013/orgs",
      "repos_url": "https://api.github.com/users/jgf5013/repos",
      "events_url": "https://api.github.com/users/jgf5013/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgf5013/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-12-06T14:58:48Z",
    "updated_at": "2022-02-10T15:54:50Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nReact\n\n### Is this related to a new or existing API?\n\nAuthentication\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nTL;DR: How do you record basic information about the user's state prior to sign-out so that it can be used during the sign-in proces?\r\n\r\nLonger version:\r\nI'm using `customState` to record some information during the login process about where the user should go after they've successfully authenticated using \r\n\r\n```\r\n  Auth.federatedSignIn({ provider, customState: queryParams });\r\n```\r\n\r\nWorks great - thanks!!\r\n\r\nNow I also want to record similarly basic information about where the user was when they signed out so that I can pass this information back to the sign-in page (so that, after signing in, the user can be redirected to the URL where they signed out from.)\r\nBut I don't see any way to do this as there's no `customState` parameter on the `Auth.signOut` function and redirection to the configured signout URL seems to happen immediately.\r\n\r\nMy understanding is that this signout URL can't be dynamic since\r\n\r\n1. It must match what's in the AWS Cognito console\r\n2. The config console parameter for Sign out URL(s) does not take wildcards.\r\n\r\n\r\nAny help is very much appreciated!!\n\n### Describe the solution you'd like\n\nOne of the two below\r\n\r\n- Documentation on how to accomplish what I think is probably a supported workflow.\r\n- Confirmation that this is not a supported workflow but that it should be and this will be turned into a proper feature request.\n\n### Describe alternatives you've considered\n\n- Dynamic or wild-card Cognito signout URLs or URLs where query parameters are accepted as \"matching\" the configured URLs (per my understanding, this is not permitted for security reasons)\r\n- Manually redirecting user with window.location.href immediately after signout (doesn't work as Cognito sigout kicks in before and this just feels like a hacky solution)\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9321/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9320",
    "id": 1072235375,
    "node_id": "I_kwDOBkswNc4_6QNv",
    "number": 9320,
    "title": "Datastore: Sync only particular time limit record",
    "user": {
      "login": "Dilip-Solanki-Logistic-Infotech",
      "id": 61177438,
      "node_id": "MDQ6VXNlcjYxMTc3NDM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/61177438?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech",
      "html_url": "https://github.com/Dilip-Solanki-Logistic-Infotech",
      "followers_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/followers",
      "following_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/subscriptions",
      "organizations_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/orgs",
      "repos_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/repos",
      "events_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dilip-Solanki-Logistic-Infotech/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-12-06T14:45:31Z",
    "updated_at": "2021-12-13T23:58:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nReact\n\n### Is this related to a new or existing API?\n\nDataStore\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nIn my project, we only need to keep a record of 8 hours. So I only get 8 hours record by the configuration of syncExpression using the createdAt field.\r\nBut, when the user is already logged in and arrives after 24 hours, the record above 8 hours appears. So in the new version, any solution for that?\n\n### Describe the solution you'd like\n\nFor that, you can provide the feature to delete/clean old synced data from local storage. And it should be centrally managed by the datastore configuration.\n\n### Describe alternatives you've considered\n\nFor that, you can provide the feature to delete/clean old synced data from local storage. And it should be centrally managed by the datastore configuration.\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [X]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9320/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9318",
    "id": 1072058026,
    "node_id": "I_kwDOBkswNc4_5k6q",
    "number": 9318,
    "title": "Device tracking using social providers",
    "user": {
      "login": "wbrijesh",
      "id": 28498071,
      "node_id": "MDQ6VXNlcjI4NDk4MDcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/28498071?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wbrijesh",
      "html_url": "https://github.com/wbrijesh",
      "followers_url": "https://api.github.com/users/wbrijesh/followers",
      "following_url": "https://api.github.com/users/wbrijesh/following{/other_user}",
      "gists_url": "https://api.github.com/users/wbrijesh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wbrijesh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wbrijesh/subscriptions",
      "organizations_url": "https://api.github.com/users/wbrijesh/orgs",
      "repos_url": "https://api.github.com/users/wbrijesh/repos",
      "events_url": "https://api.github.com/users/wbrijesh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wbrijesh/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 881545386,
        "node_id": "MDU6TGFiZWw4ODE1NDUzODY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Cognito",
        "name": "Cognito",
        "color": "006b75",
        "default": false,
        "description": "Related to cognito issues"
      },
      {
        "id": 2354111949,
        "node_id": "MDU6TGFiZWwyMzU0MTExOTQ5",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/amazon-cognito-identity-js",
        "name": "amazon-cognito-identity-js",
        "color": "d39417",
        "default": false,
        "description": "Used for issues related to this specific package within the monorepo"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-12-06T11:48:26Z",
    "updated_at": "2021-12-13T23:59:00Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nNext.js\n\n### Is this related to a new or existing API?\n\nAuthentication\n\n### Is this related to another service?\n\nCognito\n\n### Describe the feature you'd like to request\n\nWhen using the federated OAuth flow with Cognito User Pools, the device tracking and remembering features are currently not available within the library.\n\n### Describe the solution you'd like\n\ndevice tracking and remembering features within the amplify library.\n\n### Describe alternatives you've considered\n\nSave data manually in the user profile model\n\n### Additional context\n\nLimit the number of devices an account can log onto, similar to how netflix limits number of devices. This works fine when using regular (email, password) signin, but not with oauth\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9318/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9317",
    "id": 1071948025,
    "node_id": "PR_kwDOBkswNc4vbYIJ",
    "number": 9317,
    "title": "fix(@aws-amplify/storage): throw error if all upload parts complete but upload cannot be finished",
    "user": {
      "login": "katiegoines",
      "id": 30757403,
      "node_id": "MDQ6VXNlcjMwNzU3NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/30757403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/katiegoines",
      "html_url": "https://github.com/katiegoines",
      "followers_url": "https://api.github.com/users/katiegoines/followers",
      "following_url": "https://api.github.com/users/katiegoines/following{/other_user}",
      "gists_url": "https://api.github.com/users/katiegoines/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/katiegoines/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/katiegoines/subscriptions",
      "organizations_url": "https://api.github.com/users/katiegoines/orgs",
      "repos_url": "https://api.github.com/users/katiegoines/repos",
      "events_url": "https://api.github.com/users/katiegoines/events{/privacy}",
      "received_events_url": "https://api.github.com/users/katiegoines/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "katiegoines",
      "id": 30757403,
      "node_id": "MDQ6VXNlcjMwNzU3NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/30757403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/katiegoines",
      "html_url": "https://github.com/katiegoines",
      "followers_url": "https://api.github.com/users/katiegoines/followers",
      "following_url": "https://api.github.com/users/katiegoines/following{/other_user}",
      "gists_url": "https://api.github.com/users/katiegoines/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/katiegoines/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/katiegoines/subscriptions",
      "organizations_url": "https://api.github.com/users/katiegoines/orgs",
      "repos_url": "https://api.github.com/users/katiegoines/repos",
      "events_url": "https://api.github.com/users/katiegoines/events{/privacy}",
      "received_events_url": "https://api.github.com/users/katiegoines/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "katiegoines",
        "id": 30757403,
        "node_id": "MDQ6VXNlcjMwNzU3NDAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/30757403?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/katiegoines",
        "html_url": "https://github.com/katiegoines",
        "followers_url": "https://api.github.com/users/katiegoines/followers",
        "following_url": "https://api.github.com/users/katiegoines/following{/other_user}",
        "gists_url": "https://api.github.com/users/katiegoines/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/katiegoines/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/katiegoines/subscriptions",
        "organizations_url": "https://api.github.com/users/katiegoines/orgs",
        "repos_url": "https://api.github.com/users/katiegoines/repos",
        "events_url": "https://api.github.com/users/katiegoines/events{/privacy}",
        "received_events_url": "https://api.github.com/users/katiegoines/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-12-06T09:56:25Z",
    "updated_at": "2022-02-09T23:05:50Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9317",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9317",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9317.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9317.patch",
      "merged_at": null
    },
    "body": "<!--\r\nPlease make sure to read the Pull Request Guidelines:\r\nhttps://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#pull-requests\r\n-->\r\n\r\n#### Description of changes\r\n<!--\r\nThank you for your Pull Request! Please provide a description above and review\r\nthe requirements below.\r\n-->\r\nAdded error thrown when multi-part upload cannot be finalized. \r\n\r\n\r\n#### Issue #, if available\r\n<!-- Also, please reference any associated PRs for documentation updates. -->\r\nIssue #8781 \r\n\r\n\r\n#### Description of how you validated changes\r\nTested in sample app for multi-part upload (both resumable and non-resumable) \r\n\r\n\r\n#### Checklist\r\n<!-- Remove items that do not apply. For completed items, change [ ] to [x]. -->\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n- [x] Tests are [changed or added](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#steps-towards-contributions)\r\n- [ ] Relevant documentation is changed or added (and PR referenced)\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9317/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/pull/9299",
    "id": 1067940186,
    "node_id": "PR_kwDOBkswNc4vOYLG",
    "number": 9299,
    "title": "chore: Upgrade to uuid 8.3.2",
    "user": {
      "login": "MatrixFrog",
      "id": 244381,
      "node_id": "MDQ6VXNlcjI0NDM4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/244381?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatrixFrog",
      "html_url": "https://github.com/MatrixFrog",
      "followers_url": "https://api.github.com/users/MatrixFrog/followers",
      "following_url": "https://api.github.com/users/MatrixFrog/following{/other_user}",
      "gists_url": "https://api.github.com/users/MatrixFrog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MatrixFrog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MatrixFrog/subscriptions",
      "organizations_url": "https://api.github.com/users/MatrixFrog/orgs",
      "repos_url": "https://api.github.com/users/MatrixFrog/repos",
      "events_url": "https://api.github.com/users/MatrixFrog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MatrixFrog/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2021-12-01T04:15:21Z",
    "updated_at": "2022-01-09T20:34:14Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/pulls/9299",
      "html_url": "https://github.com/aws-amplify/amplify-js/pull/9299",
      "diff_url": "https://github.com/aws-amplify/amplify-js/pull/9299.diff",
      "patch_url": "https://github.com/aws-amplify/amplify-js/pull/9299.patch",
      "merged_at": null
    },
    "body": "#### Description of changes\r\n\r\nUpgrade uuid to avoid some annoying install-time warnings about potential risks in older uuid's (#8464). Trying this again after previous attempt was rolled back (#9159)\r\n\r\n#### Issue #, if available\r\nhttps://github.com/aws-amplify/amplify-js/issues/8464\r\n\r\n#### Description of how you validated changes\r\nran tests on CI\r\n\r\n#### Checklist\r\n\r\n- [x] PR description included\r\n- [x] `yarn test` passes\r\n\r\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9299/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9287",
    "id": 1064947831,
    "node_id": "I_kwDOBkswNc4_edB3",
    "number": 9287,
    "title": "`CognitoUser.authenticateUserDefaultAuth` does not respect the flow in which a credential sign in gets redirected to a `CUSTOM_CHALLENGE`",
    "user": {
      "login": "Itamaram",
      "id": 25465,
      "node_id": "MDQ6VXNlcjI1NDY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/25465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Itamaram",
      "html_url": "https://github.com/Itamaram",
      "followers_url": "https://api.github.com/users/Itamaram/followers",
      "following_url": "https://api.github.com/users/Itamaram/following{/other_user}",
      "gists_url": "https://api.github.com/users/Itamaram/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Itamaram/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Itamaram/subscriptions",
      "organizations_url": "https://api.github.com/users/Itamaram/orgs",
      "repos_url": "https://api.github.com/users/Itamaram/repos",
      "events_url": "https://api.github.com/users/Itamaram/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Itamaram/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-11-27T09:26:58Z",
    "updated_at": "2021-12-26T10:45:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nNot applicable\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Windows 10 10.0.19043\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n    Memory: 1.61 GB / 15.79 GB\r\n  Binaries:\r\n    Node: 12.18.3 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: 1.22.5 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\r\n    npm: 7.21.1 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Chrome: 96.0.4664.45\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.34)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmGlobalPackages:\r\n    @cloudflare/wrangler: 1.19.0\r\n    azure-functions-core-tools: 3.0.3785\r\n    dynamodb-admin: 4.0.1\r\n    eslint-plugin-import: 2.23.4\r\n    eslint: 7.32.0\r\n    npm: 7.21.1\r\n    serverless: 2.57.0\r\n    typescript: 4.4.4\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWhen calling `Auth.signIn(username, password)`, if the Cognito pool returns a custom challenge eg:\r\n`{\"ChallengeName\":\"CUSTOM_CHALLENGE\",\"ChallengeParameters\":{}}`, and not a `PASSWORD_VERIFIER` challenge of the form `{\"ChallengeName\":\"PASSWORD_VERIFIER\",\"ChallengeParameters\":{}}`, then the framework throws an error:\r\n```\r\nTypeError: First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\r\n    at fromObject (index.js:311)\r\n    at from (index.js:137)\r\n    at Function.push../node_modules/buffer/index.js.Buffer.from (index.js:149)\r\n    at CognitoUser.js:299\r\n    at AuthenticationHelper.js:280\r\n    at AuthenticationHelper.js:306\r\n    at BigInteger.bnModPow [as modPow] (BigInteger.js:838)\r\n    at AuthenticationHelper.js:301\r\n    at BigInteger.bnModPow [as modPow] (BigInteger.js:838)\r\n    at AuthenticationHelper.calculateS (AuthenticationHelper.js:295)\r\n    at AuthenticationHelper.getPasswordAuthenticationKey (AuthenticationHelper.js:273)\r\n    at CognitoUser.js:292\r\n    at Client.js:140\r\n```\r\ndespite the flow being valid.\n\n### Expected behavior\n\nThe framework should gracefully handle the case in which the password verification was not complete, and instead divert the flow to the custom authentication flow, transitioning to an internal state where the user can call `sendCustomChallengeAnswer` and continue on with the authentication.\n\n### Reproduction steps\n\n1. Configure a Cognito pool with a DefineAuthChallenge trigger that always returns a challenge name of `CUSTOM_CHALLENGE`.\r\n2. Configure a similarly minimal CreateAuthChallenge and VerifyAuthChallenge triggers.\r\n3. Invoke the `Auth.signIn(username, password)` function.'\r\n4. Observe that while the http call to Cognito was successful, the amplify lib threw an error\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9287/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9286",
    "id": 1064897070,
    "node_id": "I_kwDOBkswNc4_eQou",
    "number": 9286,
    "title": "Update types for Promises on Auth calls",
    "user": {
      "login": "jhechtf",
      "id": 8152471,
      "node_id": "MDQ6VXNlcjgxNTI0NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8152471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jhechtf",
      "html_url": "https://github.com/jhechtf",
      "followers_url": "https://api.github.com/users/jhechtf/followers",
      "following_url": "https://api.github.com/users/jhechtf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhechtf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jhechtf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhechtf/subscriptions",
      "organizations_url": "https://api.github.com/users/jhechtf/orgs",
      "repos_url": "https://api.github.com/users/jhechtf/repos",
      "events_url": "https://api.github.com/users/jhechtf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jhechtf/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      },
      {
        "id": 1067841947,
        "node_id": "MDU6TGFiZWwxMDY3ODQxOTQ3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/TypeScript",
        "name": "TypeScript",
        "color": "b60205",
        "default": false,
        "description": "Related to TypeScript issues"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "evcodes",
        "id": 22283303,
        "node_id": "MDQ6VXNlcjIyMjgzMzAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/22283303?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/evcodes",
        "html_url": "https://github.com/evcodes",
        "followers_url": "https://api.github.com/users/evcodes/followers",
        "following_url": "https://api.github.com/users/evcodes/following{/other_user}",
        "gists_url": "https://api.github.com/users/evcodes/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/evcodes/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/evcodes/subscriptions",
        "organizations_url": "https://api.github.com/users/evcodes/orgs",
        "repos_url": "https://api.github.com/users/evcodes/repos",
        "events_url": "https://api.github.com/users/evcodes/events{/privacy}",
        "received_events_url": "https://api.github.com/users/evcodes/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-11-27T04:04:44Z",
    "updated_at": "2021-12-02T20:32:13Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact, Not applicable\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: Windows 10 10.0.19042\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-10750H CPU @ 2.60GHz\r\n    Memory: 5.41 GB / 15.87 GB\r\n  Binaries:\r\n    Node: 14.16.0 - C:\\Program Files\\nodejs\\node.EXE       \r\n    npm: 6.14.11 - C:\\Program Files\\nodejs\\npm.CMD\r\n  Browsers:\r\n    Edge: Spartan (44.19041.1266.0), Chromium (96.0.1054.34)\r\n    Internet Explorer: 11.0.19041.1202\r\n  npmGlobalPackages:\r\n    pnpm: 5.18.3\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\n**Note:** I do not use the Amplify CLI, and I am only using the @aws-amplify/auth package directly. I am also currently using the following packages/versions\r\n\r\n```\r\n@aws-amplify/core: v4.3.8\r\n@aws-amplify/auth: v4.3.16 (both most recent version as of writing this)\r\n```\r\n\r\nThe TypeScript definitions for the Auth package _heavily_ use the `any`  as a return type when they should be denoted as some other type.\r\n\r\n\n\n### Expected behavior\n\nThe return types for the typescript definitions should _entirely_ remove the use of `any` in the return types of the methods.\n\n### Reproduction steps\n\n1. Create new project.\r\n2. Install `@aws-amplify/core` and `@aws-amplfiy/auth`\r\n3. Configure the Auth appropriately to use an AWS Cognito User Pool.\r\n4. Attempt to use one of the many methods that has incorrect / insufficient type definitions associated.\n\n### Code Snippet\n\nthe project that got this all started is located at https://github.com/vini-vici/front-end\r\n\r\nSome examples:\r\n\r\n```ts\r\nimport Auth from '@aws-amplify/auth';\r\n// Return type of Auth.signIn is `Promise<any>` when the result is `CognitoUser`\r\nconst value = await Auth.signIn('user','very secure password'); \r\n\r\n// Return type for Auth.currentUserInfo() is `Promise<any>` when it is more accurately conveyed as `{ username: string; attributes: Record<string, string | boolean>}`\r\nconst currentUser = await Auth.currentUserInfo();\r\n\r\n// return type `Promise<any>`\r\nconst confirmSignup = await Auth.confirmSignUp('new user', 'new password');\r\n\r\n// Return type `Promise<any>`\r\nconst signedOut = await Auth.signOut();\r\n```\r\n\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\nN/A\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\nCurrently the work around is to have to manually type the statements, e.g.\r\n\r\n```ts\r\nconst user = await Auth.signIn(username, password) as CognitoUser;\r\n```\r\n\r\nThis becomes harder in more obscure places where it's much harder to tell what the return result actually is, or if it has an associated type in the definitions.",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9286/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9283",
    "id": 1064591566,
    "node_id": "I_kwDOBkswNc4_dGDO",
    "number": 9283,
    "title": "Amplify Auth authenticator in React Native has no date picker",
    "user": {
      "login": "paulsjohnson91",
      "id": 28013436,
      "node_id": "MDQ6VXNlcjI4MDEzNDM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/28013436?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulsjohnson91",
      "html_url": "https://github.com/paulsjohnson91",
      "followers_url": "https://api.github.com/users/paulsjohnson91/followers",
      "following_url": "https://api.github.com/users/paulsjohnson91/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulsjohnson91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulsjohnson91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulsjohnson91/subscriptions",
      "organizations_url": "https://api.github.com/users/paulsjohnson91/orgs",
      "repos_url": "https://api.github.com/users/paulsjohnson91/repos",
      "events_url": "https://api.github.com/users/paulsjohnson91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulsjohnson91/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "evcodes",
      "id": 22283303,
      "node_id": "MDQ6VXNlcjIyMjgzMzAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/22283303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evcodes",
      "html_url": "https://github.com/evcodes",
      "followers_url": "https://api.github.com/users/evcodes/followers",
      "following_url": "https://api.github.com/users/evcodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/evcodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evcodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evcodes/subscriptions",
      "organizations_url": "https://api.github.com/users/evcodes/orgs",
      "repos_url": "https://api.github.com/users/evcodes/repos",
      "events_url": "https://api.github.com/users/evcodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evcodes/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "evcodes",
        "id": 22283303,
        "node_id": "MDQ6VXNlcjIyMjgzMzAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/22283303?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/evcodes",
        "html_url": "https://github.com/evcodes",
        "followers_url": "https://api.github.com/users/evcodes/followers",
        "following_url": "https://api.github.com/users/evcodes/following{/other_user}",
        "gists_url": "https://api.github.com/users/evcodes/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/evcodes/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/evcodes/subscriptions",
        "organizations_url": "https://api.github.com/users/evcodes/orgs",
        "repos_url": "https://api.github.com/users/evcodes/repos",
        "events_url": "https://api.github.com/users/evcodes/events{/privacy}",
        "received_events_url": "https://api.github.com/users/evcodes/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-11-26T15:16:07Z",
    "updated_at": "2021-12-03T21:52:53Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Is this related to a new or existing framework?\n\nReact Native\n\n### Is this related to a new or existing API?\n\nAuthentication\n\n### Is this related to another service?\n\n_No response_\n\n### Describe the feature you'd like to request\n\nI'm currently trying to incorporate the Amplify HOC Authenticator in a react native application.\r\n\r\nAs a required field I have birthdate on cognito (due to apple's legal requirement that users confirm they are over 13.\r\n\r\nSetting type to 'date' or 'datetime' just leaves them as a text entry field:\r\n```\r\nconst signUpConfig = {\r\n  header: 'Create an account',\r\n  hideAllDefaults: true,\r\n  signUpFields: [\r\n    {\r\n      label: 'Username',\r\n      key: 'username',\r\n      required: true,\r\n      displayOrder: 1,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Email',\r\n      key: 'email',\r\n      required: true,\r\n      displayOrder: 2,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Password',\r\n      key: 'password',\r\n      required: true,\r\n      displayOrder: 3,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Given Name',\r\n      key: 'given_name',\r\n      required: true,\r\n      displayOrder: 4,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Family Name',\r\n      key: 'family_name',\r\n      required: true,\r\n      displayOrder: 5,\r\n      type: 'string'\r\n    },\r\n    {\r\n      label: 'Birthdate',\r\n      type: 'datetime',\r\n      key: 'birthdate',\r\n      required: true,\r\n      displayOrder: 6\r\n    },\r\n  ]\r\n};\r\n```\r\n![Screenshot_1637939703](https://user-images.githubusercontent.com/28013436/143601369-13059227-72e4-4371-bdcf-fa77ce5b199a.png)\r\n\n\n### Describe the solution you'd like\n\nUse the native iOS and android datepicker modules to be able to set the date in the Authenticator HOC\n\n### Describe alternatives you've considered\n\nMy only option right now is to not use the Authenticator HOC and create my own\n\n### Additional context\n\n_No response_\n\n### Is this something that you'd be interested in working on?\n\n- [ ]  I may be able to implement this feature request\n- [ ]  This feature might incur a breaking change",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9283/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9281",
    "id": 1063795171,
    "node_id": "I_kwDOBkswNc4_aDnj",
    "number": 9281,
    "title": "Pinpoint requests fail if client's clock is not accurate with error \"Signature expired\" or \"Signature not yet current\"",
    "user": {
      "login": "hisham",
      "id": 81853,
      "node_id": "MDQ6VXNlcjgxODUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/81853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hisham",
      "html_url": "https://github.com/hisham",
      "followers_url": "https://api.github.com/users/hisham/followers",
      "following_url": "https://api.github.com/users/hisham/following{/other_user}",
      "gists_url": "https://api.github.com/users/hisham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hisham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hisham/subscriptions",
      "organizations_url": "https://api.github.com/users/hisham/orgs",
      "repos_url": "https://api.github.com/users/hisham/repos",
      "events_url": "https://api.github.com/users/hisham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hisham/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 864677329,
        "node_id": "MDU6TGFiZWw4NjQ2NzczMjk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Analytics",
        "name": "Analytics",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to analytics"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "jamesaucode",
      "id": 40404256,
      "node_id": "MDQ6VXNlcjQwNDA0MjU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/40404256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesaucode",
      "html_url": "https://github.com/jamesaucode",
      "followers_url": "https://api.github.com/users/jamesaucode/followers",
      "following_url": "https://api.github.com/users/jamesaucode/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesaucode/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesaucode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesaucode/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesaucode/orgs",
      "repos_url": "https://api.github.com/users/jamesaucode/repos",
      "events_url": "https://api.github.com/users/jamesaucode/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesaucode/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "jamesaucode",
        "id": 40404256,
        "node_id": "MDQ6VXNlcjQwNDA0MjU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/40404256?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jamesaucode",
        "html_url": "https://github.com/jamesaucode",
        "followers_url": "https://api.github.com/users/jamesaucode/followers",
        "following_url": "https://api.github.com/users/jamesaucode/following{/other_user}",
        "gists_url": "https://api.github.com/users/jamesaucode/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jamesaucode/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jamesaucode/subscriptions",
        "organizations_url": "https://api.github.com/users/jamesaucode/orgs",
        "repos_url": "https://api.github.com/users/jamesaucode/repos",
        "events_url": "https://api.github.com/users/jamesaucode/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jamesaucode/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2021-11-25T16:58:24Z",
    "updated_at": "2021-11-29T14:37:59Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nAngular\n\n### Amplify APIs\n\nAnalytics\n\n### Amplify Categories\n\nauth, storage, function, api, analytics\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 11.5.2\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-8850H CPU @ 2.60GHz\r\n    Memory: 581.54 MB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.15.3 - ~/.nvm/versions/node/v14.15.3/bin/node\r\n    npm: 7.19.1 - ~/.nvm/versions/node/v14.15.3/bin/npm\r\n    Watchman: 2021.10.04.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.55\r\n    Edge: 96.0.1054.34\r\n    Firefox: 94.0.1\r\n    Safari: 14.1.2\r\n  npmPackages:\r\n    @angular-builders/custom-webpack: ^12.1.0 => 12.1.0 \r\n    @angular-devkit/build-angular: ^12.1.1 => 12.1.1 \r\n    @angular-eslint/builder: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/eslint-plugin: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/eslint-plugin-template: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/schematics: 12.2.0 => 12.2.0 \r\n    @angular-eslint/template-parser: ^12.0.0 => 12.2.0 \r\n    @angular/animations: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cdk: ^12.1.1 => 12.1.1 \r\n    @angular/cdk/a11y:  undefined ()\r\n    @angular/cdk/accordion:  undefined ()\r\n    @angular/cdk/bidi:  undefined ()\r\n    @angular/cdk/clipboard:  undefined ()\r\n    @angular/cdk/coercion:  undefined ()\r\n    @angular/cdk/collections:  undefined ()\r\n    @angular/cdk/drag-drop:  undefined ()\r\n    @angular/cdk/keycodes:  undefined ()\r\n    @angular/cdk/layout:  undefined ()\r\n    @angular/cdk/observers:  undefined ()\r\n    @angular/cdk/overlay:  undefined ()\r\n    @angular/cdk/platform:  undefined ()\r\n    @angular/cdk/portal:  undefined ()\r\n    @angular/cdk/scrolling:  undefined ()\r\n    @angular/cdk/stepper:  undefined ()\r\n    @angular/cdk/table:  undefined ()\r\n    @angular/cdk/testing:  undefined ()\r\n    @angular/cdk/testing/protractor:  undefined ()\r\n    @angular/cdk/testing/selenium-webdriver:  undefined ()\r\n    @angular/cdk/testing/testbed:  undefined ()\r\n    @angular/cdk/text-field:  undefined ()\r\n    @angular/cdk/tree:  undefined ()\r\n    @angular/cli: ~12.1.1 => 12.1.1 \r\n    @angular/common: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ~12.1.1 => 12.1.1 \r\n    @angular/compiler-cli: ^12.1.1 => 12.1.1 \r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/core/testing:  undefined ()\r\n    @angular/elements: ~12.1.1 => 12.1.1 \r\n    @angular/forms: ~12.1.1 => 12.1.1 \r\n    @angular/material: ^12.1.1 => 12.1.1 \r\n    @angular/material/autocomplete:  undefined ()\r\n    @angular/material/autocomplete/testing:  undefined ()\r\n    @angular/material/badge:  undefined ()\r\n    @angular/material/badge/testing:  undefined ()\r\n    @angular/material/bottom-sheet:  undefined ()\r\n    @angular/material/bottom-sheet/testing:  undefined ()\r\n    @angular/material/button:  undefined ()\r\n    @angular/material/button-toggle:  undefined ()\r\n    @angular/material/button-toggle/testing:  undefined ()\r\n    @angular/material/button/testing:  undefined ()\r\n    @angular/material/card:  undefined ()\r\n    @angular/material/card/testing:  undefined ()\r\n    @angular/material/checkbox:  undefined ()\r\n    @angular/material/checkbox/testing:  undefined ()\r\n    @angular/material/chips:  undefined ()\r\n    @angular/material/chips/testing:  undefined ()\r\n    @angular/material/core:  undefined ()\r\n    @angular/material/core/testing:  undefined ()\r\n    @angular/material/datepicker:  undefined ()\r\n    @angular/material/datepicker/testing:  undefined ()\r\n    @angular/material/dialog:  undefined ()\r\n    @angular/material/dialog/testing:  undefined ()\r\n    @angular/material/divider:  undefined ()\r\n    @angular/material/divider/testing:  undefined ()\r\n    @angular/material/expansion:  undefined ()\r\n    @angular/material/expansion/testing:  undefined ()\r\n    @angular/material/form-field:  undefined ()\r\n    @angular/material/form-field/testing:  undefined ()\r\n    @angular/material/form-field/testing/control:  undefined ()\r\n    @angular/material/grid-list:  undefined ()\r\n    @angular/material/grid-list/testing:  undefined ()\r\n    @angular/material/icon:  undefined ()\r\n    @angular/material/icon/testing:  undefined ()\r\n    @angular/material/input:  undefined ()\r\n    @angular/material/input/testing:  undefined ()\r\n    @angular/material/list:  undefined ()\r\n    @angular/material/list/testing:  undefined ()\r\n    @angular/material/menu:  undefined ()\r\n    @angular/material/menu/testing:  undefined ()\r\n    @angular/material/paginator:  undefined ()\r\n    @angular/material/paginator/testing:  undefined ()\r\n    @angular/material/progress-bar:  undefined ()\r\n    @angular/material/progress-bar/testing:  undefined ()\r\n    @angular/material/progress-spinner:  undefined ()\r\n    @angular/material/progress-spinner/testing:  undefined ()\r\n    @angular/material/radio:  undefined ()\r\n    @angular/material/radio/testing:  undefined ()\r\n    @angular/material/select:  undefined ()\r\n    @angular/material/select/testing:  undefined ()\r\n    @angular/material/sidenav:  undefined ()\r\n    @angular/material/sidenav/testing:  undefined ()\r\n    @angular/material/slide-toggle:  undefined ()\r\n    @angular/material/slide-toggle/testing:  undefined ()\r\n    @angular/material/slider:  undefined ()\r\n    @angular/material/slider/testing:  undefined ()\r\n    @angular/material/snack-bar:  undefined ()\r\n    @angular/material/snack-bar/testing:  undefined ()\r\n    @angular/material/sort:  undefined ()\r\n    @angular/material/sort/testing:  undefined ()\r\n    @angular/material/stepper:  undefined ()\r\n    @angular/material/stepper/testing:  undefined ()\r\n    @angular/material/table:  undefined ()\r\n    @angular/material/table/testing:  undefined ()\r\n    @angular/material/tabs:  undefined ()\r\n    @angular/material/tabs/testing:  undefined ()\r\n    @angular/material/toolbar:  undefined ()\r\n    @angular/material/toolbar/testing:  undefined ()\r\n    @angular/material/tooltip:  undefined ()\r\n    @angular/material/tooltip/testing:  undefined ()\r\n    @angular/material/tree:  undefined ()\r\n    @angular/material/tree/testing:  undefined ()\r\n    @angular/platform-browser: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/platform-browser-dynamic: ~12.1.1 => 12.1.1 \r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @gammastream/scully-plugin-sitemap: ^1.0.7 => 1.0.7 \r\n    @ng-select/ng-option-highlight: 0.0.6 => 0.0.6 \r\n    @ng-select/ng-select: ^7.1.0 => 7.1.0 \r\n    @ngneat/until-destroy: ^8.0.3 => 8.0.4 \r\n    @scullyio/init: ^1.1.4 => 1.1.4 \r\n    @scullyio/ng-lib: ^1.1.1 => 1.1.1 \r\n    @scullyio/scully: ^1.1.1 => 1.1.1 \r\n    @scullyio/scully-plugin-critical-css: 0.1.1 => 0.1.1 \r\n    @sentry/angular: ^6.13.2 => 6.13.2 \r\n    @sentry/cli: ^1.66.0 => 1.66.0 \r\n    @sentry/tracing: ^6.13.2 => 6.13.2 (5.30.0)\r\n    @types/applepayjs: ^3.0.1 => 3.0.1 \r\n    @types/cheerio: ^0.22.23 => 0.22.29 \r\n    @types/imagemin: ^7.0.0 => 7.0.0 \r\n    @types/imagemin-gifsicle: ^7.0.0 => 7.0.0 \r\n    @types/imagemin-mozjpeg: ^8.0.0 => 8.0.0 \r\n    @types/imagemin-optipng: ^5.2.0 => 5.2.0 \r\n    @types/imagemin-svgo: ^8.0.0 => 8.0.1 \r\n    @types/jasmine: ~3.6.0 => 3.6.11 \r\n    @types/jasminewd2: ~2.0.3 => 2.0.9 \r\n    @types/js-beautify: ^1.13.1 => 1.13.1 \r\n    @types/jsdom: ^16.2.5 => 16.2.12 \r\n    @types/marked: ^1.2.0 => 1.2.2 \r\n    @types/node: 14.0.4 => 14.0.4 \r\n    @types/node-zendesk: ^1.4.0 => 1.4.0 \r\n    @types/yamljs: ^0.2.31 => 0.2.31 \r\n    @typescript-eslint/eslint-plugin: 4.23.0 => 4.23.0 \r\n    @typescript-eslint/parser: 4.23.0 => 4.23.0 (3.10.1)\r\n    angular-cc-library: ^2.1.2 => 2.1.2 \r\n    array-flat-polyfill: ^1.0.1 => 1.0.1 \r\n    aws-amplify: ^4.3.8 => 4.3.8 \r\n    axios: ^0.21.1 => 0.21.4 \r\n    body-parser: ^1.19.0 => 1.19.0 \r\n    cheerio: ^1.0.0-rc.3 => 1.0.0-rc.10 (0.22.0)\r\n    commander: ^2.20.3 => 2.20.3 (4.1.1, 7.2.0, 2.13.0, 6.2.1)\r\n    document-register-element: ^1.7.2 => 1.14.10 \r\n    dotenv-webpack: ^7.0.3 => 7.0.3 \r\n    eslint: ^7.26.0 => 7.30.0 \r\n    eslint-config-prettier: ^8.3.0 => 8.3.0 \r\n    eslint-plugin-import: latest => 2.23.4 \r\n    eslint-plugin-jsdoc: latest => 35.4.1 \r\n    eslint-plugin-prefer-arrow: latest => 1.2.3 \r\n    eslint-plugin-react: latest => 7.24.0 \r\n    example-typescript:  1.0.0 \r\n    fast-xml-parser: ^3.17.6 => 3.19.0 \r\n    folder-hash: ^3.3.0 => 3.3.3 \r\n    fractional: ^1.0.0 => 1.0.0 \r\n    front-matter: ^4.0.2 => 4.0.2 \r\n    fs-extra: ^9.0.0 => 9.1.0 (8.1.0, 1.0.0)\r\n    image-size: ^0.9.7 => 0.9.7 (0.5.5, 0.6.3)\r\n    imagemin: ^7.0.1 => 7.0.1 \r\n    imagemin-gifsicle: ^7.0.0 => 7.0.0 \r\n    imagemin-mozjpeg: ^9.0.0 => 9.0.0 \r\n    imagemin-optipng: ^8.0.0 => 8.0.0 \r\n    imagemin-svgo: ^8.0.0 => 8.0.0 \r\n    jasmine-core: ~3.6.0 => 3.6.0 (2.8.0)\r\n    jasmine-spec-reporter: ~5.0.0 => 5.0.2 \r\n    js-beautify: ^1.13.0 => 1.14.0 \r\n    js-yaml-loader: ^1.2.2 => 1.2.2 \r\n    json_encode: ^0.1.0 => 0.1.0 \r\n    karma: ~6.3.4 => 6.3.4 \r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0 \r\n    karma-coverage-istanbul-reporter: ~3.0.2 => 3.0.3 \r\n    karma-jasmine: ~4.0.0 => 4.0.1 \r\n    karma-jasmine-html-reporter: ^1.5.0 => 1.6.0 \r\n    lib:  0.0.1 \r\n    libphonenumber-js: ^1.8.3 => 1.9.20 \r\n    libphonenumber-js-core:  1.0.0 \r\n    libphonenumber-js-max:  1.0.0 \r\n    libphonenumber-js-min:  1.0.0 \r\n    libphonenumber-js-mobile:  1.0.0 \r\n    lodash-es: ^4.17.15 => 4.17.21 \r\n    lodash.merge: ^4.6.2 => 4.6.2 \r\n    lodash.snakecase: ^4.1.1 => 4.1.1 \r\n    marked: ^1.2.5 => 1.2.9 (2.1.3)\r\n    ng2-pdf-viewer: ^6.3.2 => 6.4.1 \r\n    ngx-build-plus: ^12.0.1 => 12.0.1 \r\n    ngx-webcam: ^0.3.2 => 0.3.2 \r\n    node-example:  1.0.0 \r\n    object.fromentries: ^2.0.2 => 2.0.4 \r\n    prettier-eslint: ^12.0.0 => 12.0.0 \r\n    prompt-sync: ^4.2.0 => 4.2.0 \r\n    protractor: ~7.0.0 => 7.0.0 \r\n    protractor-example:  1.0.0 \r\n    rxjs: ~6.6.6 => 6.6.7 (6.4.0, 6.5.4)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    s-ago: ^2.2.0 => 2.2.0 \r\n    scully-plugin-minify-html: ^6.0.0 => 6.0.0 \r\n    stripe: ^8.169.0 => 8.169.0 \r\n    svg-inline-loader: ^0.8.2 => 0.8.2 \r\n    tmp: ^0.1.0 => 0.1.0 (0.2.1, 0.0.33, 0.0.30)\r\n    ts-node: ~8.3.0 => 8.3.0 (10.0.0)\r\n    tslib: ^2.0.0 => 2.3.0 (1.14.1)\r\n    typescript: ~4.3.5 => 4.3.5 (4.3.4, 3.9.10)\r\n    typescript-example:  1.0.0 \r\n    uuid: ^8.3.1 => 8.3.2 (3.4.0, 3.3.2)\r\n    webpack-bundle-analyzer: ^4.4.2 => 4.4.2 \r\n    which: ^2.0.2 => 2.0.2 (1.3.1)\r\n    xmlbuilder: ^15.1.1 => 15.1.1 (9.0.7, 11.0.1)\r\n    yamljs: ^0.3.0 => 0.3.0 \r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.4 => 0.11.4 (0.10.3)\r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    @angular/cli: 12.1.1\r\n    @aws-amplify/cli: 7.4.5\r\n    firebase-tools: 9.8.0\r\n    local-web-server: 4.2.1\r\n    npm: 7.19.1\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nIf client's clock is ahead or behind, pinpoint network events will fail. It will fail with \"Signature expired\" if clock is behind and \"Signature not yet current\" if clock is ahead. \r\n\r\nIt seems this was reported in https://github.com/aws-amplify/amplify-js/issues/3699 but not resolved. \n\n### Expected behavior\n\nNetwork events should work regardless. \n\n### Reproduction steps\n\nSet your clock ahead or behind and do an Analytics.record. \n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\nzone.js:1465 PUT https://pinpoint.us-east-1.amazonaws.com/v1/apps/<redact>/endpoints/<redact> 403 (Forbidden)\r\n(anonymous) @ zone.js:1465\r\nproto.<computed> @ zone.js:975\r\n(anonymous) @ instrument.js:136\r\nFetchHttpHandler.handle @ fetch-http-handler.js:45\r\n(anonymous) @ UpdateEndpointCommand.js:39\r\n(anonymous) @ deserializerMiddleware.js:6\r\nstep @ tslib?3fce:100\r\n(anonymous) @ tslib?3fce:81\r\n(anonymous) @ tslib?3fce:74\r\nZoneAwarePromise @ zone.js:1387\r\n__awaiter @ tslib?3fce:70\r\n(anonymous) @ deserializerMiddleware.js:2\r\n(anonymous) @ middleware.js:36\r\nstep @ tslib?5ab6:100\r\n(anonymous) @ tslib?5ab6:81\r\nfulfilled @ tslib?5ab6:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\n(anonymous) @ SignatureV4.js:247\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\nhmac @ credentialDerivation.js:85\r\n(anonymous) @ credentialDerivation.js:53\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\nhmac @ credentialDerivation.js:85\r\n(anonymous) @ credentialDerivation.js:53\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\nhmac @ credentialDerivation.js:85\r\n(anonymous) @ credentialDerivation.js:53\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\nhmac @ credentialDerivation.js:85\r\n(anonymous) @ credentialDerivation.js:53\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:35\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ webCryptoSha256.js:14\r\nZoneAwarePromise @ zone.js:1387\r\nSha256 @ webCryptoSha256.js:11\r\nSha256 @ crossPlatformSha256.js:13\r\nhmac @ credentialDerivation.js:85\r\n(anonymous) @ credentialDerivation.js:33\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\n(anonymous) @ tslib?7f3a:74\r\nZoneAwarePromise @ zone.js:1387\r\n__awaiter @ tslib?7f3a:70\r\ngetSigningKey @ credentialDerivation.js:28\r\nSignatureV4.getSigningKey @ SignatureV4.js:257\r\n(anonymous) @ SignatureV4.js:195\r\nstep @ tslib?7f3a:100\r\n(anonymous) @ tslib?7f3a:81\r\nfulfilled @ tslib?7f3a:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\nresolvePromise @ zone.js:1171\r\n(anonymous) @ zone.js:1279\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nthen @ zone.js:1410\r\n_scheduleCountTask @ animations.js:183\r\n(anonymous) @ animations.js:212\r\ninvoke @ zone.js:372\r\nrun @ zone.js:134\r\nrunOutsideAngular @ core.js:28576\r\nend @ animations.js:211\r\nrenderComponentOrTemplate @ core.js:9563\r\ntickRootContext @ core.js:10790\r\ndetectChangesInRootView @ core.js:10815\r\ndetectChanges @ core.js:22865\r\ntick @ core.js:29679\r\n(anonymous) @ core.js:29539\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\nrun @ core.js:28531\r\nnext @ core.js:29538\r\n__tryOrUnsub @ Subscriber.js:183\r\nnext @ Subscriber.js:122\r\n_next @ Subscriber.js:72\r\nnext @ Subscriber.js:49\r\nnext @ Subject.js:39\r\nemit @ core.js:25946\r\ncheckStable @ core.js:28599\r\nonHasTask @ core.js:28694\r\nhasTask @ zone.js:426\r\n_updateTaskCount @ zone.js:447\r\n_updateTaskCount @ zone.js:274\r\nrunTask @ zone.js:195\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\nresolvePromise @ zone.js:1171\r\n(anonymous) @ zone.js:1120\r\n(anonymous) @ tslib?f73c:69\r\nZoneAwarePromise @ zone.js:1387\r\nadopt @ tslib?f73c:69\r\nstep @ tslib?f73c:73\r\n(anonymous) @ tslib?f73c:74\r\nZoneAwarePromise @ zone.js:1387\r\n__awaiter @ tslib?f73c:70\r\ncollectStream @ stream-collector.js:25\r\nstreamCollector @ stream-collector.js:8\r\ncollectBody @ Aws_json1_1.js:3002\r\ncollectBodyString @ Aws_json1_1.js:3006\r\nparseBody @ Aws_json1_1.js:3034\r\n(anonymous) @ Aws_json1_1.js:674\r\nstep @ tslib.es6.js:102\r\n(anonymous) @ tslib.es6.js:83\r\n(anonymous) @ tslib.es6.js:76\r\nZoneAwarePromise @ zone.js:1387\r\n__awaiter @ tslib.es6.js:72\r\ndeserializeAws_json1_1GetCredentialsForIdentityCommand @ Aws_json1_1.js:666\r\nGetCredentialsForIdentityCommand.deserialize @ GetCredentialsForIdentityCommand.js:50\r\n(anonymous) @ deserializerMiddleware.js:9\r\nstep @ tslib?3fce:100\r\n(anonymous) @ tslib?3fce:81\r\nfulfilled @ tslib?3fce:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nTaskTrackingZoneSpec.onScheduleTask @ task-tracking.js:51\r\nscheduleTask @ zone.js:386\r\nonScheduleTask @ zone.js:283\r\nscheduleTask @ zone.js:386\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nresolvePromise @ zone.js:1204\r\n(anonymous) @ zone.js:1120\r\nPromise.then (async)\r\n(anonymous) @ zone.js:1456\r\nZoneAwarePromise @ zone.js:1387\r\nCtor.then @ zone.js:1455\r\n(anonymous) @ instrument.js:136\r\nFetchHttpHandler.handle @ fetch-http-handler.js:45\r\n(anonymous) @ GetCredentialsForIdentityCommand.js:43\r\n(anonymous) @ deserializerMiddleware.js:6\r\nstep @ tslib?3fce:100\r\n(anonymous) @ tslib?3fce:81\r\n(anonymous) @ tslib?3fce:74\r\nZoneAwarePromise @ zone.js:1387\r\n__awaiter @ tslib?3fce:70\r\n(anonymous) @ deserializerMiddleware.js:2\r\n(anonymous) @ defaultStrategy.js:74\r\nstep @ tslib?a924:100\r\n(anonymous) @ tslib?a924:81\r\nstep @ tslib?a924:85\r\n(anonymous) @ tslib?a924:81\r\nfulfilled @ tslib?a924:71\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\n(anonymous) @ zone.js:1276\r\ninvokeTask @ zone.js:406\r\nTaskTrackingZoneSpec.onInvokeTask @ task-tracking.js:73\r\ninvokeTask @ zone.js:405\r\nonInvokeTask @ core.js:28664\r\ninvokeTask @ zone.js:405\r\nrunTask @ zone.js:178\r\ndrainMicroTaskQueue @ zone.js:582\r\nPromise.then (async)\r\nscheduleMicroTask @ zone.js:565\r\nscheduleTask @ zone.js:396\r\nscheduleTask @ zone.js:221\r\nscheduleMicroTask @ zone.js:241\r\nscheduleResolveOrReject @ zone.js:1266\r\nthen @ zone.js:1410\r\n_scheduleCountTask @ animations.js:183\r\n(anonymous) @ animations.js:212\r\ninvoke @ zone.js:372\r\nrun @ zone.js:134\r\nrunOutsideAngular @ core.js:28576\r\nend @ animations.js:211\r\nrenderComponentOrTemplate @ core.js:9563\r\ntickRootContext @ core.js:10790\r\ndetectChangesInRootView @ core.js:10815\r\ndetectChanges @ core.js:22865\r\ntick @ core.js:29679\r\n(anonymous) @ core.js:29539\r\ninvoke @ zone.js:372\r\nonInvoke @ core.js:28677\r\ninvoke @ zone.js:371\r\nrun @ zone.js:134\r\nrun @ core.js:28531\r\nnext @ core.js:29538\r\n__tryOrUnsub @ Subscriber.js:183\r\nnext @ Subscriber.js:122\r\n_next @ Subscriber.js:72\r\nnext @ Subscriber.js:49\r\nnext @ Subject.js:39\r\nemit @ core.js:25946\r\ncheckStable @ core.js:28599\r\nonHasTask @ core.js:28694\r\nhasTask @ zone.js:426\r\n_updateTaskCount @ zone.js:447\r\n_updateTaskCount @ zone.js:274\r\nrunTask @ zone.js:195\r\ndrainMicroTaskQueue @ zone.js:582\r\nShow 147 more frames\r\ninstrument.js:109 Error: Uncaught (in promise): Signature not yet current: 20211125T175917Z is still later than 20211125T170024Z (20211125T165524Z + 5 min.)\r\nSignature not yet current: 20211125T175917Z is still later than 20211125T170024Z (20211125T165524Z + 5 min.)\r\n    at Aws_restJson1.js:14669\r\n    at step (tslib.es6.js:102)\r\n    at Object.next (tslib.es6.js:83)\r\n    at fulfilled (tslib.es6.js:73)\r\n    at ZoneDelegate.invoke (zone.js:372)\r\n    at Object.onInvoke (core.js:28677)\r\n    at ZoneDelegate.invoke (zone.js:371)\r\n    at Zone.run (zone.js:134)\r\n    at zone.js:1276\r\n    at ZoneDelegate.invokeTask (zone.js:406)\r\n    at TaskTrackingZoneSpec.onInvokeTask (task-tracking.js:73)\r\n    at ZoneDelegate.invokeTask (zone.js:405)\r\n    at Object.onInvokeTask (core.js:28664)\r\n    at ZoneDelegate.invokeTask (zone.js:405)\r\n    at Zone.runTask (zone.js:178)\r\n    at drainMicroTaskQueue (zone.js:582)\r\n    at resolvePromise (zone.js:1213)\r\n    at resolvePromise (zone.js:1167)\r\n    at zone.js:1279\r\n    at ZoneDelegate.invokeTask (zone.js:406)\r\n    at TaskTrackingZoneSpec.onInvokeTask (task-tracking.js:73)\r\n    at ZoneDelegate.invokeTask (zone.js:405)\r\n    at Object.onInvokeTask (core.js:28664)\r\n    at ZoneDelegate.invokeTask (zone.js:405)\r\n    at Zone.runTask (zone.js:178)\r\n    at drainMicroTaskQueue (zone.js:582)\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9281/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9279",
    "id": 1062954912,
    "node_id": "I_kwDOBkswNc4_W2eg",
    "number": 9279,
    "title": "Field-level using Groups returns null on CREATE/UPDATE calls",
    "user": {
      "login": "benkirbycodes",
      "id": 54716741,
      "node_id": "MDQ6VXNlcjU0NzE2NzQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/54716741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benkirbycodes",
      "html_url": "https://github.com/benkirbycodes",
      "followers_url": "https://api.github.com/users/benkirbycodes/followers",
      "following_url": "https://api.github.com/users/benkirbycodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/benkirbycodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benkirbycodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benkirbycodes/subscriptions",
      "organizations_url": "https://api.github.com/users/benkirbycodes/orgs",
      "repos_url": "https://api.github.com/users/benkirbycodes/repos",
      "events_url": "https://api.github.com/users/benkirbycodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benkirbycodes/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 708993526,
        "node_id": "MDU6TGFiZWw3MDg5OTM1MjY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/bug",
        "name": "bug",
        "color": "d73a4a",
        "default": true,
        "description": "Something isn't working"
      },
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      },
      {
        "id": 908644642,
        "node_id": "MDU6TGFiZWw5MDg2NDQ2NDI=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/GraphQL",
        "name": "GraphQL",
        "color": "e535ab",
        "default": false,
        "description": "Related to GraphQL"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2021-11-24T22:15:34Z",
    "updated_at": "2022-01-11T18:29:37Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact\n\n### Amplify APIs\n\nGraphQL API\n\n### Amplify Categories\n\nauth, function, api\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (8) x64 Apple M1\r\n    Memory: 137.84 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - /usr/local/bin/node\r\n    Yarn: 1.22.10 - /usr/local/bin/yarn\r\n    npm: 8.1.0 - /usr/local/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.55\r\n    Firefox Developer Edition: 95.0\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @aws-amplify/cli: ^7.3.1 => 7.3.1 \r\n    @aws-amplify/ui-react: ^1.2.24 => 1.2.24 \r\n    @babel/eslint-parser: ^7.15.8 => 7.16.3 \r\n    @date-io/core: ^2.10.7 => 2.11.0 (1.3.13)\r\n    @date-io/moment: 1.x => 1.3.13 \r\n    @material-ui/core: ^4.12.3 => 4.12.3 \r\n    @material-ui/icons: ^4.11.2 => 4.11.2 \r\n    @material-ui/lab: ^4.0.0-alpha.57 => 4.0.0-alpha.60 \r\n    @material-ui/pickers: ^3.3.10 => 3.3.10 \r\n    @mui/x-data-grid: ^4.0.1 => 4.0.2 \r\n    @reduxjs/toolkit: ^1.6.1 => 1.6.2 \r\n    @reduxjs/toolkit-query:  1.0.0 \r\n    @reduxjs/toolkit-query-react:  1.0.0 \r\n    @testing-library/dom: ^7.29.4 => 7.31.2 \r\n    @testing-library/jest-dom: ^5.11.9 => 5.15.0 \r\n    @testing-library/react: ^11.2.5 => 11.2.7 \r\n    @testing-library/user-event: ^12.7.1 => 12.8.3 \r\n    @typescript-eslint/eslint-plugin: ^4.0.0 => 4.33.0 \r\n    @typescript-eslint/parser: ^4.0.0 => 4.33.0 \r\n    aws-amplify: ^4.3.6 => 4.3.6 \r\n    babel-eslint: ^10.0.0 => 10.1.0 \r\n    blob-stream: ^0.1.3 => 0.1.3 \r\n    chart.js: ^2.9.4 => 2.9.4 \r\n    core-js: ^3.8.3 => 3.19.1 (2.6.12)\r\n    deep-equal: ^2.0.5 => 2.0.5 (1.1.1)\r\n    eslint: ^7.5.0 => 7.32.0 \r\n    eslint-config-react-app: ^6.0.0 => 6.0.0 \r\n    eslint-config-standard: ^16.0.3 => 16.0.3 \r\n    eslint-plugin-flowtype: ^5.2.0 => 5.10.0 \r\n    eslint-plugin-import: ^2.22.0 => 2.25.3 \r\n    eslint-plugin-jsx-a11y: ^6.3.1 => 6.5.1 \r\n    eslint-plugin-node: ^11.1.0 => 11.1.0 \r\n    eslint-plugin-promise: ^5.1.0 => 5.1.1 \r\n    eslint-plugin-react: ^7.20.3 => 7.27.0 \r\n    eslint-plugin-react-hooks: ^4.0.8 => 4.3.0 \r\n    example:  1.0.0 \r\n    fetch-mock: ^9.3.1 => 9.11.0 \r\n    file-saver: ^2.0.5 => 2.0.5 \r\n    formik: ^2.2.6 => 2.2.9 \r\n    jsonexport: ^3.2.0 => 3.2.0 \r\n    material-ui-phone-number: ^2.2.6 => 2.2.6 \r\n    moment: ^2.29.1 => 2.29.1 \r\n    new-plugin-package:  1.0.0 \r\n    node-fetch: ^2.6.1 => 2.6.6 (2.1.2, 1.7.3)\r\n    pdfkit-browserify: ^0.8.3-R2 => 0.8.3-R2 \r\n    prettier: ^1.19.1 => 1.19.1 \r\n    prop-types: ^15.7.2 => 15.7.2 \r\n    react: ^17.0.1 => 17.0.2 (16.14.0)\r\n    react-app-polyfill: ^2.0.0 => 2.0.0 \r\n    react-chartjs-2: ^2.11.1 => 2.11.2 \r\n    react-cookie: ^4.0.3 => 4.1.1 \r\n    react-credit-cards: ^0.8.3 => 0.8.3 \r\n    react-dnd: ^11.1.3 => 11.1.3 \r\n    react-dnd-html5-backend: ^11.1.3 => 11.1.3 \r\n    react-dom: ^16.13.1 => 16.14.0 \r\n    react-draggable: ^4.4.3 => 4.4.4 \r\n    react-fullstory: ^1.4.0 => 1.4.0 \r\n    react-ga: ^3.1.2 => 3.3.0 \r\n    react-material-ui-carousel: ^2.3.5 => 2.3.8 \r\n    react-recaptcha: ^2.3.10 => 2.3.10 \r\n    react-redux: ^7.2.0 => 7.2.6 \r\n    react-router-dom: ^5.1.2 => 5.3.0 \r\n    react-scripts: ^4.0.2 => 4.0.3 \r\n    react-sliding-pane: ^7.0.0 => 7.1.0 \r\n    react-square-payment-form: ^0.7.2 => 0.7.2 \r\n    react-stack-grid: ^0.7.1 => 0.7.1 \r\n    redux: ^4.0.5 => 4.1.2 \r\n    redux-devtools: ^3.5.0 => 3.7.0 \r\n    redux-devtools-extension: ^2.13.8 => 2.13.9 \r\n    redux-immutable-state-invariant: ^2.1.0 => 2.1.0 \r\n    redux-mock-store: ^1.5.4 => 1.5.4 \r\n    redux-thunk: ^2.3.0 => 2.4.0 \r\n    reselect: ^4.0.0 => 4.1.2 \r\n    uuid: ^8.3.2 => 8.3.2 (3.4.0, 3.3.2)\r\n    yup: ^0.29.3 => 0.29.3 \r\n    zxcvbn: ^4.4.2 => 4.4.2 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 7.3.1\r\n    eslint: 8.0.1\r\n    gulp-cli: 2.3.0\r\n    n: 7.5.0\r\n    npm: 8.1.0\r\n    stable: 0.1.8\r\n    yarn: 1.22.10\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nWe have fields on a model that are protected by a field-level auth declaration. The declaration checks whether the user is in a group that has permissions to get the field value. \r\n\r\nIn the results of a GET request, these declarations are respected. In the results of both CREATE and UPDATE requests though, all users receive `null` for these fields, regardless of their group. \r\n\r\n\n\n### Expected behavior\n\nI would expect that the results of CREATE and UPDATE would contain the same fields as a GET request.\r\n\r\n*This may be a misunderstanding on my part, would love some further info if so*\n\n### Reproduction steps\n\n1. Create a new `type` in a graphqlAPI  with the `@model` attribute.\r\n2. Add a top-level auth declaration that checks for a `custom:tenant` value stored in Cognito (not sure if this is relevant to the issue).\r\n3. Add a field-level auth declaration that checks for a user's group in order to return the field value.\n\n### Code Snippet\n\n```javascript\r\ntype Resource\r\n  @model\r\n  @auth (\r\n    rules: [\r\n      { allow: owner, ownerField: \"tenantId\", identityClaim: \"custom:tenant\" }\r\n    ]\r\n  )\r\n{\r\n  id: ID!\r\n  tenantId: ID\r\n  actualHourlyRate: Float @auth(rules: [{ allow: groups, groups: [\"AllowedFinancials\"] }])\r\n}\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9279/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9273",
    "id": 1060781077,
    "node_id": "I_kwDOBkswNc4_OjwV",
    "number": 9273,
    "title": "API requests error with axios createError",
    "user": {
      "login": "txnico",
      "id": 68657787,
      "node_id": "MDQ6VXNlcjY4NjU3Nzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/68657787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/txnico",
      "html_url": "https://github.com/txnico",
      "followers_url": "https://api.github.com/users/txnico/followers",
      "following_url": "https://api.github.com/users/txnico/following{/other_user}",
      "gists_url": "https://api.github.com/users/txnico/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/txnico/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/txnico/subscriptions",
      "organizations_url": "https://api.github.com/users/txnico/orgs",
      "repos_url": "https://api.github.com/users/txnico/repos",
      "events_url": "https://api.github.com/users/txnico/events{/privacy}",
      "received_events_url": "https://api.github.com/users/txnico/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      },
      {
        "id": 1017484567,
        "node_id": "MDU6TGFiZWwxMDE3NDg0NTY3",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/React%20Native",
        "name": "React Native",
        "color": "3e93c0",
        "default": false,
        "description": "React Native related issue"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2021-11-23T02:42:58Z",
    "updated_at": "2021-12-19T19:31:24Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact Native\n\n### Amplify APIs\n\nREST API\n\n### Amplify Categories\n\napi\n\n### Environment information\n\n  System:\r\n    OS: macOS 11.6\r\n    CPU: (4) x64 Intel(R) Core(TM) i3-8100B CPU @ 3.60GHz\r\n    Memory: 296.13 MB / 8.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.13.1 - /usr/local/bin/node\r\n    Yarn: 1.22.10 - /usr/local/bin/yarn\r\n    npm: 6.14.8 - /usr/local/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.55\r\n    Safari: 15.0\r\n  npmPackages:\r\n    @expo/vector-icons: ^12.0.0 => 12.0.3 (12.0.5)\r\n    @ptomasroos/react-native-multi-slider: ^2.2.2 => 2.2.2 \r\n    @react-native-async-storage/async-storage: ^1.15.5 => 1.15.5 \r\n    @react-native-community/datetimepicker: 3.5.2 => 3.5.2 \r\n    @react-native-community/eslint-config:  1.1.0 \r\n    @react-native-community/eslint-plugin:  1.0.0 \r\n    @react-native-community/masked-view: 0.1.10 => 0.1.10 \r\n    @react-native-community/netinfo: 6.0.0 => 6.0.0 \r\n    @react-native-picker/picker: 1.16.1 => 1.16.1 \r\n    @react-navigation/bottom-tabs: ^5.11.1 => 5.11.2 \r\n    @react-navigation/drawer: ^5.11.4 => 5.11.4 \r\n    @react-navigation/native: ^5.8.9 => 5.8.10 (3.8.3)\r\n    @react-navigation/stack: ^5.12.7 => 5.12.8 \r\n    HelloWorld:  0.0.1 \r\n    amazon-cognito-identity-js: ^5.0.6 => 5.2.3 \r\n    aws-amplify: 4.3.8 => 4.3.8 \r\n    aws-amplify-react-native: 5.0.3 => 5.0.3 \r\n    babel-plugin-inline-view-configs:  0.0.5 \r\n    babel-preset-expo: 8.3.0 => 8.3.0 (8.4.1)\r\n    expo: ^42.0.0 => 42.0.3 \r\n    expo-constants: ~11.0.1 => 11.0.1 \r\n    expo-device: ~3.3.0 => 3.3.0 \r\n    expo-localization: ~10.2.0 => 10.2.0 \r\n    expo-location: ~12.1.2 => 12.1.2 \r\n    expo-notifications: ~0.12.3 => 0.12.3 \r\n    expo-permissions: ~12.1.1 => 12.1.1 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    moment: ^2.29.1 => 2.29.1 \r\n    native-base: 2.13.14 => 2.13.14 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-animated:  0.1.0 \r\n    react-native: https://github.com/expo/react-native/archive/sdk-42.0.0.tar.gz => 0.63.2 \r\n    react-native-appearance: ~0.3.3 => 0.3.4 \r\n    react-native-chart-kit: 6.7.0 => 6.7.0 \r\n    react-native-circular-progress: ^1.3.6 => 1.3.6 \r\n    react-native-codegen:  0.0.2 \r\n    react-native-gesture-handler: ~1.10.2 => 1.10.3 \r\n    react-native-modal-datetime-picker: ^9.1.0 => 9.1.0 \r\n    react-native-reanimated: ~2.2.0 => 2.2.0 \r\n    react-native-responsive-linechart: ^5.7.1 => 5.7.1 \r\n    react-native-safe-area-context: 3.2.0 => 3.2.0 \r\n    react-native-screens: ~3.4.0 => 3.4.0 \r\n    react-native-svg: 12.1.1 => 12.1.1 \r\n    react-navigation: 4.4.3 => 4.4.3 \r\n    react-navigation-drawer: ^1.4.0 => 1.4.0 \r\n    react-navigation-stack: 1.10.3 => 1.10.3 \r\n    react-navigation-tabs: ^1.2.0 => 1.2.0 \r\n    sharp-cli: ^1.14.1 => 1.14.1 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 4.21.1\r\n    create-react-native-app: 2.0.2\r\n    eslint: 7.15.0\r\n    expo-cli: 4.10.0\r\n    npm: 6.14.8\r\n    react-native-cli: 2.0.1\n\n### Describe the bug\n\nAll API.get calls to any endpoint in AWS fail with \"Network Error\" in axiom core during connection create.\r\n\r\n\n\n### Expected behavior\n\nAPi connections successful. \r\n\r\nAPI calls work as expected with aws-amplify 4.2.3 with no other code changes.\n\n### Reproduction steps\n\n- Install modules\r\n- Load app\r\n- App fails to load due to network error\r\n\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n        const apiName = 'apiName';\r\n        const path    = '/apiPath';\r\n        const myInit = {\r\n            headers: { 'Content-Type': 'application/json' }, \r\n            response: true, \r\n            queryStringParameters: {  \r\n                'param1': 'type1'\r\n            },\r\n        };\r\n        /*\r\n            const { data: { body } } = error.response;\r\n            console.log(body);\r\n        */\r\n\r\n        API\r\n        .get(apiName, path, myInit)\r\n        .then(response => {\r\n            console.log(\"GOOD CALL, Response: \", response);\r\n        })\r\n        .catch(error => {\r\n            const { data: { body } } = error.response;\r\n            console.log(body);\r\n        });\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\nat node_modules/axios/lib/core/createError.js:15:17 in createError\r\nat node_modules/axios/lib/adapters/xhr.js:96:22 in handleError\r\nat node_modules/react-native/Libraries/Network/XMLHttpRequest.js:600:10 in setReadyState\r\nat node_modules/react-native/Libraries/Network/XMLHttpRequest.js:395:6 in __didCompleteResponse\r\nat node_modules/react-native/Libraries/vendor/emitter/EventEmitter.js:189:10 in emit\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9273/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9265",
    "id": 1059518419,
    "node_id": "I_kwDOBkswNc4_JvfT",
    "number": 9265,
    "title": "aws-crypto lib: Cannot read properties of undefined (reading 'byteLength')",
    "user": {
      "login": "hisham",
      "id": 81853,
      "node_id": "MDQ6VXNlcjgxODUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/81853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hisham",
      "html_url": "https://github.com/hisham",
      "followers_url": "https://api.github.com/users/hisham/followers",
      "following_url": "https://api.github.com/users/hisham/following{/other_user}",
      "gists_url": "https://api.github.com/users/hisham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hisham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hisham/subscriptions",
      "organizations_url": "https://api.github.com/users/hisham/orgs",
      "repos_url": "https://api.github.com/users/hisham/repos",
      "events_url": "https://api.github.com/users/hisham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hisham/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 845261176,
        "node_id": "MDU6TGFiZWw4NDUyNjExNzY=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/API",
        "name": "API",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to GraphQL/Rest issues"
      },
      {
        "id": 951723134,
        "node_id": "MDU6TGFiZWw5NTE3MjMxMzQ=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Angular",
        "name": "Angular",
        "color": "dd0031",
        "default": false,
        "description": "Related to Angular 2+"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-11-21T23:27:33Z",
    "updated_at": "2022-01-05T22:15:01Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nAngular\r\n\r\n### Amplify APIs\r\n\r\nREST API\r\n\r\n### Amplify Categories\r\n\r\napi\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n  System:\r\n    OS: macOS 11.5.2\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-8850H CPU @ 2.60GHz\r\n    Memory: 4.81 GB / 32.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.15.3 - ~/.nvm/versions/node/v14.15.3/bin/node\r\n    npm: 7.19.1 - ~/.nvm/versions/node/v14.15.3/bin/npm\r\n    Watchman: 2021.10.04.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.55\r\n    Edge: 95.0.1020.53\r\n    Firefox: 94.0.1\r\n    Safari: 14.1.2\r\n  npmPackages:\r\n    @angular-builders/custom-webpack: ^12.1.0 => 12.1.0 \r\n    @angular-devkit/build-angular: ^12.1.1 => 12.1.1 \r\n    @angular-eslint/builder: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/eslint-plugin: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/eslint-plugin-template: ^12.0.0 => 12.2.0 \r\n    @angular-eslint/schematics: 12.2.0 => 12.2.0 \r\n    @angular-eslint/template-parser: ^12.0.0 => 12.2.0 \r\n    @angular/animations: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/animations/browser:  undefined ()\r\n    @angular/animations/browser/testing:  undefined ()\r\n    @angular/cdk: ^12.1.1 => 12.1.1 \r\n    @angular/cdk/a11y:  undefined ()\r\n    @angular/cdk/accordion:  undefined ()\r\n    @angular/cdk/bidi:  undefined ()\r\n    @angular/cdk/clipboard:  undefined ()\r\n    @angular/cdk/coercion:  undefined ()\r\n    @angular/cdk/collections:  undefined ()\r\n    @angular/cdk/drag-drop:  undefined ()\r\n    @angular/cdk/keycodes:  undefined ()\r\n    @angular/cdk/layout:  undefined ()\r\n    @angular/cdk/observers:  undefined ()\r\n    @angular/cdk/overlay:  undefined ()\r\n    @angular/cdk/platform:  undefined ()\r\n    @angular/cdk/portal:  undefined ()\r\n    @angular/cdk/scrolling:  undefined ()\r\n    @angular/cdk/stepper:  undefined ()\r\n    @angular/cdk/table:  undefined ()\r\n    @angular/cdk/testing:  undefined ()\r\n    @angular/cdk/testing/protractor:  undefined ()\r\n    @angular/cdk/testing/selenium-webdriver:  undefined ()\r\n    @angular/cdk/testing/testbed:  undefined ()\r\n    @angular/cdk/text-field:  undefined ()\r\n    @angular/cdk/tree:  undefined ()\r\n    @angular/cli: ~12.1.1 => 12.1.1 \r\n    @angular/common: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/common/http:  undefined ()\r\n    @angular/common/http/testing:  undefined ()\r\n    @angular/common/testing:  undefined ()\r\n    @angular/common/upgrade:  undefined ()\r\n    @angular/compiler: ~12.1.1 => 12.1.1 \r\n    @angular/compiler-cli: ^12.1.1 => 12.1.1 \r\n    @angular/compiler/testing:  undefined ()\r\n    @angular/core: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/core/testing:  undefined ()\r\n    @angular/elements: ~12.1.1 => 12.1.1 \r\n    @angular/forms: ~12.1.1 => 12.1.1 \r\n    @angular/material: ^12.1.1 => 12.1.1 \r\n    @angular/material/autocomplete:  undefined ()\r\n    @angular/material/autocomplete/testing:  undefined ()\r\n    @angular/material/badge:  undefined ()\r\n    @angular/material/badge/testing:  undefined ()\r\n    @angular/material/bottom-sheet:  undefined ()\r\n    @angular/material/bottom-sheet/testing:  undefined ()\r\n    @angular/material/button:  undefined ()\r\n    @angular/material/button-toggle:  undefined ()\r\n    @angular/material/button-toggle/testing:  undefined ()\r\n    @angular/material/button/testing:  undefined ()\r\n    @angular/material/card:  undefined ()\r\n    @angular/material/card/testing:  undefined ()\r\n    @angular/material/checkbox:  undefined ()\r\n    @angular/material/checkbox/testing:  undefined ()\r\n    @angular/material/chips:  undefined ()\r\n    @angular/material/chips/testing:  undefined ()\r\n    @angular/material/core:  undefined ()\r\n    @angular/material/core/testing:  undefined ()\r\n    @angular/material/datepicker:  undefined ()\r\n    @angular/material/datepicker/testing:  undefined ()\r\n    @angular/material/dialog:  undefined ()\r\n    @angular/material/dialog/testing:  undefined ()\r\n    @angular/material/divider:  undefined ()\r\n    @angular/material/divider/testing:  undefined ()\r\n    @angular/material/expansion:  undefined ()\r\n    @angular/material/expansion/testing:  undefined ()\r\n    @angular/material/form-field:  undefined ()\r\n    @angular/material/form-field/testing:  undefined ()\r\n    @angular/material/form-field/testing/control:  undefined ()\r\n    @angular/material/grid-list:  undefined ()\r\n    @angular/material/grid-list/testing:  undefined ()\r\n    @angular/material/icon:  undefined ()\r\n    @angular/material/icon/testing:  undefined ()\r\n    @angular/material/input:  undefined ()\r\n    @angular/material/input/testing:  undefined ()\r\n    @angular/material/list:  undefined ()\r\n    @angular/material/list/testing:  undefined ()\r\n    @angular/material/menu:  undefined ()\r\n    @angular/material/menu/testing:  undefined ()\r\n    @angular/material/paginator:  undefined ()\r\n    @angular/material/paginator/testing:  undefined ()\r\n    @angular/material/progress-bar:  undefined ()\r\n    @angular/material/progress-bar/testing:  undefined ()\r\n    @angular/material/progress-spinner:  undefined ()\r\n    @angular/material/progress-spinner/testing:  undefined ()\r\n    @angular/material/radio:  undefined ()\r\n    @angular/material/radio/testing:  undefined ()\r\n    @angular/material/select:  undefined ()\r\n    @angular/material/select/testing:  undefined ()\r\n    @angular/material/sidenav:  undefined ()\r\n    @angular/material/sidenav/testing:  undefined ()\r\n    @angular/material/slide-toggle:  undefined ()\r\n    @angular/material/slide-toggle/testing:  undefined ()\r\n    @angular/material/slider:  undefined ()\r\n    @angular/material/slider/testing:  undefined ()\r\n    @angular/material/snack-bar:  undefined ()\r\n    @angular/material/snack-bar/testing:  undefined ()\r\n    @angular/material/sort:  undefined ()\r\n    @angular/material/sort/testing:  undefined ()\r\n    @angular/material/stepper:  undefined ()\r\n    @angular/material/stepper/testing:  undefined ()\r\n    @angular/material/table:  undefined ()\r\n    @angular/material/table/testing:  undefined ()\r\n    @angular/material/tabs:  undefined ()\r\n    @angular/material/tabs/testing:  undefined ()\r\n    @angular/material/toolbar:  undefined ()\r\n    @angular/material/toolbar/testing:  undefined ()\r\n    @angular/material/tooltip:  undefined ()\r\n    @angular/material/tooltip/testing:  undefined ()\r\n    @angular/material/tree:  undefined ()\r\n    @angular/material/tree/testing:  undefined ()\r\n    @angular/platform-browser: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/platform-browser-dynamic: ~12.1.1 => 12.1.1 \r\n    @angular/platform-browser-dynamic/testing:  undefined ()\r\n    @angular/platform-browser/animations:  undefined ()\r\n    @angular/platform-browser/testing:  undefined ()\r\n    @angular/router: ~12.1.1 => 12.1.1 (11.0.3)\r\n    @angular/router/testing:  undefined ()\r\n    @angular/router/upgrade:  undefined ()\r\n    @gammastream/scully-plugin-sitemap: ^1.0.7 => 1.0.7 \r\n    @ng-select/ng-option-highlight: 0.0.6 => 0.0.6 \r\n    @ng-select/ng-select: ^7.1.0 => 7.1.0 \r\n    @ngneat/until-destroy: ^8.0.3 => 8.0.4 \r\n    @scullyio/init: ^1.1.4 => 1.1.4 \r\n    @scullyio/ng-lib: ^1.1.1 => 1.1.1 \r\n    @scullyio/scully: ^1.1.1 => 1.1.1 \r\n    @scullyio/scully-plugin-critical-css: 0.1.1 => 0.1.1 \r\n    @sentry/angular: ^6.13.2 => 6.13.2 \r\n    @sentry/cli: ^1.66.0 => 1.66.0 \r\n    @sentry/tracing: ^6.13.2 => 6.13.2 (5.30.0)\r\n    @types/applepayjs: ^3.0.1 => 3.0.1 \r\n    @types/cheerio: ^0.22.23 => 0.22.29 \r\n    @types/imagemin: ^7.0.0 => 7.0.0 \r\n    @types/imagemin-gifsicle: ^7.0.0 => 7.0.0 \r\n    @types/imagemin-mozjpeg: ^8.0.0 => 8.0.0 \r\n    @types/imagemin-optipng: ^5.2.0 => 5.2.0 \r\n    @types/imagemin-svgo: ^8.0.0 => 8.0.1 \r\n    @types/jasmine: ~3.6.0 => 3.6.11 \r\n    @types/jasminewd2: ~2.0.3 => 2.0.9 \r\n    @types/js-beautify: ^1.13.1 => 1.13.1 \r\n    @types/jsdom: ^16.2.5 => 16.2.12 \r\n    @types/marked: ^1.2.0 => 1.2.2 \r\n    @types/node: 14.0.4 => 14.0.4 \r\n    @types/node-zendesk: ^1.4.0 => 1.4.0 \r\n    @types/yamljs: ^0.2.31 => 0.2.31 \r\n    @typescript-eslint/eslint-plugin: 4.23.0 => 4.23.0 \r\n    @typescript-eslint/parser: 4.23.0 => 4.23.0 (3.10.1)\r\n    angular-cc-library: ^2.1.2 => 2.1.2 \r\n    array-flat-polyfill: ^1.0.1 => 1.0.1 \r\n    aws-amplify: ^4.3.4 => 4.3.4 \r\n    axios: ^0.21.1 => 0.21.4 \r\n    body-parser: ^1.19.0 => 1.19.0 \r\n    cheerio: ^1.0.0-rc.3 => 1.0.0-rc.10 (0.22.0)\r\n    commander: ^2.20.3 => 2.20.3 (4.1.1, 7.2.0, 2.13.0, 6.2.1)\r\n    document-register-element: ^1.7.2 => 1.14.10 \r\n    dotenv-webpack: ^7.0.3 => 7.0.3 \r\n    eslint: ^7.26.0 => 7.30.0 \r\n    eslint-config-prettier: ^8.3.0 => 8.3.0 \r\n    eslint-plugin-import: latest => 2.23.4 \r\n    eslint-plugin-jsdoc: latest => 35.4.1 \r\n    eslint-plugin-prefer-arrow: latest => 1.2.3 \r\n    eslint-plugin-react: latest => 7.24.0 \r\n    example-typescript:  1.0.0 \r\n    fast-xml-parser: ^3.17.6 => 3.19.0 \r\n    folder-hash: ^3.3.0 => 3.3.3 \r\n    fractional: ^1.0.0 => 1.0.0 \r\n    front-matter: ^4.0.2 => 4.0.2 \r\n    fs-extra: ^9.0.0 => 9.1.0 (8.1.0, 1.0.0)\r\n    image-size: ^0.9.7 => 0.9.7 (0.5.5, 0.6.3)\r\n    imagemin: ^7.0.1 => 7.0.1 \r\n    imagemin-gifsicle: ^7.0.0 => 7.0.0 \r\n    imagemin-mozjpeg: ^9.0.0 => 9.0.0 \r\n    imagemin-optipng: ^8.0.0 => 8.0.0 \r\n    imagemin-svgo: ^8.0.0 => 8.0.0 \r\n    jasmine-core: ~3.6.0 => 3.6.0 (2.8.0)\r\n    jasmine-spec-reporter: ~5.0.0 => 5.0.2 \r\n    js-beautify: ^1.13.0 => 1.14.0 \r\n    js-yaml-loader: ^1.2.2 => 1.2.2 \r\n    json_encode: ^0.1.0 => 0.1.0 \r\n    karma: ~6.3.4 => 6.3.4 \r\n    karma-chrome-launcher: ~3.1.0 => 3.1.0 \r\n    karma-coverage-istanbul-reporter: ~3.0.2 => 3.0.3 \r\n    karma-jasmine: ~4.0.0 => 4.0.1 \r\n    karma-jasmine-html-reporter: ^1.5.0 => 1.6.0 \r\n    lib:  0.0.1 \r\n    libphonenumber-js: ^1.8.3 => 1.9.20 \r\n    libphonenumber-js-core:  1.0.0 \r\n    libphonenumber-js-max:  1.0.0 \r\n    libphonenumber-js-min:  1.0.0 \r\n    libphonenumber-js-mobile:  1.0.0 \r\n    lodash-es: ^4.17.15 => 4.17.21 \r\n    lodash.merge: ^4.6.2 => 4.6.2 \r\n    lodash.snakecase: ^4.1.1 => 4.1.1 \r\n    marked: ^1.2.5 => 1.2.9 (2.1.3)\r\n    ng2-pdf-viewer: ^6.3.2 => 6.4.1 \r\n    ngx-build-plus: ^12.0.1 => 12.0.1 \r\n    ngx-webcam: ^0.3.2 => 0.3.2 \r\n    node-example:  1.0.0 \r\n    object.fromentries: ^2.0.2 => 2.0.4 \r\n    prettier-eslint: ^12.0.0 => 12.0.0 \r\n    prompt-sync: ^4.2.0 => 4.2.0 \r\n    protractor: ~7.0.0 => 7.0.0 \r\n    protractor-example:  1.0.0 \r\n    rxjs: ~6.6.6 => 6.6.7 (6.4.0, 6.5.4)\r\n    rxjs/ajax:  undefined ()\r\n    rxjs/fetch:  undefined ()\r\n    rxjs/internal-compatibility:  undefined ()\r\n    rxjs/operators:  undefined ()\r\n    rxjs/testing:  undefined ()\r\n    rxjs/webSocket:  undefined ()\r\n    s-ago: ^2.2.0 => 2.2.0 \r\n    scully-plugin-minify-html: ^6.0.0 => 6.0.0 \r\n    stripe: ^8.169.0 => 8.169.0 \r\n    svg-inline-loader: ^0.8.2 => 0.8.2 \r\n    tmp: ^0.1.0 => 0.1.0 (0.2.1, 0.0.33, 0.0.30)\r\n    ts-node: ~8.3.0 => 8.3.0 (10.0.0)\r\n    tslib: ^2.0.0 => 2.3.0 (1.14.1)\r\n    typescript: ~4.3.5 => 4.3.5 (4.3.4, 3.9.10)\r\n    typescript-example:  1.0.0 \r\n    uuid: ^8.3.1 => 8.3.2 (3.4.0)\r\n    webpack-bundle-analyzer: ^4.4.2 => 4.4.2 \r\n    which: ^2.0.2 => 2.0.2 (1.3.1)\r\n    xmlbuilder: ^15.1.1 => 15.1.1 (9.0.7, 11.0.1)\r\n    yamljs: ^0.3.0 => 0.3.0 \r\n    zone-mix:  undefined ()\r\n    zone-node:  undefined ()\r\n    zone-testing:  undefined ()\r\n    zone.js: ~0.11.4 => 0.11.4 (0.10.3)\r\n    zone.js/async-test:  undefined ()\r\n    zone.js/async-test.min:  undefined ()\r\n    zone.js/fake-async-test:  undefined ()\r\n    zone.js/fake-async-test.min:  undefined ()\r\n    zone.js/jasmine-patch:  undefined ()\r\n    zone.js/jasmine-patch.min:  undefined ()\r\n    zone.js/long-stack-trace-zone:  undefined ()\r\n    zone.js/long-stack-trace-zone.min:  undefined ()\r\n    zone.js/mocha-patch:  undefined ()\r\n    zone.js/mocha-patch.min:  undefined ()\r\n    zone.js/proxy:  undefined ()\r\n    zone.js/proxy.min:  undefined ()\r\n    zone.js/sync-test:  undefined ()\r\n    zone.js/sync-test.min:  undefined ()\r\n    zone.js/task-tracking:  undefined ()\r\n    zone.js/task-tracking.min:  undefined ()\r\n    zone.js/webapis-media-query:  undefined ()\r\n    zone.js/webapis-media-query.min:  undefined ()\r\n    zone.js/webapis-notification:  undefined ()\r\n    zone.js/webapis-notification.min:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection:  undefined ()\r\n    zone.js/webapis-rtc-peer-connection.min:  undefined ()\r\n    zone.js/webapis-shadydom:  undefined ()\r\n    zone.js/webapis-shadydom.min:  undefined ()\r\n    zone.js/wtf:  undefined ()\r\n    zone.js/wtf.min:  undefined ()\r\n    zone.js/zone-bluebird:  undefined ()\r\n    zone.js/zone-bluebird.min:  undefined ()\r\n    zone.js/zone-error:  undefined ()\r\n    zone.js/zone-error.min:  undefined ()\r\n    zone.js/zone-legacy:  undefined ()\r\n    zone.js/zone-legacy.min:  undefined ()\r\n    zone.js/zone-patch-canvas:  undefined ()\r\n    zone.js/zone-patch-canvas.min:  undefined ()\r\n    zone.js/zone-patch-cordova:  undefined ()\r\n    zone.js/zone-patch-cordova.min:  undefined ()\r\n    zone.js/zone-patch-electron:  undefined ()\r\n    zone.js/zone-patch-electron.min:  undefined ()\r\n    zone.js/zone-patch-fetch:  undefined ()\r\n    zone.js/zone-patch-fetch.min:  undefined ()\r\n    zone.js/zone-patch-jsonp:  undefined ()\r\n    zone.js/zone-patch-jsonp.min:  undefined ()\r\n    zone.js/zone-patch-message-port:  undefined ()\r\n    zone.js/zone-patch-message-port.min:  undefined ()\r\n    zone.js/zone-patch-promise-test:  undefined ()\r\n    zone.js/zone-patch-promise-test.min:  undefined ()\r\n    zone.js/zone-patch-resize-observer:  undefined ()\r\n    zone.js/zone-patch-resize-observer.min:  undefined ()\r\n    zone.js/zone-patch-rxjs:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async:  undefined ()\r\n    zone.js/zone-patch-rxjs-fake-async.min:  undefined ()\r\n    zone.js/zone-patch-rxjs.min:  undefined ()\r\n    zone.js/zone-patch-socket-io:  undefined ()\r\n    zone.js/zone-patch-socket-io.min:  undefined ()\r\n    zone.js/zone-patch-user-media:  undefined ()\r\n    zone.js/zone-patch-user-media.min:  undefined ()\r\n  npmGlobalPackages:\r\n    @angular/cli: 12.1.1\r\n    @aws-amplify/cli: 7.4.4\r\n    firebase-tools: 9.8.0\r\n    local-web-server: 4.2.1\r\n    npm: 7.19.1\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nSentry in my web app is reporting the following error on a few Android devices: \"Uncaught (in promise): TypeError: Cannot read properties of undefined (reading 'byteLength')\r\nTypeError: Cannot read properties of undefined (reading 'byteLength')\"\r\n\r\nIt seems this error is thrown when the device has network issues - a bunch of get rest api and cognito requests return http status 0 sentry shows (no response). \r\n\r\nIt seems isEmptyData in the aws-crypto lib should handle the case where data is undefined and return true for that as well. \r\n\r\n```\r\nexports.isEmptyData = void 0;\r\nfunction isEmptyData(data) {\r\n    if (typeof data === \"string\") {\r\n        return data.length === 0;\r\n    }\r\n\r\n    return data.byteLength === 0;\r\n}\r\n```\r\n\r\n\r\n![Error: Uncaught (in promise): TypeError: Cannot read properties of undefined (reading 'byteLength') TypeError: Cannot read prop 2021-11-21 16-19-54](https://user-images.githubusercontent.com/81853/142783200-400af5bd-d59b-4c52-af6e-1d067dd53a20.png)\r\n\r\n\r\n\r\n### Expected behavior\r\n\r\nCode shouldn't fail if there is network issue. \r\n\r\n### Reproduction steps\r\n\r\nUnknown, I just see the error in Sentry (3 users so far), and they are all running Android. \r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\n_No response_\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9265/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9260",
    "id": 1058890570,
    "node_id": "I_kwDOBkswNc4_HWNK",
    "number": 9260,
    "title": "Browser Extension Support (Auth)",
    "user": {
      "login": "revmischa",
      "id": 245131,
      "node_id": "MDQ6VXNlcjI0NTEzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/245131?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/revmischa",
      "html_url": "https://github.com/revmischa",
      "followers_url": "https://api.github.com/users/revmischa/followers",
      "following_url": "https://api.github.com/users/revmischa/following{/other_user}",
      "gists_url": "https://api.github.com/users/revmischa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/revmischa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/revmischa/subscriptions",
      "organizations_url": "https://api.github.com/users/revmischa/orgs",
      "repos_url": "https://api.github.com/users/revmischa/repos",
      "events_url": "https://api.github.com/users/revmischa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/revmischa/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 772605649,
        "node_id": "MDU6TGFiZWw3NzI2MDU2NDk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/feature-request",
        "name": "feature-request",
        "color": "6f8dfc",
        "default": false,
        "description": "Request a new feature"
      },
      {
        "id": 845261099,
        "node_id": "MDU6TGFiZWw4NDUyNjEwOTk=",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/Auth",
        "name": "Auth",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to Auth components/category"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "evcodes",
        "id": 22283303,
        "node_id": "MDQ6VXNlcjIyMjgzMzAz",
        "avatar_url": "https://avatars.githubusercontent.com/u/22283303?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/evcodes",
        "html_url": "https://github.com/evcodes",
        "followers_url": "https://api.github.com/users/evcodes/followers",
        "following_url": "https://api.github.com/users/evcodes/following{/other_user}",
        "gists_url": "https://api.github.com/users/evcodes/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/evcodes/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/evcodes/subscriptions",
        "organizations_url": "https://api.github.com/users/evcodes/orgs",
        "repos_url": "https://api.github.com/users/evcodes/repos",
        "events_url": "https://api.github.com/users/evcodes/events{/privacy}",
        "received_events_url": "https://api.github.com/users/evcodes/received_events",
        "type": "User",
        "site_admin": false
      },
      {
        "login": "ashika01",
        "id": 35131273,
        "node_id": "MDQ6VXNlcjM1MTMxMjcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/35131273?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ashika01",
        "html_url": "https://github.com/ashika01",
        "followers_url": "https://api.github.com/users/ashika01/followers",
        "following_url": "https://api.github.com/users/ashika01/following{/other_user}",
        "gists_url": "https://api.github.com/users/ashika01/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ashika01/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ashika01/subscriptions",
        "organizations_url": "https://api.github.com/users/ashika01/orgs",
        "repos_url": "https://api.github.com/users/ashika01/repos",
        "events_url": "https://api.github.com/users/ashika01/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ashika01/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2021-11-19T20:24:16Z",
    "updated_at": "2022-01-04T07:56:05Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\n\n\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\n\n### JavaScript Framework\n\nReact, Not applicable\n\n### Amplify APIs\n\nAuthentication\n\n### Amplify Categories\n\nauth\n\n### Environment information\n\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### Describe the bug\n\nI am building a chrome extension that uses Cognito to authenticate AppSync requests. I want to sync auth state inside my extension with the state on my website. I'm more or less able to do this with web extension manifest v2.\r\n\r\nI'm unable to build a \"modern\" extension with Amplify Auth though because in [manifest v3 you must use Service Workers](https://developer.chrome.com/docs/extensions/mv3/intro/mv3-overview/#service-workers).\r\n\r\nWhen I import Amplify Auth into a Service Worker it throws this error: `\"Not supported\"`\r\nFrom here:\r\nhttps://github.com/aws-amplify/amplify-js/blob/df95ea3724eb6406f64b03f25086cd3e8644cb5f/packages/auth/src/urlListener.ts#L24\r\n\r\nThe reason is because the Service Worker context is not a web page nor node. It doesn't have `window.location`\r\n\r\n\r\nNow I'm sure Amplify can do most of what it needs to do without `window.location`. I am able to work around this if I set:\r\n```ts\r\nglobal.window = self;\r\nglobal.document = {\r\n  // fool amplify\r\n  location: new URL(\"http://foo.com\") as unknown as Document[\"location\"],\r\n} as Document;\r\n```\r\n\r\nAlso in my webpack config I need to set:\r\n```ts\r\n output: {\r\n    // no 'window'\r\n    globalObject: \"self\",\r\n}\r\n```\n\n### Expected behavior\n\nDon't explode if window.location is unavailable. \r\n\r\nIdeally use `self` instead of `window` or `this` - see https://developer.mozilla.org/en-US/docs/Web/API/Window/self\n\n### Reproduction steps\n\nCreate manifest v3 browser extension and `import { Auth } from \"aws-amplify\"`\n\n### Code Snippet\n\n```javascript\r\n// Put your code below this line.\r\n\r\n```\r\n\n\n### Log output\n\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\n\n### aws-exports.js\n\n_No response_\n\n### Manual configuration\n\n_No response_\n\n### Additional configuration\n\n_No response_\n\n### Mobile Device\n\n_No response_\n\n### Mobile Operating System\n\n_No response_\n\n### Mobile Browser\n\n_No response_\n\n### Mobile Browser Version\n\n_No response_\n\n### Additional information and screenshots\n\n_No response_",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9260/timeline",
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255",
    "repository_url": "https://api.github.com/repos/aws-amplify/amplify-js",
    "labels_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255/labels{/name}",
    "comments_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255/comments",
    "events_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255/events",
    "html_url": "https://github.com/aws-amplify/amplify-js/issues/9255",
    "id": 1058378177,
    "node_id": "I_kwDOBkswNc4_FZHB",
    "number": 9255,
    "title": "Datastore throws duplicate subscriptions - Intermittent",
    "user": {
      "login": "Akash-T2S",
      "id": 39513832,
      "node_id": "MDQ6VXNlcjM5NTEzODMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/39513832?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Akash-T2S",
      "html_url": "https://github.com/Akash-T2S",
      "followers_url": "https://api.github.com/users/Akash-T2S/followers",
      "following_url": "https://api.github.com/users/Akash-T2S/following{/other_user}",
      "gists_url": "https://api.github.com/users/Akash-T2S/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Akash-T2S/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Akash-T2S/subscriptions",
      "organizations_url": "https://api.github.com/users/Akash-T2S/orgs",
      "repos_url": "https://api.github.com/users/Akash-T2S/repos",
      "events_url": "https://api.github.com/users/Akash-T2S/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Akash-T2S/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 1715308886,
        "node_id": "MDU6TGFiZWwxNzE1MzA4ODg2",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/DataStore",
        "name": "DataStore",
        "color": "bfd4f2",
        "default": false,
        "description": "Related to DataStore category"
      },
      {
        "id": 3188233958,
        "node_id": "MDU6TGFiZWwzMTg4MjMzOTU4",
        "url": "https://api.github.com/repos/aws-amplify/amplify-js/labels/pending-triage",
        "name": "pending-triage",
        "color": "fef2c0",
        "default": false,
        "description": "Issue is pending triage"
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "chrisbonifacio",
      "id": 16952986,
      "node_id": "MDQ6VXNlcjE2OTUyOTg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrisbonifacio",
      "html_url": "https://github.com/chrisbonifacio",
      "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
      "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
      "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
      "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
      "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "chrisbonifacio",
        "id": 16952986,
        "node_id": "MDQ6VXNlcjE2OTUyOTg2",
        "avatar_url": "https://avatars.githubusercontent.com/u/16952986?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chrisbonifacio",
        "html_url": "https://github.com/chrisbonifacio",
        "followers_url": "https://api.github.com/users/chrisbonifacio/followers",
        "following_url": "https://api.github.com/users/chrisbonifacio/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrisbonifacio/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chrisbonifacio/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrisbonifacio/subscriptions",
        "organizations_url": "https://api.github.com/users/chrisbonifacio/orgs",
        "repos_url": "https://api.github.com/users/chrisbonifacio/repos",
        "events_url": "https://api.github.com/users/chrisbonifacio/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chrisbonifacio/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2021-11-19T10:30:27Z",
    "updated_at": "2021-12-03T21:14:22Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "### Before opening, please confirm:\r\n\r\n\r\n- [X] I have [searched for duplicate or closed issues](https://github.com/aws-amplify/amplify-js/issues?q=is%3Aissue+) and [discussions](https://github.com/aws-amplify/amplify-js/discussions).\r\n- [X] I have read the guide for [submitting bug reports](https://github.com/aws-amplify/amplify-js/blob/main/CONTRIBUTING.md#bug-reports).\r\n- [X] I have done my best to include a minimal, self-contained set of instructions for consistently reproducing the issue.\r\n\r\n### JavaScript Framework\r\n\r\nReact Native\r\n\r\n### Amplify APIs\r\n\r\nDataStore\r\n\r\n### Amplify Categories\r\n\r\nstorage, interactions, predictions\r\n\r\n### Environment information\r\n\r\n<details>\r\n\r\n```\r\n# Put output below this line\r\n\r\nSystem:\r\n    OS: macOS 11.2.3\r\n    CPU: (4) x64 Intel(R) Core(TM) i7-7660U CPU @ 2.50GHz\r\n    Memory: 23.93 MB / 16.00 GB\r\n    Shell: 5.8 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.17.0 - /usr/local/bin/node\r\n    Yarn: 1.22.5 - /usr/local/bin/yarn\r\n    npm: 6.14.13 - /usr/local/bin/npm\r\n    Watchman: 4.9.0 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 96.0.4664.55\r\n    Safari: 14.0.3\r\n  npmPackages:\r\n    amazon-cognito-identity-js: 5.0.4 => 5.0.4 (5.1.1)\r\n    aws-amplify: 4.2.10 => 4.2.10 \r\n    aws-amplify-react-native: 5.0.3 => 5.0.3 \r\n    axios: 0.21.1 => 0.21.1 (0.21.4)\r\n    eslint: 7.15.0 => 7.15.0 \r\n    eslint-config-prettier: 7.0.0 => 7.0.0 (6.15.0)\r\n    eslint-plugin-jest: 24.1.3 => 24.1.3 (22.4.1)\r\n    eslint-plugin-prettier: 3.2.0 => 3.2.0 (3.1.2)\r\n    eslint-plugin-react: 7.21.5 => 7.21.5 \r\n    file-loader: 6.2.0 => 6.2.0 \r\n    file-saver: 2.0.5 => 2.0.5 \r\n    react: 16.13.1 => 16.13.1 \r\n    react-native: 0.63.4 => 0.63.4 \r\n    react-datetime: 3.1.1 => 3.1.1 \r\n    react-devtools: 4.14.0 => 4.14.0 \r\n    react-dom: 17.0.2 => 17.0.2 \r\n    hermes-inspector-msggen:  1.0.0 \r\n    html-webpack-plugin: 5.3.2 => 5.3.2 \r\n    husky: 4.3.8 => 4.3.8 \r\n    lint-staged: 10.5.3 => 10.5.3 \r\n    localforage: 1.10.0 => 1.10.0 \r\n    lodash: 4.17.20 => 4.17.20 (4.17.21)\r\n    lottie-ios: 3.2.3 => 3.2.3 (3.1.8)\r\n    lottie-react-native: 4.0.3 => 4.0.3 \r\n    md5: 2.3.0 => 2.3.0 \r\n    rn-fetch-blob: 0.12.0 => 0.12.0 \r\n    rn-placeholder: 3.0.3 => 3.0.3 \r\n  npmGlobalPackages:\r\n    @aws-amplify/cli: 5.0.0\r\n    code-push-cli: 2.1.9\r\n    expo-cli: 4.7.2\r\n    n: 7.3.0\r\n    node-pre-gyp: 0.17.0\r\n    npm-check-updates: 4.0.4\r\n    npm: 6.14.13\r\n    react-native-cli: 2.0.1\r\n```\r\n\r\n</details>\r\n\r\n\r\n### Describe the bug\r\n\r\nI have a application which uses Datastore for real time updates, The intermittent issue is the subscription gets duplicated when I receive from Datastore.observe. There is no internet interruption while this issue occurs. Also, while debugging with \"    Amplify.Logger.LOG_LEVEL = 'DEBUG';\" There is no duplication subscription in console whereas the duplication occurs when I receive message from Datastore.observe.\r\n\r\n### Expected behavior\r\n\r\nThrough DataStore.observe I shouldn't receive duplicate subscription.\r\n\r\n### Reproduction steps\r\n\r\n1) Sync items from Datastore\r\n2) Do multiple manipulation for different items through Datastore.Save.\r\n3) Multiple subscriptions will get triggered.\r\n4) Check subscriptions where fews subscriptions get duplicated where the _version and _lastChangedAt are same.\r\n\r\n### Code Snippet\r\n\r\n```javascript\r\n// Put your code below this line.\r\n\r\n\r\n DataStore.configure({\r\n            syncExpressions: [\r\n                syncExpression(Order, (order) =>\r\n                    order.storeId('eq', storeId).deliveryAt('ge', '2021:11:19 05:00:00')\r\n                )\r\n            ],\r\n            syncPageSize: 500,\r\n            maxRecordsToSync: 100000\r\n        });\r\n\r\n orderSubscription = DataStore.observe(Order).subscribe(\r\n            (msg) => {\r\n               // Duplication msg arrives here.\r\n                reactotron.log('msg', msg);\r\n            },\r\n            (err) => {}\r\n        );\r\n```\r\n\r\n\r\n### Log output\r\n\r\n<details>\r\n\r\n```\r\n// Put your logs below this line\r\n\r\n\r\n```\r\n\r\n</details>\r\n\r\n\r\n### aws-exports.js\r\n\r\n_No response_\r\n\r\n### Manual configuration\r\n\r\n_No response_\r\n\r\n### Additional configuration\r\n\r\n_No response_\r\n\r\n### Mobile Device\r\n\r\niOS Simulator\r\nReproduced in Android Physical device as well\r\n\r\n### Mobile Operating System\r\n\r\n_No response_\r\n\r\n### Mobile Browser\r\n\r\n_No response_\r\n\r\n### Mobile Browser Version\r\n\r\n_No response_\r\n\r\n### Additional information and screenshots\r\n\r\n<img width=\"1134\" alt=\"Screenshot 2021-11-19 at 3 59 51 PM\" src=\"https://user-images.githubusercontent.com/39513832/142607976-dcec721a-6a10-44de-9451-384022e8074b.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/aws-amplify/amplify-js/issues/9255/timeline",
    "performed_via_github_app": null
  }
]
